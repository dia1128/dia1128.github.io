;/*FB_PKG_DELIM*/

__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7058137394213062"}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookProactiveWarningFlowTriggerRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters","JSResourceForInteraction","React","WebPixelRatio","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";c("React");a={getPreloadProps:function(a){return{queries:{reference:{parameters:c("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters"),variables:{input:babelHelpers["extends"]({},a,{nt_context:null,trigger_session_id:c("uuidv4")()}),scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometIXTFacebookProactiveWarningFlowTriggerRoot.react").__setRef("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint")};b=a;g["default"]=b}),98);
__d("useIXTProactiveWarningFlowTriggerDialog",["cr:2998","cr:3116"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:3116")(b("cr:2998"),a)}g["default"]=a}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithJID",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("wa_jid",a[0]),d[1]=d[0].get("wa_jid"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,556]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var g=a.done;a=a.value;return g?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",c.i64.cast([0,73]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0])))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchBanners",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_fetch_activity_banners_queue",c.i64.cast([0,72]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSClearReactionsV2DetailsAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(239).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(243).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.ftr(c.db.table(243).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(a[0],b.threadId)&&a[1]===b.messageId&&c.i64.eq(a[2],b.reactionFbid)}).next().then(function(b,d){var e=b.done;b=b.value;return e?c.db.table(243).add({threadId:a[0],messageId:a[1],reactionFbid:c.i64.cast([0,0]),minTimestampMs:c.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:c.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(d=b.item,c.fe(c.db.table(243).fetch([[[d.threadId,d.messageId,d.reactionFbid,d.minTimestampMs]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})}))})},function(e){return d[1]=new c.Map(),d[1].set("thread_id",a[0]),d[1].set("message_id",a[1]),d[1].set("reaction_fbid",a[2]),d[1].set("cursor",a[3]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",c.i64.cast([0,577]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),f)}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSReportThreadViewOpen",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_stale",!1),d[0].set("client_seq_id",c.i64.cast([0,0])),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["report_thread_view_open","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,605]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSSetProactiveWarningDismissTime",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[0]=d[7])})},function(e){return d[2]=c.i64.of_float(Date.now()),d[6]=c.i64.div(d[2],c.i64.cast([0,1e3])),d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("timestamp",d[6]),d[3].set("sync_group",d[0]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,438]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({proactiveWarningDismissTime:d[6]})})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[5]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[4],d[5],f,f)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"marketplace_server_mutation_cta",c.i64.cast([0,279]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"ctm_ad_context",c.i64.cast([0,235]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return c.db.table(183).fetch([[[a[0]]]]).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return d[2]=c.i64.cast([0,1])}]):(g=e.item,c.seq([function(e){return d[5]=g.nextCheckTimestampMs,d[4]=c.i64.of_float(Date.now()),c.i64.neq(d[5],f)&&c.i64.ge(d[4],d[5])?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[7]=new c.Map(),d[7].set("thread_key",a[0]),d[7].set("sync_group",d[0]),d[8]=c.toJSON(d[7]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[8],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return d[6]=c.i64.cast([0,1])}]):c.resolve((c.i64.neq(d[5],f)&&g.tag!==f?d[7]=c.i64.cast([0,2]):d[7]=c.i64.cast([0,3]),d[6]=d[7]))},function(a){return d[2]=d[6]}]))})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(b){return d[2]=["typing","_",c.i64.to_string(a[0])].join(""),c.fe(c.ftr(c.db.table(5).fetch(),function(a){return d[2]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_group_thread",a[1]),d[0].set("is_typing",a[2]),d[0].set("attribution",c.i64.cast([0,0])),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),d[2],c.i64.cast([0,3]),d[1])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5436864742990701"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5046975135324826"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWComposerXacDisclosureRelayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5305811016137974"}),null);
__d("MWComposerXacDisclosureRelayQuery.graphql",["MWComposerXacDisclosureRelayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWComposerXacDisclosureRelayQuery",fragmentName:"MWComposerXacDisclosureView_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MWComposerXacDisclosureRelayQuery_facebookRelayOperation"),metadata:{},name:"MWComposerXacDisclosureRelayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:"5936148239732069",metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9239132382826813"}),null);
__d("MWQuickPromotionThreadViewBannerContainerQuery.graphql",["MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"fb_group_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"trigger"}],c=[{kind:"Literal",name:"surface_nux_id",value:10999},{kind:"Variable",name:"trigger",variableName:"trigger"},{fields:[{fields:[{kind:"Variable",name:"fb_group_id",variableName:"fb_group_id"},{kind:"Variable",name:"thread_id",variableName:"thread_id"}],kind:"ObjectValue",name:"community_messaging_context"}],kind:"ObjectValue",name:"trigger_context_v2"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWQuickPromotionThreadViewBanner_eligiblePromotions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["CometQuickPromotionInboxThreadViewBannerRendererStrategy","CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy"]}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:["CometQuickPromotionInboxThreadViewBannerRendererStrategy","CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy"])'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation"),metadata:{},name:"MWQuickPromotionThreadViewBannerContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBanner_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["CometQuickPromotionInboxThreadViewBannerRendererStrategy","CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy"]}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:["CometQuickPromotionInboxThreadViewBannerRendererStrategy","CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy"])'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4823686477743600"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("MWLSAdContextCtaParser.bs",["JSResourceForInteraction","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useRef;b=new Set(["ads_context"]);function a(){var a=h(null),b=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWCTMAdContextDialog.react").__setRef("MWLSAdContextCtaParser.bs")),d=b[0];return function(b,c){var e=c.ctaType;if(e==="ads_context")return{_0:function(){return d({adId:c.ctaId,onClose:function(){},threadKey:b.banner.threadKey},function(){})},_1:a,TAG:1};else return{_0:void 0,TAG:3}}}g.adContextCta=b;g.useHook=a}),98);
__d("MWLSEnsureAdContextExists.bs",["LSFactory","LSRequestAdContextFromThreadKey","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useEffect;function a(){var a=c("useReStore")(),b=d("MWThreadKey.bs").useIdMemoizedExn();h(function(){var d=a.runInTransaction(function(a){return c("LSRequestAdContextFromThreadKey")(b,c("LSFactory")(a))},"readwrite");c("promiseDone")(d)},[b,a])}g.useHook=a}),98);
__d("MWChatHeaderDetailsSubtitleMutedIcon.react",["fbt","MWXTooltip.react","cr:4426","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.forceInlineDisplay;return i.jsx(c("MWXTooltip.react"),{align:"start",forceInlineDisplay:a===!0?!0:void 0,position:"above",tooltip:h._("__JHASH__XpvJmcPfz_-__JHASH__"),children:i.jsx(b("cr:4426"),{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatRTCButtonIcons.bs",["cr:1755417"],(function(a,b,c,d,e,f,g){"use strict";g.$$Audio=b("cr:1755417").$$Audio,g.Video=b("cr:1755417").Video,g.Info=b("cr:1755417").Info}),98);
__d("MWFDSChatHeaderDetailsSubtitleMutedIcon.react",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("CometTintedIcon.react"),{color:"secondary",icon:d("fbicon")._(h("636130"),12),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TetraMWChatRTCButtonIcons.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return h.jsxs("svg",{height:b,role:"presentation",viewBox:"-5 -5 30 30",width:b,children:[h.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648a15.9 15.9 0 011.713 1.147c.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:a}),h.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648.824.484 1.394.898 1.713 1.147.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:"none",stroke:a})]})}a.displayName=a.name+" [from "+f.id+"]";e={icon:a};function b(a,b,c){c=c!=null?c:!1;var d=c?"-3":"-5";return h.jsxs("svg",{height:b,role:"presentation",viewBox:d+" -5 30 30",width:b,children:[h.jsx("path",{d:"M19.492 4.112a.972.972 0 00-1.01.063l-3.052 2.12a.998.998 0 00-.43.822v5.766a1 1 0 00.43.823l3.051 2.12a.978.978 0 001.011.063.936.936 0 00.508-.829V4.94a.936.936 0 00-.508-.828zM10.996 18A3.008 3.008 0 0014 14.996V5.004A3.008 3.008 0 0010.996 2H3.004A3.008 3.008 0 000 5.004v9.992A3.008 3.008 0 003.004 18h7.992z",fill:a}),c?h.jsx("circle",{className:"x1xgahvj",cx:"24",cy:"10",r:"2"}):null]})}b.displayName=b.name+" [from "+f.id+"]";d={icon:b};function c(a,b){return h.jsx("svg",{height:"24px",name:"icon",role:"presentation",viewBox:"0 0 36 36",width:"24px",children:h.jsx("g",{transform:"translate(18,18)scale(1.2)translate(-18,-18)",children:h.jsx("path",{d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:a,stroke:a},"lens")})})}c.displayName=c.name+" [from "+f.id+"]";a={icon:c};g.$$Audio=e;g.Video=d;g.Info=a}),98);
__d("MWComposerDisclosureContainer.react",["gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={border:{borderTop:"1px solid var(--media-inner-border)"},inner:{margin:"auto",maxWidth:450},inner_new_layout_for_horizontal_buttons:{margin:"auto",maxWidth:1200},root:{color:"var(--secondary-text)",marginTop:"12px",padding:"14px 13px 5px 13px",textAlign:"center"},root_new_layout_for_horizontal_buttons:{borderTop:"1px solid var(--media-inner-border)",color:"var(--secondary-text)",marginTop:"12px",padding:"28px 13px 13px 13px",textAlign:"center"}};function a(a){var b=a.children;a=a.testid;return h.jsx("div",{"data-testid":void 0,style:c("gkx")("6189")?i.root_new_layout_for_horizontal_buttons:i.root,children:h.jsx("div",{style:c("gkx")("6189")?i.inner_new_layout_for_horizontal_buttons:i.inner,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerGroupMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MWComposerDisclosureContainer.react","MWIsXacGroupThread.bs","MWLSThread","MWThreadKey.bs","MWVerticalRhythm","MWXText.react","MessageRequestsLog.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef;function a(a){var b=a.onDeleteConversation;a=a.onLeaveGroup;var e=d("MWThreadKey.bs").useIdMemoizedExn(),f=d("MWLSThread").useThreadExn(e);e=d("MWIsXacGroupThread.bs").check(f);j(function(){d("MessageRequestsLog.bs").logMessageRequestInfoShown(f)},[]);var g=k(null);return i.jsxs(c("MWComposerDisclosureContainer.react"),{testid:void 0,children:[e?i.jsxs(i.Fragment,{children:[i.jsx(c("MWXText.react"),{color:"secondary",type:"entityHeaderMeta3",children:h._("__JHASH__Zo8nGcr-Wbu__JHASH__")}),i.jsx(c("MWVerticalRhythm"),{height:8})]}):null,i.jsxs(c("MWXText.react"),{color:"secondary",type:"body4",children:[e?h._("__JHASH__dGW95F1FSGX__JHASH__"):h._("__JHASH__8Xn13sU52xi__JHASH__"),i.jsx(c("MWVerticalRhythm"),{height:5}),i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onDeleteConversation:b,onLeaveGroup:a},dialogResource:c("JSResourceForInteraction")("MWChatDeclineGroupMessageRequestDialogForJSResource.react").__setRef("MWChatComposerGroupMessageRequestInfoText.bs"),children:function(a){return i.jsx(c("CometPressable.react"),{onPress:function(){d("MessageRequestsLog.bs").logDenialOptionsTapped(f);return a()},overlayDisabled:!0,ref:g,testid:void 0,children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:h._("__JHASH__3yIVRKHeTer__JHASH__")})})}})]})]})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.make=e}),98);
__d("MWChatComposerVoiceIndicator.react",["fbt","CurrentUser","MDSTextPairing.react","MWXText.react","getTopMostRoute","react","useCometRouterState"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.forceShown_TEST_ONLY;a=a===void 0?!1:a;var b=c("useCometRouterState")();b=b!=null?c("getTopMostRoute")(b):null;b=(b=b==null?void 0:b.tracePolicy)!=null?b:null;b=b!==null?b.startsWith("comet.page.admin")||b.startsWith("comet.group.admin"):!1;var d=c("CurrentUser").getName();d=h._("__JHASH__moy48BoqFvP__JHASH__",[h._param("full name",i.jsx(c("MWXText.react"),{type:"meta2",children:d}))]);return b||a?i.jsx("div",{className:"xzg4506 xi81zsa x14vqqas xkrivgy xat24cr x1gryazu xyinxu5 xho0xa1 xs9asl8 x1vobaek",children:i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:d}),level:4,textAlign:"center"})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatHotlikeEmitter.bs",[],(function(a,b,c,d,e,f){"use strict";var g={contents:0};function a(){var a=new Map();return{notify:function(b){a.forEach(function(a,c,d){return a(b)})},subscribe:function(b){var c=g.contents;g.contents=g.contents+1|0;a.set(c,b);return function(){return a["delete"](c)}}}}b=g;c=a;f.i=b;f.createEmitter=c}),66);
__d("MWComposerXacDisclosureRelay.react",["CometPlaceholder.react","CometRelay","MWComposerXacDisclosureRelayQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=8659;function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWComposerXacDisclosureRelayQuery.graphql"),{nux_id:j}),f=e.xacThreadDisclosureNux;return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:f!=null?i.jsx(d("CometRelay").MatchContainer,{match:f,props:{isThreadInNullState:a.isThreadInNullState,nuxKey:e.xacThreadDisclosureNux,size:a.size}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContactDetails.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!=null)return a.name}function b(a){if(a==null)return;var b=a.firstName;if(b!=null)return b;else return a.name}function c(a){if(a!=null)return a.secondaryName}d=a;e=b;a=c;f.getName=d;f.getShortName=e;f.getSecondaryName=a}),66);
__d("MWLSChatComposerUserMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","I64","JSResourceForInteraction","MDSTextPairing.react","MWComposerDisclosureContainer.react","MWContactDetails.bs","MWMessageRequestSharedTexts.bs","MWVerticalRhythm","MWXText.react","MessageRequestsLog.bs","ReQL.bs","ReQLSubscription.bs","isStringNullOrEmpty","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useMemo,l=b.useRef;function a(a){var b=a.onDeleteConversation,e=a.thread;a=d("I64").to_string(e.threadKey);var f=a,g=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(k(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:d("I64").of_string(f),tl:0})},[f,g]),"5n2colzl");var m=d("MWContactDetails.bs").getName(a);m=m!=null?m:h._("__JHASH__AaE4hJExM0x__JHASH__");var n=d("MWContactDetails.bs").getShortName(a);n=n!=null?n:h._("__JHASH__AaE4hJExM0x__JHASH__");a=d("MWContactDetails.bs").getSecondaryName(a);a=c("isStringNullOrEmpty")(a)?void 0:a;var o=a!=null?i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:h._("__JHASH__CEpoRXODTMn__JHASH__")}):null,p=a!=null?m!==a?h._("__JHASH__tV1eV-071mI__JHASH__",[h._param("IGDisplayName",m),h._param("IGUserName",a)]):h._("__JHASH__U6KCI1_eCqE__JHASH__",[h._param("IGUserName",a)]):d("MWMessageRequestSharedTexts.bs").getFBUserInfoTextMessage(m),q=a!=null?m!==a?h._("__JHASH__EaJEM7eOV5r__JHASH__",[h._param("name",m),h._param("username",a)]):h._("__JHASH__X8pIS11uEl0__JHASH__",[h._param("username",a)]):d("MWMessageRequestSharedTexts.bs").getDefaultInfoTextFooter(m),r=l(null);j(function(){d("MessageRequestsLog.bs").logMessageRequestInfoShown(e)},[e]);return i.jsxs(c("MWComposerDisclosureContainer.react"),{testid:void 0,children:[i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:p}),headline:o,level:4,textAlign:"center"}),i.jsx(c("MWVerticalRhythm"),{height:5}),i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onDeleteConversation:b,otherUserFbid:f,otherUserName:m,otherUserSecondaryName:a,otherUserShortName:n},dialogResource:c("JSResourceForInteraction")("MWChatDeclineUserMessageRequestDialogForJSResource.react").__setRef("MWLSChatComposerUserMessageRequestInfoText.bs"),children:function(a){return i.jsx(c("CometPressable.react"),{onPress:function(){d("MessageRequestsLog.bs").logDenialOptionsTapped(e);return a()},overlayDisabled:!0,ref:r,testid:void 0,children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:q})})}})]})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.make=e}),98);
__d("IXTProactiveWarningFollowUpActionsCell.react",["TetraButton.react","react","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:a.context,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"}),d=b[0],e=function(){a.onClose()};return h.jsx(c("TetraButton.react"),{label:a.label,onPress:function(){a.setPWDismissTime(),a.onPress(),d({flowCallbacks:{onClose:e}})},reduceEmphasis:!1,type:"secondary"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2898");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_primary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2899");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_secondary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2900");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_shown",a);e=b;g["default"]=e}),98);
__d("MWLSProactiveWarningTables",["MWPreloadableQueries","MWThreadKey.bs","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWThreadKey.bs").useIdMemoizedExn(),b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getThreadBannerQuery(b,a)},[b,a],f.id+":31"),g=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getProactiveWarningsForThreadQuery(b,a)},[b,a],f.id+":36");return{banner:e,pwSettings:g}}g.useHook=a}),98);
__d("MWProactiveWarningPayload",["I64","Int64Hooks","MWLSProactiveWarningTables","MWThreadKey.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=d("MWThreadKey.bs").useIdMemoizedExn(),e=d("MWLSProactiveWarningTables").useHook(),f=e.banner,g=e.pwSettings,h=b!=null&&d("I64").equal((e=b.proactiveWarningDismissTime)!=null?e:d("I64").zero,d("I64").zero);return d("Int64Hooks").useMemoInt64(function(){if(g==null||f==null)return;var b=g.context,e=g.entryPoint,i=g.storyLocation,j=g.suspectId,k=g.tag,l=f.bannerId,m=f.cta1Title,n=f.cta2Title,o=f.heading,p=f.titleSectionOne;if(!((Boolean(a)||h)&&d("I64").equal(l,d("I64").of_string("7"))))return;if(j!=null&&b!=null&&i!=null&&e!=null&&k!=null&&o!=null&&n!=null&&m!=null&&p!=null)return{context:b,cta1Title:m,cta2Title:n,description:p,falco_event_data:{data:{entry_point:d("I64").to_int32(e),feedback_tags:[k],surface:d("I64").to_int32(i)},impersonatedUser:{id:0},otherUser:{id:d("I64").to_int32(j)},reportedUser:{id:0},thread:{id:d("I64").to_string(c),type:1}},header:o,threadKey:c}},[c,f,g,h,a])}g.useHook=a}),98);
__d("MWPSafetyNoticesChatBlockedComposerDetails.react",["fbt","IXTProactiveWarningFollowUpActionsCell.react","LSFactory","LSSetProactiveWarningDismissTime","LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent","MDSTextPairing.react","MWProactiveWarningPayload","MWThreadKey.bs","MWXText.react","TetraButton.react","promiseDone","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k={button:{width:"x5sxuk9",$$css:!0},buttonsContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",marginTop:"x14vqqas",width:"xh8yej3",$$css:!0},root:{borderTop:"xzg4506",color:"xi81zsa",marginTop:"x14vqqas",paddingTop:"xyinxu5",paddingEnd:"xho0xa1",paddingBottom:"xxbrewl",paddingStart:"x1vobaek",$$css:!0}};function a(a){var b=a.fallback,e=a.onClose;a=a.thread;var f=d("MWProactiveWarningPayload").useHook(void 0,a),g=c("useReStore")(),l=d("MWThreadKey.bs").useIdMemoizedExn();j(function(){f!=null&&c("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent").log(function(){return{data:f.falco_event_data.data,impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}})},[f]);if(f==null)return b;a=h._("__JHASH__I2SwG7QkbS2__JHASH__",[h._param("header value",f.header)]);b=h._("__JHASH__kg4ss1ruH19__JHASH__",[h._param("message value",f.description)]);var m=i.jsx("div",{className:c("stylex")(k.button,!1),children:i.jsx(c("IXTProactiveWarningFollowUpActionsCell.react"),{context:f.context,label:f.cta1Title,onClose:e,onPress:function(){c("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent").log(function(){return{data:f.falco_event_data.data,impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}})},setPWDismissTime:function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTime")(l,c("LSFactory")(a))},"readwrite"),e,e)}})}),n=i.jsx("div",{className:c("stylex")(k.button,!1),children:i.jsx(c("TetraButton.react"),{label:h._("__JHASH__lh-XuPg59Gs__JHASH__",[h._param("CTA text value",f.cta2Title)]),onPress:function(){c("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent").log(function(){return{data:f.falco_event_data.data,impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}}),c("promiseDone")(g.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTime")(f.threadKey,c("LSFactory")(a))},"readwrite"),e,e)},reduceEmphasis:!1,size:"medium",type:"secondary"})});b=i.jsxs(i.Fragment,{children:[i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:b}),headline:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:a}),level:4,textAlign:"center"}),i.jsxs("div",{className:"x78zum5 x1q0g3np x1qughib x14vqqas xh8yej3",children:[m,n]})]});return i.jsx("div",{className:"xzg4506 xi81zsa x14vqqas xyinxu5 xho0xa1 xxbrewl x1vobaek",children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPSafetyNoticesChatBlockedComposer.react",["MWPSafetyNoticesChatBlockedComposerDetails.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.fallback,d=a.onClose;a=a.thread;return h.jsx(c("MWPSafetyNoticesChatBlockedComposerDetails.react"),{fallback:b,onClose:d,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerRoundedCorners.bs",["Locale","react","stylex","useUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={roundedCornerBottomRight:{bottom:"x1ey2m1c",end:"xds687c",fill:"x1g6sh6t",pointerEvents:"x47corl",position:"x10l6tqk",$$css:!0},roundedCornerRtl:{transform:"xpk2tj9",$$css:!0},roundedCornerTopRight:{end:"xds687c",fill:"x1g6sh6t",pointerEvents:"x47corl",position:"x10l6tqk",top:"x13vifvy",$$css:!0},svg:{display:"x1lliihq",$$css:!0}};function a(){var a=c("useUniqueID")();return h.jsx("div",{className:c("stylex")(i.roundedCornerTopRight,d("Locale").isRTL()?i.roundedCornerRtl:!1),children:h.jsxs("svg",{className:"x1lliihq",height:"18px",width:"18px",children:[h.jsx("defs",{children:h.jsxs("mask",{id:a,children:[h.jsx("rect",{fill:"white",height:"36",width:"36",x:"-18",y:"0"}),h.jsx("circle",{cx:"0",cy:"18",fill:"black",r:"18"})]})}),h.jsx("rect",{height:"18",mask:"url(#"+(a+")"),width:"18",x:"0",y:"0"})]})})}a.displayName=a.name+" [from "+f.id+"]";e={make:a};function b(){var a=c("useUniqueID")();return h.jsx("div",{className:c("stylex")(i.roundedCornerBottomRight,d("Locale").isRTL()?i.roundedCornerRtl:!1),children:h.jsxs("svg",{className:"x1lliihq",height:"18px",width:"18px",children:[h.jsx("defs",{children:h.jsxs("mask",{id:a,children:[h.jsx("rect",{fill:"white",height:"36",width:"36",x:"-18",y:"0"}),h.jsx("circle",{cx:"0",cy:"0",fill:"black",r:"18"})]})}),h.jsx("rect",{height:"18",mask:"url(#"+(a+")"),width:"18",x:"0",y:"0"})]})})}b.displayName=b.name+" [from "+f.id+"]";a={make:b};g.TopRight=e;g.BottomRight=a}),98);
__d("MWChatUnavailableComposer.bs",["fbt","MWBlockedComposerLogging","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.reason;a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,b);a=h._("__JHASH__FoZB3MxTOU9__JHASH__");return i.jsx("div",{className:"xzg4506 xi81zsa x14vqqas xyinxu5 xho0xa1 xxbrewl x1vobaek",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJoinChannelComposerPlaceholder.react",["fbt","$InternalEnum","CometGlimmer.react","MDSColumn.react","MDSColumnItem.react","MWXText.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonGlimmer:{borderTopStartRadius:"xi112ho",borderTopEndRadius:"x17zwfj4",borderBottomEndRadius:"x585lrc",borderBottomStartRadius:"x1403ito",height:"x10w6t97",$$css:!0},root:{borderTop:"xzg4506",$$css:!0}},k=b("$InternalEnum").Mirrored(["Broadcast","Social"]);function a(a){var b=a.channelType;a=function(){switch(b){case k.Broadcast:return h._("__JHASH__LGuHuzgqd6L__JHASH__");case k.Social:if(c("gkx")("3187"))return h._("__JHASH__8LwBLF7_aVr__JHASH__");else return h._("__JHASH__o2j5qK5hFlr__JHASH__")}}();return i.jsxs(c("MDSColumn.react"),{paddingHorizontal:16,paddingVertical:16,spacing:16,xstyle:j.root,children:[i.jsx(c("MDSColumnItem.react"),{children:i.jsx(c("MWXText.react"),{align:"center",type:"meta3",children:a})}),i.jsx(c("MDSColumnItem.react"),{children:i.jsx(c("CometGlimmer.react"),{index:0,xstyle:j.buttonGlimmer})})]})}a.displayName=a.name+" [from "+f.id+"]";g.ChannelType=k;g.MWJoinChannelComposerPlaceholder=a}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.connectionStatus;a=a.renderWrapper;if(b==="Connected")return null;else if(b==="Disconnected")return a(h._("__JHASH__c91Lbfy37OX__JHASH__"));else if(b==="Connecting")return a(h._("__JHASH__t43xAFuvvRz__JHASH__"));else return null}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.renderWrapper;var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.table("connectivity_status")).map(function(a){return d("I64").equal(a.internetConnectionState,d("LSIntEnum").ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"})},[b],f.id+":63");return i.jsx(j,{connectionStatus:(e=e)!=null?e:"Connected",renderWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatConnectionStatusCard.react",["MWPChatConnectionStatusCard.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return h.jsx("div",{className:"x1r4l5d8 x1lliihq xz9dl7a xsag5q8 x2b8uid",children:h.jsx(c("MWXText.react"),{type:"meta4",children:a})})}i.displayName=i.name+" [from "+f.id+"]";function a(){return h.jsx(c("MWPChatConnectionStatusCard.react"),{renderWrapper:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEncryptedBackupsUpsellWrapper.react",["CometPlaceholder.react","MWChatEncryptedBackupsRingIndeterminateIcon.react","cr:6740","cr:6814","cr:6836","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=(d=(e=b("cr:6814"))!=null?e:b("cr:6740"))!=null?d:b("cr:6836");function a(a){a=a.children;return i!=null?h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWChatEncryptedBackupsRingIndeterminateIcon.react"),{}),children:h.jsx(i,{children:a})}):a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useDebouncedState",["clearTimeout","react","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef,j=b.useState,k=100;function a(a,b){var d,e=(d=b==null?void 0:b.debounceMS)!=null?d:k;d=(b==null?void 0:b.doNotDebounce)!==!0;b=j(a);a=b[0];var f=b[1],g=h(n,[]);b=h(m,[g,e]);var l=i(null);return[a,d?b:f,g];function m(a){g(),l.current=c("setTimeoutAcrossTransitions")(function(){return f(a)},e)}function n(){c("clearTimeout")(l.current),l.current=null}}g["default"]=a}),98);
__d("MWInboxThreadMessagesSpinner.react",["CometHeroHoldTrigger.react","CometProgressRingIndeterminate.react","gkx","react","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=c("gkx")("1483");function a(a){a=a.delayMs;var b=c("useIsMountedRef")();a=c("useDebouncedState")(function(){return j},{debounceMS:a,doNotDebounce:!a});var d=a[0],e=a[1];a=i(function(){return{onHidden:function(){b.current&&e(!1)},onVisible:function(){b.current&&e(!0)}}},[b,e]);a=c("useVisibilityObserver")(a);return h.jsxs(h.Fragment,{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatSpinner",hold:d}),h.jsx("div",{className:"x6s0dn4 x78zum5 x1r8uery x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a xcrg951",ref:a,children:d?h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}):h.jsx("div",{className:"xcrg951 xxk0z11 xh8yej3"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMDotMeReferrerContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=e();function a(a){var b=a.children;a=a.referrer;return h.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.MWMDotMeReferrerContextProvider=a;g.useMDotMeReferrer=b}),98);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","JSResourceForInteraction","LSCommunityBitOffset","LSIntEnum","MWInboxPersistedUIState","ReQL","ReQLSuspense","TetraButtonGroup.react","react","useCometLazyDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useRef,k=b.useState,l=c("JSResourceForInteraction")("LSMuteThreadDialog.bs").__setRef("MWCMAutoJoinNotifNUX.react");function m(a){var b=a.thread;a=c("useCometLazyDialog")(l);var e=a[0];a=k(!1);var f=a[0],g=a[1];a=d("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__");var m=a[0],n=a[1];a=j(m);var o=j(!1);m=c("useVisibilityObserver")({onVisible:function(){o.current||(o.current=!0,n(function(a){return a+1}))}});return a.current<3&&!f?i.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",ref:m,children:i.jsx(c("CometContextualMessage.react"),{addOnPrimary:i.jsx(c("TetraButtonGroup.react"),{primary:{label:h._("__JHASH__7NhHq3FFyid__JHASH__"),onPress:function(){e({threadKey:b.threadKey},function(){})},padding:"wide",type:"secondary"}}),body:h._("__JHASH__y4SjVH1sWqP__JHASH__"),headline:h._("__JHASH__Y1eNmRtGK12__JHASH__",[h._param("param",b.threadName)]),level:4,onClose:function(){g(!0)}})}):null}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.thread,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("community_folders")).getKeyRange(b.parentThreadKey)},[e,b.parentThreadKey],f.id+":116");if(a){a=d("LSCommunityBitOffset").has(d("LSIntEnum").ofNumber(39),a);return a?i.jsx(m,{thread:b}):null}else return null}n.displayName=n.name+" [from "+f.id+"]";function a(a){a=a.thread;return i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(n,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPresenceStatusText.bs",["fbt","CometRelativeTimestamp.react","I64","LSIntEnum","MAWGating","MWChatContactPresenceHook.bs","MWPActor.react","ReQL.bs","ReQLSubscription.bs","cr:4714","cr:4715","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k=h._("__JHASH__KJ9BpmLEozf__JHASH__");function l(a){var b=a.threadKey;a=d("I64").to_string(b);var e=c("useReStore")(),f=d("MWPActor.react").useActor();return d("ReQLSubscription.bs").useArray(j(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:b,tl:0}),function(a){return!d("I64").equal(a.contactId,f)}),function(a){return a.contactId})},[e,f,a]),"zf4g219r")}function m(a){var b=a.contactId,e=a.renderNullState;a=a.renderWrapper;var f=d("MWChatContactPresenceHook.bs").useIsActive(b);b=d("MWChatContactPresenceHook.bs").useLastActiveTimestampMs(b);if(f)return a(k);else if(b!=null)return a(h._("__JHASH___H_8HkZmS8j__JHASH__",[h._param("time",i.jsx(c("CometRelativeTimestamp.react"),{date:new Date(b),format:"minimized"}))]));else return e()}e={make:m};function n(a){var b=a.renderNullState,c=a.renderWrapper;a=a.thread;a=l(a);if(a.length!==1)return b();a=a[0];return i.jsx(m,{contactId:a,renderNullState:b,renderWrapper:c})}n.displayName=n.name+" [from "+f.id+"]";f={PresenceText:e,make:n};function o(a){var b=a.renderNullState,c=a.renderWrapper;a=a.thread;a=l(a);a=d("MWChatContactPresenceHook.bs").useHasActiveContact(a);if(a)return c(k);else return b()}e={make:o};function p(a){return a}function q(){return null}function a(a){var c,e=a.thread;c=(c=a.renderWrapper)!=null?c:p;a=(a=a.renderNullState)!=null?a:q;var f=e.threadType;if(d("I64").equal(f,d("LSIntEnum").ofNumber(1))||d("I64").equal(f,d("LSIntEnum").ofNumber(15))&&d("MAWGating").isArmadillo())return b("cr:4715")==null?i.jsx(n,{renderNullState:a,renderWrapper:c,thread:e}):i.jsx(b("cr:4715"),{renderNullState:a,renderWrapper:c,thread:e});else if(d("I64").equal(f,d("LSIntEnum").ofNumber(2))||d("I64").equal(f,d("LSIntEnum").ofNumber(16))&&d("MAWGating").isArmadillo())return b("cr:4714")==null?i.jsx(o,{renderNullState:a,renderWrapper:c,thread:e}):i.jsx(b("cr:4714"),{renderNullState:a,renderWrapper:c,thread:e});else return null}f=f;e=e;var r=p,s=q;a=a;g.OneOnOnePresence=f;g.GroupPresence=e;g.defaultRenderWrapper=r;g.defaultRenderNullState=s;g.make=a}),98);
__d("LSContactVerificationBadge.react",["CometPageVerificationIcon.react","LSContactBitOffset","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.contact,e=a.icon;a=a.size;b=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(23),b);if(b===!0)if(e!=null)return h.jsx("span",{className:"xurb0ha",children:e});else if(a!=null)return h.jsx("span",{className:"xurb0ha",children:h.jsx(c("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSVerificationBadge.bs",["I64","Int64Hooks","LSContactVerificationBadge.react","MWPActor.react","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.icon,e=a.size,g=a.thread,j=c("useReStore")(),k=d("MWPActor.react").useActor();a=d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").take(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(j.table("participants")),{hd:g.threadKey,tl:0}),function(a){return!d("I64").equal(a.contactId,k)}),function(a){var b=d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(j.table("contacts")),{hd:a.contactId,tl:0}));return[a,b]}),2)},[j,g.threadKey,k]),"gv4mqoqy",f.id+":38");var l=d("ReQLSubscription.bs").useFirst(i(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(j.table("contacts")),{hd:k,tl:0})},[j,k]),"u6i6kren",f.id+":72"),m=a.length;if(m!==1){if(m!==0)return null;if(l==null)return null;m=l}else{l=a[0];a=l[1];if(a==null)return null;m=a}return h.jsx(c("LSContactVerificationBadge.react"),{contact:m,icon:(l=b)!=null?l:void 0,size:(a=e)!=null?a:void 0})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWInboxHeaderDetails",["fbt","CometMiddot.react","CometPlaceholder.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSPresenceStatusText.bs","LSRtcCallState","LSThreadTitle.react","LSVerificationBadge.bs","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatCalculateIsMutedFromExpireTime.bs","MWChatHeaderDetailsSubtitleMutedIcon.react","MWLSContactTypeExactUtils","MWSeparatorContainer.react","MWVerticalRhythm","MWXText.react","MessengerMuteUtils.bs","ReQL","ReQLSuspense","cr:112","cr:4703","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",minHeight:"xj9xw9b",$$css:!0},item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},middot:{paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",$$css:!0}};function a(a){var e=a.color,g=a.thread;a=a.threadNameSize;var k=c("useReStore")(),l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.table("contacts")).getKeyRange(g.threadKey).filter(d("MWLSContactTypeExactUtils").isIgContact)},[k,g.threadKey],f.id+":119"),m=(l==null?void 0:l.secondaryName)!=null&&(l==null?void 0:l.secondaryName)!==""!==""?l.secondaryName:null;l=d("MWCMThreadTypes.react").isJoinedCMThread(g.threadType);var n=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(g.threadType),o=d("MessengerMuteUtils.bs").calcMuteUntilMs(g),p=d("MWChatCalculateIsMutedFromExpireTime.bs").useHook(o);o=!d("I64").equal(g.ongoingCallState,d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL));var q=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType),r=i.jsx("div",{className:"x1k2j06m x10ogl3i",children:i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:i.jsx(c("CometMiddot.react"),{})})}),s=i.jsx(c("LSThreadTitle.react"),{thread:g});return i.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b",children:[i.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:i.jsxs(c("MWXText.react"),{align:"center",color:e,isSemanticHeading:!0,numberOfLines:1,testid:void 0,type:a,children:[s,i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("LSVerificationBadge.bs").make,{size:"small",thread:g})})]})}),q&&b("cr:112")?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:i.jsx(b("cr:112"),{count:g.memberCount})})]}):n?b("cr:4703")!=null&&g.memberCount!=null?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:i.jsx(b("cr:4703"),{count:d("I64").to_int32(g.memberCount)})})]}):null:l?i.jsx(c("MWCMInboxHeaderCommunityGroupName.react"),{renderWrapper:function(a){return i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:6}),i.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w","data-testid":void 0,children:i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:a})})]})},thread:g}):o?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:6}),i.jsxs(c("MWSeparatorContainer.react"),{separator:r,xstyle:j.item,children:[m!=null?i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:m}):null,i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:h._("__JHASH__440_c1t5rby__JHASH__")}),p?i.jsx(c("MWChatHeaderDetailsSubtitleMutedIcon.react"),{forceInlineDisplay:!0}):null]})]}):i.jsx(d("LSPresenceStatusText.bs").make,{renderNullState:function(){return i.jsxs(c("MWSeparatorContainer.react"),{beforeContent:i.jsx(c("MWVerticalRhythm"),{height:6}),separator:r,xstyle:j.item,children:[m!=null?i.jsxs(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:[" ",m," "]}):null,p?i.jsx(c("MWChatHeaderDetailsSubtitleMutedIcon.react"),{forceInlineDisplay:!0}):null]})},renderWrapper:function(a){return i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:6}),i.jsxs(c("MWSeparatorContainer.react"),{separator:r,xstyle:j.item,children:[m!==null?i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:m}):null,i.jsx(c("MWXText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:a}),p?i.jsx(c("MWChatHeaderDetailsSubtitleMutedIcon.react"),{forceInlineDisplay:!0}):null]})]})},thread:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSContactLink.react",["CometLink.react","CometPressable.react","CurrentEnvironment","MWLSContactTypeExactUtils","getLSContactHref","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={expanding:{display:"x78zum5",$$css:!0}};function a(a){var b=a.children,e=a.contact,f=a.isText;f=f===void 0?!0:f;var g=a.label;a=a.testid;a=c("getLSContactHref")(e);e=d("MWLSContactTypeExactUtils").isIgContact(e);e=!c("CurrentEnvironment").facebookdotcom||e?"_blank":void 0;return f?h.jsx(c("CometLink.react"),{href:a,label:g,target:e,testid:void 0,children:b}):h.jsx(c("CometPressable.react"),{expanding:!0,label:g,linkProps:{target:e,url:a},overlayRadius:6,testid:void 0,xstyle:i.expanding,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderDetailsContainer.react",["CometLazyDialogTrigger.react","CometPlaceholder.react","CometPressable.react","I64","JSResourceForInteraction","LSContactLink.react","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MDSRow.react","MDSRowItem.react","MWInboxHeaderDetails","MWPActor.react","MWThreadPicture.react","MWUseAriaLabelForThread.bs","ReQL","ReQLSuspense","react","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef,j={title:{maxWidth:"x193iq5w",$$css:!0}};function k(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useFirst(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey).filter(function(a){return!d("I64").equal(a.contactId,e)}),d("ReQL").fromTableAscending(b.table("contacts")))},[a.threadKey],f.id+":121")}function l(a){var b=a.children;a=a.thread;var e=i(null),f=c("useCommunityFolder")(a),g=d("MWUseAriaLabelForThread.bs").useHook(a);return h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{folder:f,onClose:function(){}},dialogResource:c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react",{"class":"fluid",name:"MWLSGroupMembershipDialog"}).__setRef("MWInboxHeaderDetailsContainer.react"),children:function(a){return h.jsx(c("CometPressable.react"),{"aria-label":g,onPress:function(){return a()},overlayDisabled:!0,ref:e,xstyle:function(){return[j.title]},children:b})}})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.children;a=a.thread;var c=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(26),a);return c?h.jsx(l,{thread:a,children:b}):b}function n(a){var b=a.children;a=a.thread;a=k(a);a=a!=null?a[1]:null;return a!=null?h.jsx(c("LSContactLink.react"),{contact:a,isText:!1,label:a.name,children:b}):b}function o(a){var b=a.children;a=a.thread;if(d("LSMessagingThreadTypeUtil").isBusinessSupportThread(a))return b;if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return h.jsx(n,{thread:a,children:b});return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?h.jsx(m,{thread:a,children:b}):b}var p={detailsContainer:{paddingStart:"x1h0ha7o",$$css:!0}};function a(a){var b=a.badgeSize;b=b===void 0?10:b;var d=a.color,e=a.isContainerPressable;e=e===void 0?!0:e;var f=a.photoSize;f=f===void 0?"s_40":f;var g=a.thread;a=a.threadNameSize;a=a===void 0?"headlineEmphasized3":a;b=h.jsx(c("MDSRowItem.react"),{children:h.jsx(c("MWThreadPicture.react"),{badgeSize:b,photoSize:f,thread:g,withAltText:!1})});f=h.jsx(c("MDSRowItem.react"),{expanding:!0,xstyle:p.detailsContainer,children:h.jsx(c("MWInboxHeaderDetails"),{color:d,thread:g,threadNameSize:a})});return h.jsx(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:e?h.jsxs(o,{thread:g,children:[b,f]}):h.jsxs(h.Fragment,{children:[h.jsx(o,{thread:g,children:b}),f]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEditThreadNameDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResourceForInteraction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef;function a(a){var b=a.children;a=a.thread;var d=i(null);return h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(){},thread:a},dialogResource:c("JSResourceForInteraction")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.bs"),children:function(a){return b(a,d)}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("FDSInboxInfoQuickActionIcons",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a={Image:d("fbicon")._(h("642537"),20),Invite:d("fbicon")._(h("497885"),20),Mute:d("fbicon")._(h("532353"),20),Nicknames:d("fbicon")._(h("486064"),20),Profile:d("fbicon")._(h("869051"),20),Search:d("fbicon")._(h("491283"),20),Unmute:d("fbicon")._(h("664775"),20)};g["default"]=a}),98);
__d("MWInboxInfoQuickActionIcons",["cr:1160"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1160")}),98);
__d("MWContextBannerQuickActionsIcons.bs",["cr:808"],(function(a,b,c,d,e,f,g){"use strict";g.AddPeople=(a=b("cr:808")).AddPeople;g.EditName=a.EditName;g.Members=a.Members;g.Link=a.Link;g.Share=a.Share}),98);
__d("MWAddMemberToGroupCircleButton.react",["MDSCircleButton.react","MWContextBannerQuickActionsIcons.bs","react","useMWAddParticipantDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.label,e=a.testid;e=a.thread;var f=c("useMWAddParticipantDialog")(e);return h.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").AddPeople.icon,label:b,onPress:function(){return f()},size:36,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatInThreadBanner.react",["CometPressable.react","CometProfilePhoto.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXTextPairing.react","TetraButton.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{backgroundColor:"xcrg951",position:"x1n2onr6",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},image:{marginEnd:"x11i5rnm",$$css:!0},infoLabel:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x4p5aij",paddingEnd:"x150jy0e",paddingBottom:"x1j85h84",paddingStart:"x1e558r4",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0},sheet:{borderBottom:"xdppsyt",$$css:!0},sheetInner:{paddingBottom:"x1a8lsjc",width:"xh8yej3",$$css:!0}};function j(a){var b=a.action;a=a.button;var d=a.ctaTitle;switch(b.TAG){case 0:return h.jsx(c("MWXRowItem.react"),{xstyle:i.grow,children:h.jsx(c("TetraButton.react"),{label:d,linkProps:{url:b._0},type:"secondary"})});case 1:return h.jsx(c("MWXRowItem.react"),{xstyle:i.grow,children:h.jsx(c("TetraButton.react"),{label:d,onPress:b._0,ref:b._1,type:"secondary"})});case 2:return h.jsx(c("MWXRowItem.react"),{xstyle:i.grow,children:b._0(function(a,b){return h.jsx(c("TetraButton.react"),{label:d,onPress:function(){return b()},ref:a,type:"secondary"})})});case 3:c("recoverableViolation")("In thread banner cta not implemented, CTA type: "+a.ctaType+" CTA Title: "+a.ctaTitle,"messenger_web_product");return null}}function a(a){var b,d=a.banner;a=a.ctaParser;var e=d.banner.iconUrl;e=e!=null?h.jsx(c("MWXRowItem.react"),{expanding:!1,children:h.jsx("div",{className:"x11i5rnm",children:h.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:24,source:{uri:e}})})}):null;b=h.jsx(c("MWXRowItem.react"),{expanding:!0,children:h.jsx(c("MWXTextPairing.react"),{body:((b=d.banner.titleSectionOne)!=null?b:"")+((b=d.banner.titleSectionTwo)!=null?b:""),bodyLineLimit:1,level:4,meta:d.banner.heading,metaLineLimit:1,metaLocation:"above"})});var f=d.banner.infoLabel!=null?h.jsx(c("MWXRowItem.react"),{children:h.jsx(c("MWXText.react"),{type:"meta1",children:h.jsx("span",{className:"x1qhmfi1 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x6ikm8r x10wlt62 x4p5aij x150jy0e x1j85h84 x1e558r4 xlyipyv xuxw1ft",children:d.banner.infoLabel})})}):null,g=d.leftButton,k=d.rightButton,l;if(g!=null&&k!=null)l=h.jsxs(c("MWXRow.react"),{paddingTop:8,spacing:4,wrap:"forward",children:[h.jsx(j,{action:a(d,g),button:g}),h.jsx(j,{action:a(d,k),button:k})]});else{g=(g=g)!=null?g:k;g!=null&&(l=h.jsx(c("MWXRow.react"),{paddingTop:8,children:h.jsx(j,{action:a(d,g),button:g})}))}var m=h.jsxs("div",{className:"x1a8lsjc xh8yej3",children:[h.jsxs(c("MWXRow.react"),{children:[e,b,f]}),l]});k=d.bannerAction!=null?a(d,d.bannerAction):void 0;var n;if(k!=null)switch(k.TAG){case 0:n=h.jsx(c("CometPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:k._0},xstyle:function(){return[i.linkBanner]},children:m});break;case 1:n=h.jsx(c("CometPressable.react"),{expanding:!0,onPress:k._0,ref:k._1,children:m});break;case 2:n=k._0(function(a,b){return h.jsx(c("CometPressable.react"),{expanding:!0,onPress:function(){return b()},ref:a,children:m})});break;case 3:b=(e=(g=d.bannerAction)==null?void 0:g.ctaType)!=null?e:"";b!=="member_requests_view"&&c("recoverableViolation")("In thread banner cta not implemented: "+b,"messenger_web_product");n=m;break}else n=m;return h.jsx("div",{className:"xcrg951 x1n2onr6",children:h.jsx("div",{className:"xdppsyt",children:n})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSEnsureInThreadBannerExists.bs",["LSFactory","LSFetchBanners","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useEffect;function a(){var a=c("useReStore")(),b=d("MWThreadKey.bs").useIdMemoizedExn();h(function(){var d=a.runInTransaction(function(a){return c("LSFetchBanners")(b,c("LSFactory")(a))},"readwrite");c("promiseDone")(d)},[b,a])}g.useHook=a}),98);
__d("MWLSExecuteInThreadBannerCta.bs",["LSExecuteCTA","LSFactory","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useCallback;function a(){var a=c("useReStore")();return h(function(b){var d=a.runInTransaction(function(a){return c("LSExecuteCTA")(b,c("LSFactory")(a))},"readwrite");c("promiseDone")(d)},[a])}g.useHook=a}),98);
__d("MWLSMarketplaceServerMutationCta.bs",["LSFactory","LSServerMutationCta","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useCallback;function a(){var a=c("useReStore")();return h(function(b,d){var e=a.runInTransaction(function(a){return c("LSServerMutationCta")(b,d,c("LSFactory")(a))},"readwrite");c("promiseDone")(e)},[a])}g.useHook=a}),98);
__d("MWLSMarketplaceCtaParser.bs",["CometLazyPopoverTrigger.react","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","FBLogger","I64","JSResourceForInteraction","MWLSExecuteInThreadBannerCta.bs","MWLSMarketplaceServerMutationCta.bs","MWPActor.react","MWThreadKey.bs","ReQL","ReQLSuspense","react","recoverableViolation","useCometEntryPointDialog","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useRef;e=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var k=new Set(e);b=new Set(e.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function l(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a).filter(function(a){return!d("I64").equal(a.contactId,e)}).map(function(a){return d("I64").to_string(a.contactId)})},[e,a,b],f.id+":85")}function a(){var a=d("MWThreadKey.bs").useIdMemoizedExn(),b=d("MWLSExecuteInThreadBannerCta.bs").useHook(),e=d("MWLSMarketplaceServerMutationCta.bs").useHook(),f=l(a),g=j(null),m=c("useCometLazyDialog")(c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("MWLSMarketplaceCtaParser.bs")),n=m[0],o=d("I64").to_string(a);m=c("useCometEntryPointDialog")(c("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:o});var p=m[0];m=c("useCometEntryPointDialog")(c("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:o});var q=m[0];m=c("useCometEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:o});var r=m[0];return i(function(){var i=function i(j,l){var m=l.ctaType;if(m==="marketplace_see_details"||m==="marketplace_banner_open_native"){var s=l.webviewUrl;if(s!=null)return{_0:s,TAG:0};s=l.deeplinkUrl;if(s!=null)return{_0:s,TAG:0};else{c("recoverableViolation")("Marketplace see details cta without url","messenger_web_product");return{_0:void 0,TAG:3}}}if(m==="marketplace_view_profile"){s=l.webviewUrl;if(s!=null)return{_0:s,TAG:0};s=l.deeplinkUrl;if(s!=null)return{_0:s,TAG:0};else{c("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product");return{_0:void 0,TAG:3}}}if(m==="marketplace_scaled_rate_seller")if(l.webviewUrl!=null)return{_0:l.webviewUrl,TAG:0};else return{_0:void 0,TAG:3};if(m==="marketplace_more_options"&&j.overflowMenuActions.length>0)return{_0:function(a){return h.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{ctaParser:function(a){return i(j,a)},menu:j.overflowMenuActions},popoverResource:c("JSResourceForInteraction")("MWLSMarketplacePopoverMenu.react").__setRef("MWLSMarketplaceCtaParser.bs"),children:a})},TAG:2};if(m==="marketplace_report_buyer"||m==="marketplace_report_seller")if(f!=null)return{_0:function(){return n({entryPoint:"REPORT_BUTTON",id:f,location:m==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(){})},_1:g,TAG:1};else{c("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product");return{_0:void 0,TAG:3}}if(m==="marketplace_mark_as_sold_with_txn_survey"||m==="marketplace_mark_as_sold_with_txn_survey_scaled")return{_0:function(){return b(l.ctaId)},_1:void 0,TAG:1};if(k.has(m))return{_0:function(){return b(l.ctaId)},_1:void 0,TAG:1};if(m!=="marketplace_server_mutation")if(m==="marketplace_label_chat")return{_0:function(){return p({threadID:o},function(){return b(l.ctaId)})},_1:void 0,TAG:1};else if(m==="marketplace_mark_as_paid")return{_0:function(){return q({threadID:o},function(){return b(l.ctaId)})},_1:void 0,TAG:1};else if(m==="marketplace_create_discount")return{_0:function(){d("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return r({threadID:o},function(){return b(l.ctaId)})},_1:void 0,TAG:1};else return{_0:void 0,TAG:3};s=l.actionContentBlob;var t="";if(s!=null){s=((s=JSON.parse(s))!=null?s:{}).marketplace_cta_type;typeof s==="string"?t=s:c("FBLogger")("messenger_web_product").mustfix("blob marketplace_cta_type is not a valid string type")}return{_0:function(){return e(a,t)},_1:void 0,TAG:1}};return i},[b,e,f,n,r,p,q,o])}g.marketplaceCta=b;g.useOtherParticipantId=l;g.useHook=a}),98);
__d("MWLSInThreadBannerCtaParser.bs",["MWLSAdContextCtaParser.bs","MWLSMarketplaceCtaParser.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSMarketplaceCtaParser.bs").useHook(),b=d("MWLSAdContextCtaParser.bs").useHook();return function(c,e){var f=e.ctaType;if(d("MWLSMarketplaceCtaParser.bs").marketplaceCta.has(f))return a(c,e);else if(d("MWLSAdContextCtaParser.bs").adContextCta.has(f))return b(c,e);else return{_0:void 0,TAG:3}}}g.useHook=a}),98);
__d("useInThreadBannerWithCta",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){return b!=null?a.get(d("I64").to_string(b)):null};function i(a,b,c){return{banner:a,bannerAction:h(b,a.bannerCtaId),leftButton:h(b,a.cta1Id),overflowMenuActions:(c!=null?[c.cta1Id,c.cta2Id,c.cta3Id,c.cta4Id,c.cta5Id]:[]).map(function(a){return h(b,a)}).filter(Boolean),rightButton:h(b,a.cta2Id)}}function a(a,b){var e=c("useReStore")(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("in_thread_banner_overflow_menu")).getKeyRange(b.threadKey,a.bannerId)},[e,b.threadKey,a.bannerId],f.id+":68"),h=new Map(d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("in_thread_banner_ctas")).getKeyRange(a.bannerId).map(function(a){return[d("I64").to_string(a.ctaId),a]})},[e,a.bannerId],f.id+":75"));return i(a,h,g)}g.createBanner=i;g.useInThreadBannerWithCta=a}),98);
__d("MWLSInThreadBannerComponent.bs",["MWChatInThreadBanner.react","MWLSEnsureAdContextExists.bs","MWLSEnsureInThreadBannerExists.bs","MWLSInThreadBannerCtaParser.bs","ReQL","ReQLSuspense","react","useInThreadBannerWithCta","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.banner;a=a.thread;b=d("useInThreadBannerWithCta").useInThreadBannerWithCta(b,a);a=d("MWLSInThreadBannerCtaParser.bs").useHook();return h.jsx(c("MWChatInThreadBanner.react"),{banner:b,ctaParser:a})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=a.thread;d("MWLSEnsureInThreadBannerExists.bs").useHook();d("MWLSEnsureAdContextExists.bs").useHook();var e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("in_thread_banner")).getKeyRange(b.threadKey)},[e,b.threadKey],f.id+":54");var g=a==null?void 0:a.cta1Type,j=a==null?void 0:a.cta2Type;return a==null||g==="proactive_warning_affirmative"||g==="proactive_warning_negative"||j==="proactive_warning_affirmative"||j==="proactive_warning_negative"?null:h.jsx(i,{banner:a,thread:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("I64").to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("useThreadLastMessageTimeMs",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.table("messages")).getKeyRange(a).map(function(a){return a.timestampMs})},[b,a],f.id+":24")}g["default"]=a}),98);
__d("MWChatReplyText.bs",["fbt","CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform","cr:2382","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var e=a.transformEmoticons,f=a.isHotLike,g=a.ranges;a=a.text;e=e!=null?e:!0;f=f!=null?f:!1;var j={};j.MessengerTextFormatting=[d("MWChatTextFormatting").replyRenderer];a=b("cr:2382")==null?a:b("cr:2382").unvault(a);var k=h._("__JHASH__HyRDoZftJu4__JHASH__").toString();f=f?k:a;k={maxLength:120,maxLines:2,renderers:j,text:f,transforms:e?d("MWChatTextTransform").epdTextTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1};g!=null&&(k.ranges=g);a=i.jsx(c("CometTextWithEntities.react"),babelHelpers["extends"]({},k));return i.jsx("div",{className:"xi81zsa",dir:"auto",children:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.make=e}),98);
__d("MWChatMessageUnreadIndicator.react",["fbt","MDSRow.react","MDSRowItem.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={line:{backgroundColor:"x1iuwi03",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function a(){var a=h._("__JHASH__dAK4xN4bf5e__JHASH__");return i.jsxs(c("MDSRow.react"),{"aria-label":a,paddingVertical:12,spacingVertical:0,children:[i.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:j.line,children:i.jsx(i.Fragment,{})}),i.jsx(c("MDSRowItem.react"),{children:i.jsx(c("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:a})}),i.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:j.line,children:i.jsx(i.Fragment,{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWExtraPinnedMessagePadding.react",["MWPMessageListColumn.bs","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.nextMessage;a=c("useMWPIsMessagePinned")(a);return a&&h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:6})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJumpToMostRecentMessageButton.react",["fbt","CometPressable.react","CurrentUser","MWPColorUtils","MWPThreadTheme.bs","MWXIcon.react","ODS","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={circleButton:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"xurzqwv",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}};function k(){var a=d("MWPThreadTheme.bs").useHook();a=a.threadTheme;a=d("MWPColorUtils").int64ToHex(a.fallbackColor);return i.jsx("svg",{"aria-hidden":!0,fill:"none",height:"18",viewBox:"7 7 22 22",width:"18",children:i.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})}k.displayName=k.name+" [from "+f.id+"]";k._isSVG=!0;function a(a){var b=a.onPress;return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__mZcaI1xn9AA__JHASH__"),onPress:function(){b();var a=c("CurrentUser").getAppID();a=a==null?"unknown":a;d("ODS").bumpEntityKey(3185,"mw_jump_to_bottom","app_id."+a)},xstyle:j.circleButton,children:i.jsx(c("MWXIcon.react"),{icon:k})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSForwardSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M30.22 19.497l-10.5 7.198c-1.163.797-2.722-.06-2.722-1.497v-3.204H8.001A2 2 0 016 19.996v-3.997A2 2 0 018 14h8.998v-3.198c0-1.437 1.559-2.294 2.722-1.497l10.5 7.197c1.04.713 1.04 2.283 0 2.995z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPForwardedContent.bs",["fbt","I64","Int64Hooks","LSIntEnum","MDSForwardSvgIcon.react","MWPMessageAuthor.bs","MWPMessageHasAttachment.bs","MessagingAttachmentType","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo;function a(a){return h._("__JHASH__0IFsVeodN0b__JHASH__",[h._param("name",a)])}function b(a){return h._("__JHASH__00-nIgP5G8j__JHASH__",[h._param("name",a)])}var k=h._("__JHASH__L5dEyo_jBmR__JHASH__");function e(a){return h._("__JHASH__GuBlAzcO-mm__JHASH__",[h._param("name",a)])}var l=h._("__JHASH__cFJV3xOx0DG__JHASH__");function m(a){return h._("__JHASH__1BQhMfYYoAB__JHASH__",[h._param("name",a)])}var n=h._("__JHASH__g8iYHeUhc75__JHASH__");function o(a){if(d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function p(a){if(d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function q(a){return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))}function r(a,b,e){var f=c("useReStore")(),g=a.messageId,i=a.threadKey,k=d("MWPMessageHasAttachment.bs").make(a),l=d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){if(k)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("attachments")),{hd:i,tl:{hd:g,tl:0}});else return d("SortedAsyncIterable.bs").empty()},[f,g,i,k]),"vap2dyxn");return j(function(){if(b)if(l!=null)if(o(l))return h._("__JHASH__PIjjsAJniwv__JHASH__");else if(p(l))return h._("__JHASH__nEYzvO_Jiz8__JHASH__");else if(d("I64").equal(l.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__0EAD5uOKPoC__JHASH__");else return h._("__JHASH__GhgOVaiGoA___JHASH__");else return h._("__JHASH__GhgOVaiGoA___JHASH__");else if(l!=null)if(e!=null)if(o(l))return h._("__JHASH__00-nIgP5G8j__JHASH__",[h._param("name",e)]);else if(p(l))return h._("__JHASH__GuBlAzcO-mm__JHASH__",[h._param("name",e)]);else if(d("I64").equal(l.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__1BQhMfYYoAB__JHASH__",[h._param("name",e)]);else return h._("__JHASH__5hjcq0INKbc__JHASH__");else if(o(l))return h._("__JHASH__L5dEyo_jBmR__JHASH__");else if(p(l))return h._("__JHASH__cFJV3xOx0DG__JHASH__");else if(d("I64").equal(l.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__g8iYHeUhc75__JHASH__");else return h._("__JHASH__5hjcq0INKbc__JHASH__");else if(e!=null)return h._("__JHASH__0IFsVeodN0b__JHASH__",[h._param("name",e)]);else return h._("__JHASH__5hjcq0INKbc__JHASH__")},[b,l,e])}function s(a,b){var c=d("MWPMessageAuthor.bs").useAuthorName(a);return r(a,b,c[0])}function t(a){var b=a.message;a=a.outgoing;b=s(b,a);return i.jsxs("div",{className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j",children:[i.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16}),i.jsx("div",{className:"x12scifz x1pg5gke x1h0ha7o",children:b})]})}t.displayName=t.name+" [from "+f.id+"]";f=a;a=b;b=k;k=e;e=l;l=m;m=n;n=o;var u=p;q=q;var v=r,w=s;t=t;g.textForwardedBySomeone=f;g.linkForwardedBySomeone=a;g.linkForwardedByUnknown=b;g.imageForwardedBySomeone=k;g.imageForwardedByUnknown=e;g.videoForwardedBySomeone=l;g.videoForwardedByUnknown=m;g.isLink=n;g.isImage=u;g.isVideo=q;g.useTitleWithName=v;g.useTitle=w;g.make=t}),98);
__d("MWForwardedContent.react",["MDSForwardSvgIcon.react","MWPForwardedContent.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent.bs").useTitle(b,a);return h.jsxs("div",{className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j",children:[h.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16}),h.jsx("div",{className:"x12scifz x1pg5gke x1h0ha7o",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatReactionsTooltip.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSClearReactionsV2DetailsAndRange","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetch","LSVerifyContactRowExists","MWLSThread","MWPActor.react","Promise","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useEffect,k=e.useMemo,l=9;function m(a){var b=c("useReStore")(),e=d("ReQLSuspense").useArray(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("contextual_profile_v1").index("associatedEntityIdAndOwner")).getKeyRange(a)},[b,a],f.id+":57"),g=k(function(){var a=new Map();for(var b=e,c=Array.isArray(b),f=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(c){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g==null?void 0:g.profileName;h!=null&&a.set(d("I64").to_string(g.ownerId),h)}return a},[e]);return g}function a(a){var b=a.messageId,c=a.reactions;a=a.threadKey;var e=d("MWLSThread").useThread(a,function(a){return a.parentThreadKey}),f=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a,d("useIsReactionsV2Enabled").Action.Read);return f?i.jsx(o,{messageId:b,parentThreadKey:e,reactions:c,threadKey:a}):i.jsx(n,{messageId:b,parentThreadKey:e,reactions:c,threadKey:a})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var e=a.messageId,g=a.parentThreadKey,n=a.reactions,o=a.threadKey,p=c("useReStore")(),q=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(p.table("reactions")).getKeyRange(o,e),d("ReQL").fromTableAscending(p.table("contacts")))},[p,o,e],f.id+":119"),r=m(g);j(function(){c("promiseDone")(p.runInTransaction(function(a){return b("Promise").all(q.map(function(e){e=e[1];if(e!=null)return c("LSVerifyContactRowExists")(e.id,d("LSIntEnum").ofNumber(c("LSContactIdType").FBID),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,!1,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(a));else return b("Promise").resolve()}))},"readwrite"))},[p,q]);a=k(function(){var a=new Map(q.map(function(a){var b=a[1];b==null&&c("FBLogger")("messenger_web_product").debug("missing contact for reaction tooltip");return[d("I64").to_string(a[0].actorId),b!=null?b.name:h._("__JHASH__AaE4hJExM0x__JHASH__")]})),b=n.map(function(b){b=d("I64").to_string(b.actorId);if(r.has(b))return r.get(b);b=a.get(b);if(b==null)return"";else return b}).filter(function(a){return a!==""}),e=b.length;b=b.slice(0,l);if(e>l){e=e-l;b.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(e),h._param("count",String(e))]))}return b},[r,n,q]);g=a.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:g})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b,e=a.messageId,g=a.parentThreadKey,k=a.threadKey,n=c("useReStore")();j(function(){n.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRange")(c("LSFactory")(a))},"readwrite"),n.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(k,e,void 0,void 0,c("LSFactory")(a))},"readwrite")},[n,k,e]);var o=m(g);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(n.table("reactions_v2_details")).getKeyRange(k,e).map(function(a){var b;return(b=o.get(d("I64").to_string(a.reactorId)))!=null?b:a.fullName})},[n,o,k,e],f.id+":250");g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(n.table("reactions_v2")).getKeyRange(k,e)},[n,k,e],f.id+":263");var p=g?g.map(function(a){return a.viewerIsReactor}):[];p=p.length>0?p.reduce(function(a,b){return a||b}):!1;var q=d("MWPActor.react").useActor(),r=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(n.table("contacts")).getKeyRange(q)},[n,q],f.id+":282");g=g?g.map(function(a){return d("I64").to_int32(a.count)}).filter(function(a){return a>0}):[];b=(b=(r==null?void 0:r.id)!=null?o.get(d("I64").to_string(r.id)):null)!=null?b:r==null?void 0:r.name;JSON.stringify(g)===JSON.stringify([1])&&p&&b!=null&&a.length===0?a.push(b):p&&a[0]!=null&&r&&b!=null&&((g=a[0])==null?void 0:g.toString())!==b&&a.unshift(b);p=h._("__JHASH__GTBXwO8BaZr__JHASH__");r=a.slice(0,l);if(a.length>l){g=a.length-l;r.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(g),h._param("count",String(c("intlSummarizeNumber")(g)))]))}b=r.length===0?p:r.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:b})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageReactionsContainer.react",["I64","MWChatReactionEmoji.bs","MWChatReactionsUtils.bs","MWV2ChatReactionsTooltip.react","MWXTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={emoji:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",lineHeight:"x14ju556",$$css:!0},emojiMargin:{marginEnd:"xcwd3tp",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x14ju556",minWidth:"xdhweic",paddingEnd:"x150jy0e",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",boxShadow:"x10vwrwz",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x4p5aij",paddingEnd:"x19um543",paddingBottom:"x1j85h84",paddingStart:"x1m6msm",textAlign:"xp4054r",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0}};function a(a){var b=a.count,e=a.emojis,f=a.message,g=a.reactions,k=a.reactionsV2;a=a.threadKey;f=f.messageId;k=k!=null?k.map(function(a){return d("I64").to_int32(a.count)}).reduce(function(a,b){return a+b},0):0;k=k>1?k:b;var l=k>1;b=e.map(function(a,b){var f=l||b!==e.length-1,g=d("MWChatReactionsUtils.bs").isHeart(a[0]);return h.jsx("div",{className:c("stylex")(i.emoji,f?i.emojiMargin:!1),children:h.jsx("div",{className:c("stylex")(g?i.scaleHeartEmoji:!1),children:h.jsx(d("MWChatReactionEmoji.bs").make,{emoji:a,size:16,testid:void 0})})},String(b))});return h.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:h.jsx(c("MWV2ChatReactionsTooltip.react"),{messageId:f,reactions:g,threadKey:a}),children:h.jsxs("div",{className:"x6s0dn4 x2bj2ny x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x10vwrwz x78zum5 xl56j7k x4p5aij x19um543 x1j85h84 x1m6msm xp4054r",role:"none",children:[b,l?h.jsx(j,{reactionCount:k}):null]})})}a.displayName=a.name+" [from "+f.id+"]";function j(a){a=a.reactionCount;a=a.toString();var b=a.length;return h.jsx("div",{className:"xi81zsa x1ncwhqj x14ju556 xdhweic x150jy0e x1e558r4 x2b8uid",role:"none",style:{width:b+"ch"},children:a})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").Children;b=18;var j={container:{backgroundColor:"xcrg951",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},gutter:{flexBasis:"x1ohifd9",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;b=i.toArray(b).filter(Boolean);return b.length===0?null:h.jsxs("div",{className:c("stylex")(j.container,a),role:"none",children:[b.map(function(a,b){return h.jsx("div",{className:c("stylex")(j.items,d),role:"none",children:a},""+b)}),e?null:h.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a;g.height=b}),98);
__d("MWPMessageLoggingWrapper.bs",["CometHeroInteractionWithDiv.react","MWChatInteraction.bs","bs_caml_splice_call","bs_js_null_undefined","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.xstyle;e=d("MWChatInteraction.bs").get(e);f=d("MWChatInteraction.bs").get(f);e=(e=e)!=null?e:f;if(e==null)return h.jsx("div",{className:c("bs_caml_splice_call").spliceApply(c("stylex"),[a]),children:b});else return h.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:c("bs_js_null_undefined").fromOption(e),pageletName:"Message",xstyle:a,children:b})}b=a;g.make=b}),98);
__d("MWPMessagePinnedText.react",["fbt","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.divider;a=a.message;a=c("useMWPIsMessagePinned")(a);var d=h._("__JHASH__hknrqEeMk6h__JHASH__");return a&&i.jsxs(i.Fragment,{children:[b!=null&&i.jsx("span",{className:"x1sdyfia",children:b}),i.jsx("span",{"aria-label":d,children:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=(b=d("MWLSThread").useThread(b,function(a){return[a.threadSubtype,a.threadType]}))!=null?b:[];var c=b[0];b=b[1];if(!(b!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(b))&&!(b!=null&&d("MWCMThreadTypes.react").isBroadcastThread(b))&&!(c!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(c)))return;a.sort(function(a,b){return a.count===b.count&&a.reactionLiteral!=null&&b.reactionLiteral!=null?a.reactionLiteral.localeCompare(b.reactionLiteral):b.count-a.count})}g.useSortReactionsForBroadcastChat=a}),98);
__d("MWPMessageReactions.react",["fbt","CometPressable.react","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetch","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils.bs","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.bs","ReQL","ReQLSuspense","intlList","promiseDone","react","useCometLazyDialog","useIsMultiReactionEnabled","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react"),k=j.useCallback,l=j.useContext,m=j.useMemo,n=j.useRef;function a(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(g,e).map(function(a){return d("MWChatReactionsUtils.bs").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:d("MWChatReactionsUtils.bs").heartType1,threadKey:a.threadKey,timestampMs:a.timestampMs}:a})},[g,e,b],f.id+":79");return a}function b(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(g,e)},[b,g,e],f.id+":103");return a}function e(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(g,e).filter(function(a){return d("I64").gt(a.count,d("I64").zero)})},[b,g,e],f.id+":119");return a}function o(a,b){a=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._("__JHASH__tSgM5wXgT0G__JHASH__",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",a)])}function p(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function q(a){var b=a.children,e=a.dialogResource,g=a.message,h=a.onPress,j=a.reactions,q=a.reactionsV2;a=a.shouldUseVariant16ForReactionsV2;var r=a===void 0?!1:a,s=g.messageId,t=g.threadKey;a=l(d("MWV2MessageRowIsRowFocusedContext.bs").context);var u=a.setFocused,v=a.setIsDialogOpened,w=c("useReStore")(),x=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(t,d("useIsReactionsV2Enabled").Action.Read);a=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(t);var y=a?d("useIsMultiReactionEnabled").MAX_REACTION_COUNT:3,z=n(new Map()),A=k(function(){x&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(w,function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(t,g.messageId,void 0,void 0,c("LSFactory")(a))},"issueReactionsV2DetailsUsersListFetch").then(function(){return z.current.forEach(function(a){return a()})}))},[w,x,g.messageId,t]),B=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(w.table("reactions_v2")).getKeyRange(t,s).filter(function(a){return d("I64").gt(a.count,d("I64").zero)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(w.table("reaction_v2_types")).getKeyRange(a.reactionFbid));b=r?b==null?void 0:b.reactionLiteralVariant16:b==null?void 0:b.reactionLiteral;return babelHelpers["extends"]({},a,{count:d("I64").to_int32(a.count),reactionLiteral:b})})},[w,t,s,r],f.id+":206");d("MWReactionUtils").useSortReactionsForBroadcastChat(B,t);y=q!=null&&x?p(Array.from(new Set(B.map(function(a){return(a=a.reactionLiteral)!=null?a:""}))).slice(0,y)):p(Array.from(new Set(j.map(function(a){a=a.reaction;return a}))).slice(0,y));q=q!=null&&x?d("I64").to_int32(B.reduce(function(a,b){return d("I64").add(a,d("I64").of_int32(b.count))},d("I64").zero)):j.length;B=o(y,q);var C=n(null),D=m(function(){return e!=null?e:x?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[e,x]),E=m(function(){return{message:g,onLoadComplete:function(a){z.current.set(a,a);return function(){z.current["delete"](a)}},thread:{threadKey:t}}},[g,t]),F=k(function(){v(function(){return!1}),u(function(){return!0})},[u,v]);D=c("useCometLazyDialog")(D);var G=D[0];D[1];var H=k(function(a){v(function(){return!0}),G(babelHelpers["extends"]({},E,{initialTab:a}),F),h==null?void 0:h(),A()},[E,F,h,v,G,A]);return a?b(y,q,j,g,t,H):i.jsx(c("CometPressable.react"),{"aria-label":B,onPress:function(){return H()},overlayDisabled:!0,ref:C,children:b(y,q,j,g,t,H)})}q.displayName=q.name+" [from "+f.id+"]";g.useReactions=a;g.useReactionsV2=b;g.useNonZeroCountReactionsV2=e;g.MWPMessageReactions=q}),98);
__d("MWPMessageS2SLoggingWrapper",["CometHeroFailTrigger.react","CometHeroInteractionWithDiv.react","MWChatInteraction.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.statusType;var g=["Sent","Delivered","Error"].includes(a),i=null;if(g){i=(g=d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").s2sKey(e)))!=null?g:d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").s2sKey(f))}return i!=null?h.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:i,pageletName:"Message-s2s",xstyle:!1,children:[h.jsx(c("CometHeroFailTrigger.react"),{description:"Message returned from server with error status",fail:a==="Error"}),b]}):h.jsx("div",{children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPinnedMessageDropdownButton.react",["fbt","ix","CometLazyPopoverTrigger.react","JSResourceForInteraction","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("MWPinnedMessageItemHoverDropdownMenu.react").__setRef("MWPinnedMessageDropdownButton.react");function a(a){var b=a.hidden;a=a.message;return!b&&j.jsx("div",{className:"x1a87ojn x10l6tqk xwa60dl",children:j.jsx(c("CometLazyPopoverTrigger.react"),{popoverProps:{message:a},popoverResource:k,children:function(a,b){return j.jsx(c("TetraIcon.react"),{"aria-label":h._("__JHASH__2-Q8CjJAjMD__JHASH__"),color:"secondary",icon:d("fbicon")._(i("484386"),16),onPress:b,ref:a})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSPinnedMessageIcon.react",["MDSSvgIcon.react","react","useUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useUniqueID")(),d=c("useUniqueID")(),e=c("useUniqueID")(),f=c("useUniqueID")();return h.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[h.jsx("g",{filter:"url(#"+b+")",children:h.jsx("rect",{fill:"url(#"+d+")",height:"2",width:"8",x:"17",y:"26"})}),h.jsx("path",{d:"M23.9989 27.5928L23.9988 27.5383L24.0367 27.585C24.1817 27.7518 24.7409 28.2715 25.8875 27.9427C26.9382 27.6414 26.5281 26.8227 26.371 26.5705C26.3138 26.4819 26.2525 26.3965 26.1873 26.3135L16.8703 14.3899C16.2845 15.045 15.5884 15.6539 14.8084 16.0737L23.9989 27.5928Z",fill:"url(#"+e+")"}),h.jsx("path",{d:"M11.5653 17.1305C15.7434 17.1305 19.1305 13.7434 19.1305 9.56526C19.1305 5.38708 15.7434 2 11.5653 2C7.38708 2 4 5.38708 4 9.56526C4 13.7434 7.38708 17.1305 11.5653 17.1305Z",fill:"#FF0D0D"}),h.jsx("path",{d:"M9.19306 12.5345C6.38338 10.2164 5.72669 6.37369 7.72578 3.95078C9.72486 1.52787 13.6231 1.44245 16.432 3.76062C19.2417 6.07879 19.8984 9.92145 17.8993 12.3444C15.9002 14.7673 12.0019 14.8519 9.19306 12.5345Z",fill:"url(#"+f+")"}),h.jsxs("defs",{children:[h.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"2.8",id:b,width:"8.8",x:"16.6",y:"25.6",children:[h.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),h.jsx("feBlend",{"in":"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),h.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_28_51",stdDeviation:"0.2"})]}),h.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:d,x1:"25",x2:"17.6667",y1:"27",y2:"27",children:[h.jsx("stop",{stopColor:"#969495"}),h.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"})]}),h.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:e,x1:"20.4956",x2:"21.941",y1:"22.4135",y2:"21.2698",children:[h.jsx("stop",{stopColor:"#666666"}),h.jsx("stop",{offset:"1",stopColor:"#CACCCD"})]}),h.jsxs("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(12.8132 8.1471) rotate(129.523) scale(5.68739 6.59482)",gradientUnits:"userSpaceOnUse",id:f,r:"1",children:[h.jsx("stop",{stopColor:"white",stopOpacity:"0.5"}),h.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePinnedIconAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState,k={mountAnimationIncoming:{animationDuration:"x5hsz1j",animationName:"x1ko8byu",animationTimingFunction:"x4hg4is",$$css:!0},mountAnimationOutgoing:{animationDuration:"x5hsz1j",animationName:"x1c78tyx",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a,b){var d=j(!1),e=d[0],f=d[1],g=i(a);d=b?k.mountAnimationOutgoing:k.mountAnimationIncoming;h(function(){a!==g.current&&f(!0),g.current=a},[a]);return{mountAnimation:e?d:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:k.unmountAnimation}}g["default"]=a}),98);
__d("MWPinnedMessageOverlay.react",["MDSPinnedMessageIcon.react","react","stylex","useMWPIsMessagePinned","usePinnedIconAnimation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={alignEnd:{end:"xds687c",transform:"x7b9nwf",$$css:!0},alignStart:{start:"x17qophe",transform:"x1op1vkj",$$css:!0},container:{position:"x10l6tqk",top:"x13vifvy",zIndex:"xhtitgo",$$css:!0},relative:{position:"x1n2onr6",$$css:!0}};function a(a){var b=a.alreadyRenderedPin,d=a.children,e=a.message;a=a.outgoing;e=c("useMWPIsMessagePinned")(e);var f=c("usePinnedIconAnimation")(e,a),g=f.mountAnimation,j=f.shouldShow;f=f.unmountAnimation;return!j||b?h.jsx(h.Fragment,{children:d}):d&&h.jsxs("div",{className:"x1n2onr6",children:[h.jsx("div",{className:c("stylex")([i.container,a?i.alignEnd:i.alignStart,e?g:f]),children:h.jsx(c("MDSPinnedMessageIcon.react"),{color:"tertiary",size:16})}),d]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadKey,a.messageId)},[b,a],f.id+":25");return(e==null?void 0:e.defaultCtaType)==="xma_web_url"&&(e==null?void 0:e.attachmentLoggingType)==="xma_open_native_rooms_invite"}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react",["nux:344","react","useMWIsXMARoom","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=function(){return b("nux:344")==null?void 0:b("nux:344")("WEB_MSGR_PINNED_MESSAGES_NUX")};function a(a){var b=a.isLastMessage,d=a.isOutgoing,e=a.isPinnedMessageList;a=a.message;var f=a.textHasLinks;a=c("useMWIsXMARoom")(a);d=!d&&(f||a)&&b&&!e;return!d?null:h.jsx(i,{})}a.displayName=a.name+" [from "+f.id+"]";e=d("withCometPlaceholder").withCometPlaceholder(a);g["default"]=e}),98);
__d("MWJumpToMessageLogger.bs",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction.bs","bs_js_dict"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId(),null);d("MWChatInteraction.bs").set(b,g);e!=null&&(d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT))?a.addMetadata("entrypoint","chat"):d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",d("I64").to_string(f));return a.onComplete(function(){return c("bs_js_dict").unsafeDeleteKey(d("MWChatInteraction.bs").interactions,b)})}g.startHeroInteractionTrace=a}),98);
__d("MWJumpToMessage.bs",["LSMessagingInitiatingSourceHook.bs","MWJumpToMessageLogger.bs","MWPVisibleMessageContext.bs","MWVersion.bs","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useCallback;function a(a){var b=d("MWPVisibleMessageContext.bs").useMWPVisibleMessageContext(),e=b.setVisibleMessage,f=d("LSMessagingInitiatingSourceHook.bs").useHook(),g=c("useCometInteractionTracing")(c("qpl")._(25301087,"7779"),"fast","INTERACTION");return h(function(b,c,h,i,j){var k=h!=null?h:"",l=i!=null?i:[];return g(function(g){e({contextLine:k,highlights:l,messageId:b,source:a,timestamp:c});return d("MWJumpToMessageLogger.bs").startHeroInteractionTrace(g,b,f,d("MWVersion.bs").v2)})},[a,e,g,f])}g.useHook=a}),98);
__d("MWPBaseRepliedMessage.bs",["CometPressable.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWJumpToMessage.bs","react","recoverableViolation","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={elevate:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=a.clickToNavigateToReply;b=b===void 0?!0:b;var e=a.earlyCheckForReplyStatus;e=e===void 0?!1:e;var f=a.isSecureMessage,g=a.message,j=a.outgoing,k=a.renderAttachment,l=a.renderExpiredMessage,m=a.renderGIF,n=a.renderMedia,o=a.renderPost,p=a.renderRemovedMessage,q=a.renderRollcallContribution,r=a.renderSticker,s=a.renderStory,t=a.renderTextMessage,u=a.renderUnavailableMessage;a=a.renderVideo;var v=g.replyAttachmentId,w=g.replyAttachmentType,x=g.replyMessageText;w!=null&&(!e||g.replyStatus!=null&&!d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").DELETED)))?(d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&g.replySourceTypeV2!=null&&d("I64").equal(g.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").STORY))?e=h.jsx(s,{isSecureMessage:f,message:g,outgoing:j}):v!=null?d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").OTHER))?e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PHOTO))?n!=null?e=h.jsx(n,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))?q!=null?e=h.jsx(q,{message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO))?n!=null?e=h.jsx(n,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").VIDEO))?a!=null?e=h.jsx(a,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").GIF))?m!=null?e=h.jsx(m,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER))?r!=null?e=h.jsx(r,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").LINK))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))?e=h.jsx(k,{message:g,outgoing:j}):o!=null?e=h.jsx(o,{message:g,outgoing:j}):e=(c("recoverableViolation")("Unknown attachment type: "+d("I64").to_string(w),"messenger_comet"),null):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&r!=null?e=h.jsx(r,{message:g,outgoing:j}):e=null:v!=null?n!=null?e=h.jsx(n,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):g.replyStatus!=null&&d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").DELETED))?p!=null?e=h.jsx(p,{outgoing:j}):e=null:g.replyStatus!=null&&d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").EXPIRED))?l!=null?e=h.jsx(l,{outgoing:j}):e=null:g.replyStatus!=null&&d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))?u!=null?e=h.jsx(u,{outgoing:j}):e=null:x!=null&&g.replySourceTypeV2!=null&&d("I64").equal(g.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))?x!==""?e=h.jsx(t,{message:g,outgoing:j,text:x}):e=h.jsx(k,{message:g,outgoing:j}):e=null;s=h.jsx("div",{className:"x193iq5w x1n2onr6 x1vjfegm",children:e});var y=g.replySourceTimestampMs,z=g.replySourceId,A=d("MWJumpToMessage.bs").useHook({_0:void 0,TAG:1});q=w!=null&&(d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION)));var B=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();if(z!=null&&y!=null&&b){a=function(){A(z,y)};if(q){var C=d("I64").of_string((m=g.replyAttachmentExtra)!=null?m:"0"),D=g.threadKey,E=(o=g.replySourceId)!=null?o:null;a=function(){B(C,D,E)}}return h.jsx(c("CometPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:function(){return[i.pressable]},children:s})}else return s}b=a;g.make=b}),98);
__d("MWV2ReplyTo.bs",["fbt","CometScreenReaderText.react","MWPSolidMessageBubble.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={content:{color:"xi81zsa",fontSize:"x1nxh6w3",lineHeight:"x1btupbp",overflowWrap:"x1mzt3pk",paddingBottom:"xsag5q8",$$css:!0}};function a(a){var b=a.children,e=a.outgoing;a=(a=a.xstyle)!=null?a:!1;return i.jsxs(d("MWPSolidMessageBubble.bs").make,{connectBottom:!0,connectTop:!1,outgoing:e,precedesXMA:!1,style:{backgroundColor:"var(--mwp-reply-background-color)"},children:[i.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__pLiiclD1jc1__JHASH__")}),i.jsx("div",{className:c("stylex")(j.content,a),"data-testid":void 0,children:b})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWRepliesAttachment.react",["fbt","ix","MWV2ReplyTo.bs","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.outgoing;var b=h._("__JHASH__ExfgVu3ZeIV__JHASH__");return j.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,children:j.jsxs("div",{className:"x6s0dn4 x78zum5 x1k4tb9n",children:[b,j.jsx("span",{className:"x1lliihq x1i64zmx",children:j.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesExpired.react",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__LRWYiWT4b63__JHASH__");return i.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:j.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesImage.react",["I64","LSIntEnum","MWLSThreadDisplayContext","MWPStableImage.bs","MWPThreadCapabilitiesContext","cr:956","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={incoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var e=a.height,f=a.isSticker;f=f===void 0?!1:f;var g=a.outgoing,j=a.src;a=a.width;var k=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();k=k==="ChatTab";var l=d("MWPThreadCapabilitiesContext").useHook();l=c("gkx")("1581")&&l(d("LSIntEnum").ofNumber(46));g=f?!1:g?i.outgoing:i.incoming;e=h.jsx(d("MWPStableImage.bs").make,{alt:"",className:c("stylex")(i.root,f&&i.rootHasSticker,g),height:e!=null?d("I64").to_float(e):void 0,maxHeight:100,maxWidth:k?180:300,src:j,width:a!=null?d("I64").to_float(a):void 0});return b("cr:956")!=null&&l&&!f?h.jsx(b("cr:956"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:j,xstyle:[i.root,g],children:e}):e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrl.bs","MWRepliesImage.react","MWV2ReplyTo.bs","ReQL","ReQLSuspense","cr:6426","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function k(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.message;a=a.outgoing;var k=c("useReStore")(),l=d("ReQLSuspense").useFirst(function(){var a,b;a=(a=g.replyAttachmentId)!=null?a:d("I64").zero;b=(b=g.replySourceId)!=null?b:"";return d("ReQL").fromTableAscending(k.table("attachments")).getKeyRange(g.threadKey,b,d("I64").to_string(a))},[k,g],f.id+":48"),m;l!=null&&(b("cr:6426")==null||!e?m=d("LSMediaUrl.bs").Attachment.previewUrl(l):m=b("cr:6426").getAttachmentBlobNonOptional(l.attachmentFbid));if(m!=null&&m!=="")return i.jsx(c("MWRepliesImage.react"),{height:g.replyMediaPreviewHeight,outgoing:a,src:m,width:g.replyMediaPreviewWidth});else return i.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:j.italic,children:h._("__JHASH__kPmtZiB6viN__JHASH__")})}k.displayName=k.name+" [from "+f.id+"]";function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(k,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesMedia.react",["fbt","ix","CometIcon.react","CometPlaceholder.react","I64","IconSource","LSMediaUrl.bs","MWRepliesImage.react","MWV2ReplyTo.bs","ReQL","ReQLSuspense","SortedAsyncIterable.bs","WAArmadilloXMA.pb","cr:6426","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={FBIcon:{marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0},postBackground:{alignItems:"x6s0dn4",backdropFilter:"x99fzhk",background:"x18aeczl",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"xdt5ytf",height:"xpyat2d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"x1exxlbk",$$css:!0},storyBackground:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",background:"xjw5052",borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1wkxgih",justifyContent:"xl56j7k",opacity:"x197sbye",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function l(a){var e=a.isSecureMessage,g=a.message;a=a.outgoing;var l=h._("__JHASH__bznTdd53oJN__JHASH__"),m=c("useReStore")(),n=d("ReQLSuspense").useFirst(function(){var a=g.replyAttachmentId,b=g.replySourceId;if(b!=null&&a!=null)return d("ReQL").fromTableAscending(m.table("attachments")).getKeyRange(g.threadKey,b,d("I64").to_string(a));else return d("SortedAsyncIterable.bs").empty()},[m,g],f.id+":88"),o=n!=null&&n.hasXma&&e&&n.gatingType===String(d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE);if(n!=null&&n.hasXma&&e){var p;p=(p=n.defaultCtaType)!=null?p:""}else p="";var q=new(c("IconSource"))("FB",i("1423124"),28);if(o)if(p==="xma_montage_share")return j.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 xyi19xy x1ccrb07 xtf3nb5 x1pc53ja x78zum5 xdt5ytf x1wkxgih xl56j7k x197sbye x2b8uid xni59qk",children:j.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:j.jsx(c("CometIcon.react"),{icon:q})})});else return j.jsx("div",{className:"x6s0dn4 x99fzhk x18aeczl x1tlxs6b x1g8br2z x1gn5b1j x230xth x78zum5 xdt5ytf xpyat2d xl56j7k x2b8uid x1exxlbk",children:j.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:j.jsx(c("CometIcon.react"),{icon:q})})});o=b("cr:6426")!=null&&e?function(a){return n!=null&&n.hasXma?a.replyAttachmentId!=null?b("cr:6426").getInfoUrlXMA(n,"preview"):void 0:a.replyAttachmentId!=null?b("cr:6426").getAttachmentBlobNonOptional(d("I64").to_string(a.replyAttachmentId)):void 0}:d("LSMediaUrl.bs").Message.replyMediaUrl;p=o(g);return p!=null&&p!==""?j.jsx(c("MWRepliesImage.react"),{height:g.replyMediaPreviewHeight,outgoing:a,src:p,width:g.replyMediaPreviewWidth}):j.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:k.italic,children:l})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var d=a.message;a=a.outgoing;return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(l,{isSecureMessage:b,message:d,outgoing:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesRemoved.react",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__uG4wbYWD9QU__JHASH__");return i.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:j.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesRollcallContribution.react",["fbt","CometBlurredBackgroundImage.react","CometImageCover.react","CometPlaceholder.react","I64","LSMediaUrl.bs","MWV2ReplyTo.bs","ReQL","ReQLSuspense","isStringNullOrEmpty","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=213,k=213,l={blurredImage:{borderBottomStartRadius:"x230xth",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x230xth",$$css:!0},unblurredImageContainer:{borderBottomStartRadius:"x230xth",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(m,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b,e=a.message;a=a.outgoing;var g=h._("__JHASH__-iobVkYmlUt__JHASH__"),m=c("useReStore")(),n=d("I64").of_string((b=e.replyAttachmentExtra)!=null?b:"0");b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.table("roll_calls")).getKeyRange(n)},[m,n],f.id+":71");b=(b=b==null?void 0:b.isBlurred)!=null?b:!0;var o=d("LSMediaUrl.bs").Message.replyMediaUrl(e),p=e.replyMediaPreviewHeight!=null?d("I64").to_float(e.replyMediaPreviewHeight):0;e=e.replyMediaPreviewWidth!=null?d("I64").to_float(e.replyMediaPreviewWidth):0;var q=Math.min(1,j/p),r=Math.min(1,k/e);p=Math.round(p*Math.min(q,r));e=Math.round(e*Math.min(q,r));return!c("isStringNullOrEmpty")(o)?b?i.jsx("div",{style:{height:p,width:e},children:i.jsx(c("CometBlurredBackgroundImage.react"),{src:o,xstyle:[l.blurredImage,a&&l.outgoing]})}):i.jsx("div",{className:c("stylex")([l.unblurredImageContainer,a&&l.outgoing]),style:{height:p,width:e},children:i.jsx(c("CometImageCover.react"),{alt:"",src:o})}):i.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:l.italic,children:g})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesSticker.react",["fbt","CometPlaceholder.react","I64","LSMediaUrl.bs","MWRepliesImage.react","MWV2ReplyTo.bs","MWV2Sticker.react","ReQL","ReQLSuspense","SortedAsyncIterable.bs","cr:2382","cr:3200","cr:6426","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={italic:{fontStyle:"x1k4tb9n",$$css:!0},replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function a(a){var e,g=a.isSecureMessage;g=g===void 0?!1:g;var k=a.message;a=a.outgoing;var l=h._("__JHASH__13yhS1gywbZ__JHASH__"),m=c("useReStore")(),n=d("ReQLSuspense").useFirst(function(){var a=k.replyAttachmentId,b=k.replySourceId;if(b!=null&&a!=null)return d("ReQL").fromTableAscending(m.table("attachments")).getKeyRange(k.threadKey,b,d("I64").to_string(a));else return d("SortedAsyncIterable.bs").empty()},[m,k],f.id+":66");e=(e=k.replyMessageText)!=null?e:"";e=(b("cr:2382")!=null?b("cr:2382").unvault(e):e)==="\ud83d\udc4d";if(e)if(b("cr:3200")==null)return null;else return i.jsx(b("cr:3200"),{xstyle:j.replyHotLikeSticker});e=d("LSMediaUrl.bs").Message.replyMediaUrl(k);if(e!=null&&n==null)return i.jsx(c("MWRepliesImage.react"),{height:k.replyMediaPreviewHeight,isSticker:!0,outgoing:a,src:e,width:k.replyMediaPreviewWidth});if(n==null)return i.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:j.italic,children:l});b("cr:6426")==null||!g?e=function(a){return d("LSMediaUrl.bs").Attachment.previewUrl(a)}:e=function(a){return b("cr:6426").getAttachmentBlobNonOptional(a.attachmentFbid)};return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("MWV2Sticker.react"),{attachment:n,getPreviewUrl:e,scale:.6,xstyle:j.replySticker})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","CometPressable.react","I64","LSMediaUrl.bs","MWRepliesImage.react","XCometStoriesControllerRouteBuilder","cr:6426","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var f=a.message;a=a.outgoing;var g=f.replySourceId;g=g!=null?e?g:(g=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+g),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:(g=g.setProtocol("https"))==null?void 0:g.toString():void 0;e=b("cr:6426")!=null&&e?function(a){return a.replyAttachmentId!=null?b("cr:6426").getAttachmentBlobNonOptional(d("I64").to_string(a.replyAttachmentId)):null}:d("LSMediaUrl.bs").Message.replyMediaUrl;e=e(f);return e==null?null:i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__thxINaLEtLl__JHASH__"),linkProps:g!=null?{url:g}:void 0,overlayDisabled:!0,children:i.jsx(c("MWRepliesImage.react"),{outgoing:a,src:e})})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesText.react",["CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform","MWV2ReplyTo.bs","cr:2382","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var e=a.outgoing,f=a.text;a=i(function(){return{MessengerTextFormatting:[d("MWChatTextFormatting").replyRenderer]}},[]);var g=i(function(){return d("MWChatTextFormatting").getFormattingRanges(f)},[f]),j=b("cr:2382")==null?f:b("cr:2382").unvault(f);return h.jsx(d("MWV2ReplyTo.bs").make,{outgoing:e,children:h.jsx("div",{className:"xi81zsa x126k92a",children:h.jsx(c("CometTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:g,renderers:a,text:j,transforms:d("MWChatTextTransform").epdTextTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesUnavailable.react",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__3TzRhHHRgwV__JHASH__");return i.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:j.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesVideo.react",["fbt","ix","CometImage.react","CometPlaceholder.react","I64","LSMediaUrl.bs","MWLSThreadDisplayContext","MWPStableImage.bs","MWV2ReplyTo.bs","ReQL","ReQLSuspense","cr:6426","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={italic:{fontStyle:"x1k4tb9n",$$css:!0},playButtonContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},thumbnail:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},thumbnailContainer:{position:"x1n2onr6",$$css:!0}};function l(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.message;a=a.outgoing;var l=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();l=l==="ChatTab";var m=c("useReStore")(),n=d("ReQLSuspense").useFirst(function(){var a,b;a=(a=g.replyAttachmentId)!=null?a:d("I64").zero;b=(b=g.replySourceId)!=null?b:"";return d("ReQL").fromTableAscending(m.table("attachments")).getKeyRange(g.threadKey,b,d("I64").to_string(a))},[m,g],f.id+":73"),o;n!=null&&(b("cr:6426")==null||!e?o=d("LSMediaUrl.bs").Attachment.previewUrl(n):o=b("cr:6426").getAttachmentBlobNonOptional(n.attachmentFbid));if(o==null)return j.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:k.italic,children:h._("__JHASH__7WGJ1daCkBD__JHASH__")});e=g.replyMediaPreviewHeight!=null?d("I64").to_float(g.replyMediaPreviewHeight):void 0;a=g.replyMediaPreviewWidth!=null?d("I64").to_float(g.replyMediaPreviewWidth):void 0;var p=100;l=l?180:300;(n==null?void 0:n.previewUrlMimeType)!=null?n=j.jsx(d("MWPStableImage.bs").make,{alt:"",className:"x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",height:e,maxHeight:p,maxWidth:l,src:o,width:a}):n=j.jsx("video",{alt:"",className:"x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",height:e!=null&&e>p?"100%":e,src:o,style:{maxHeight:p,maxWidth:l},width:a!=null&&a>l?"100%":a});return j.jsxs("div",{className:"x1n2onr6",children:[n,j.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d xl56j7k x10l6tqk x17qophe x13vifvy xh8yej3",children:j.jsx(c("CometImage.react"),{src:i("354763")})})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(l,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliedMessage.bs",["MWPBaseRepliedMessage.bs","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message,e=a.outgoing;a=a.isSecureMessage;a=a!=null?a:!1;return h.jsx(d("MWPBaseRepliedMessage.bs").make,{isSecureMessage:a,message:b,outgoing:e,renderAttachment:c("MWRepliesAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("MWRepliesGIF.react"),renderMedia:c("MWRepliesMedia.react"),renderRemovedMessage:c("MWRepliesRemoved.react"),renderRollcallContribution:c("MWRepliesRollcallContribution.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("MWRepliesText.react"),renderUnavailableMessage:c("MWRepliesUnavailable.react"),renderVideo:c("MWRepliesVideo.react")})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MDSReplySvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M18.005 24.4c0 1.278-1.336 2.04-2.334 1.332l-9.007-6.399c-.891-.633-.89-2.028 0-2.661l9.007-6.398c.998-.71 2.334.053 2.334 1.33l.001 3.397c7.14 0 11.997 3.226 11.998 10.987 0 .594-.411 1.012-1.033 1.012-.46 0-.845-.265-1.115-1.083-1.147-3.464-4.54-4.917-9.85-4.917v3.4z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWIsReplyToAuthor",["I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.replySourceTypeV2!=null&&d("I64").equal(a.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").XMA))}g["default"]=a}),98);
__d("useMWReplySnippetContent",["fbt","Actor","I64","MWPMessageAuthor.bs","useMWIsReplyToAuthor","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){var e=c("useMWPIsMessagePinned")(a),f=d("MWPMessageAuthor.bs").useAuthorName(a);f=f[0];var g=d("Actor").useActor();g=g[0];g=g===d("I64").to_string(a.senderId);var i=c("useMWIsReplyToAuthor")(a);return!e||g||i?a.replySnippet:b?h._("__JHASH__lpeJtmI6peT__JHASH__").toString():h._("__JHASH__bGQxu-uwmpe__JHASH__",[h._param("name",f)]).toString()}g["default"]=a}),98);
__d("MWReplySnippet.bs",["I64","LSIntEnum","LSMessageReplySourceTypeV2","MDSForwardSvgIcon.react","MDSReplySvgIcon.react","react","useMWReplySnippetContent"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=a.message;a=a.replySourceTypeV2;if(a!=null){if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").STORY)))return h.jsx(c("MDSReplySvgIcon.react"),{color:"tertiary",size:16});else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE)))return h.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16});return null}return null}b={make:i};function a(a){var b=a.message;a=a.outgoing;a=c("useMWReplySnippetContent")(b,a);if(a!=null)return h.jsxs("div",{className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j","data-testid":void 0,children:[h.jsx(i,{message:b}),h.jsx("div",{className:"x12scifz x1pg5gke x1h0ha7o",children:a})]});else return null}e=b;f=a;g.Icon=e;g.make=f}),98);
__d("MWV2ReplyError.bs",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;return i.jsx(d("MWV2ReplyTo.bs").make,{outgoing:a,xstyle:j.root,children:h._("__JHASH__grNaxJ_sL8-__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("UseMWIsReplyToAuthor.bs",["useMWIsReplyToAuthor"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWIsReplyToAuthor")(a)}g.make=a}),98);
__d("MWMessageRow.react",["CometErrorBoundary.react","CometMiddot.react","CometPlaceholder.react","CometPressable.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MNLSXMALayoutType","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWChatGutterItem.bs","MWChatMessageUnreadIndicator.react","MWClickedMessageContext.react","MWExtraPinnedMessagePadding.react","MWForwardedContent.react","MWLSThread","MWLSThreadDisplayContext","MWMessageDeliveryStatus","MWMessageListAttachmentContainer.bs","MWMessageReactionsContainer.react","MWMessageRowActions.bs","MWPActor.react","MWPBaseMessage.react","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPMessageFooter.react","MWPMessageIsReply.bs","MWPMessageListColumn.bs","MWPMessageListRowWithKeyboardInteractions.bs","MWPMessageLoggingWrapper.bs","MWPMessageParsingUtils.bs","MWPMessagePinnedText.react","MWPMessageReactions.react","MWPMessageRowCalculateStatusCond.react","MWPMessageS2SLoggingWrapper","MWPinnedMessageDropdownButton.react","MWPinnedMessageOverlay.react","MWPinnedMessageRowFooterNUXWrapperRequireNUX.react","MWRepliedMessage.bs","MWReplySnippet.bs","MWV2ChatAdminMessage.bs","MWV2ChatBubble.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.bs","MWV2ChatUnsentMessage.bs","MWV2MessageEndOfGroupContent.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.bs","MWV2MessageStartOfGroupContent.bs","MWV2MessageTimestampTooltip.react","MWV2ReplyError.bs","MWXText.react","QE2Logger","ReQL","ReQL.bs","ReQLSubscription.bs","UseMWIsReplyToAuthor.bs","asyncToGeneratorRuntime","cr:120","cr:4443","deferredLoadComponent","gkx","promiseDone","qex","react","requireDeferredForDisplay","stylex","useCometUniqueID","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("react");e=a.memo;var i=a.startTransition,j=a.useCallback,k=a.useMemo,l=a.useState,m=(b("cr:4443")||{}).make,n=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWMessageReactionsContainerV2.react").__setRef("MWMessageRow.react")),o={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x1i5r0r9",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingTop:"x1nn3v0j","@supports(max-width: min(100%, 500px))_maxWidth":"x8ibpz6",$$css:!0},alignEnd:{alignItems:"xuk3077",$$css:!0},emptyGutter:{width:"x51ohtg",$$css:!0},emptyGutterForTextReceipts:{width:"x1xc55vz",$$css:!0},gutter:{overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xw4jnvo",$$css:!0},multiReactContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},multiReactContainerOutgoing:{alignSelf:"xpvyfi4",$$css:!0},reply:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},replyMargin:{marginBottom:"x1q5jw98",minHeight:"xvnwnnf",$$css:!0}},p=e(function(a){var e=a.hasClickState,f=e===void 0?!1:e,g=a.hasMessageEmphasisRing;e=a.isFirstMessageInGroup;var i=a.isLastMessageInGroup,j=a.isSecureMessage,k=a.message,l=a.nextMessage,m=a.offlineAttachmentId,n=a.outgoing,o=a.prevMessage,p=a.reactions,q=a.reactionsV2,r=a.renderAttachment;a=a.threadType;var s=c("MWClickedMessageContext.react").useHook(),t=s.clickedMessageId,u=s.fetchMessageSeenCount,v=s.hasError,w=s.setClickedMessageId,x=c("useReStore")(),y=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a),z=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(k.threadKey),A=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(x.table("threads")).getKeyRange(k.threadKey))),b=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(x.table("community_folders")).getKeyRange(a.parentThreadKey));a!=null&&b!=null&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:k.messageId},community_id:d("I64").to_string(b.folderId),event:"render_seen_count",group_id:d("I64").to_string(b.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:d("I64").to_string(a.threadKey)});if(t===k.messageId&&!v)return w(null);else return u(k.threadKey,k.messageId,b)})())},[x,t,k.messageId,k.threadKey,v,w,u]);return h.jsx(c("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:e,isLastMessageInGroup:i,message:k,nextMessage:l,outgoing:n,prevMessage:o,reactions:p,reactionsV2:q,renderAttachment:function(a,b,c){return r!=null&&j?r(k,o,l,n):h.jsx(d("MWMessageListAttachmentContainer.bs").make,{connectBottom:b,connectTop:a,hasEmphasisRing:g,hasText:c,message:k,outgoing:n})},renderEmoji:function(){return h.jsx(c("MWV2ChatEmoji.react"),{hasEmphasisRing:g,isSecureMessage:j,message:k})},renderMessageBubble:function(a,b,c,e){return h.jsx(d("MWV2ChatBubble.react").ChatBubble,{connectBottom:c,connectTop:b,hasEmphasisRing:g,message:k,outgoing:n,precedesXMA:e,children:h.jsx(d("MWV2ChatText.bs").make,{isSecureMessage:j,message:k,outgoing:n})})},renderMessageContainer:function(a,e){var g;g=h.jsx(d("MWPMessageLoggingWrapper.bs").make,{messageId:k.messageId,optimisticMessageId:(g=m)!=null?g:k.offlineThreadingId,xstyle:f?[!1]:e,children:y&&b("cr:120")?h.jsx(b("cr:120"),{message:k,children:a}):h.jsx(c("MWV2MessageTimestampTooltip.react"),{message:k,children:a})});if(f)return h.jsx(c("CometPressable.react"),{onPress:A,overlayDisabled:!0,xstyle:e,children:g});else return g},renderMessageFooter:function(){if(z)return null;var a=q!=null&&q.length>0;return h.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{outgoing:n,children:!a&&p.length<1?null:h.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:k,outgoing:n,reactions:p,reactionsV2:a?q:void 0,children:function(b,d,e,f,g){return h.jsx(c("MWMessageReactionsContainer.react"),{count:d,emojis:b,message:f,reactions:e,reactionsV2:a?q:void 0,threadKey:g})}})})},renderUnsentMessage:function(){return h.jsx(c("MWV2MessageTimestampTooltip.react"),{message:k,children:h.jsx(d("MWV2ChatUnsentMessage.bs").make,{isSecureMessage:j,message:k,outgoing:n})})}})});function q(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return k(function(){var b=c("gkx")("571")?"12px":a==="Inbox"?"16px":"8px";return{dark:{"mwp-message-list-profile-start-padding":b},light:{"mwp-message-list-profile-start-padding":b},type:"VARIABLES"}},[a])}f=e(function(a){var b=a.displayMode;b=b===void 0?"standard":b;var e=a.domElementRef,f=a.fbGroupId,g=a.hasMessageEmphasisRing,r=a.isCMAdmin,s=r===void 0?!1:r,t=a.isModal,u=a.isSecureMessage,v=a.message,w=a.nextMessage,x=a.prevMessage,y=a.renderAttachment;r=a.shouldRenderUnreadIndicator;var z=a.stopHoveringRef,A=a.threadType;a=a.useReactionsV2;var B=a===void 0?!1:a,C=b==="pinnedMessages";a=d("MWPActor.react").useActor();b=c("MWClickedMessageContext.react").useHook();var aa=b.clickedMessageId,D=C||d("MWPMessageParsingUtils.bs").isStartOfGroup(v,x),E=C||d("MWPMessageParsingUtils.bs").isEndOfGroup(v,w),F=c("MWCMIsAnyCMThread")(A),G=d("MWCMThreadTypes.react").isBroadcastThread(A);b=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(A);var H=d("LSMessagingThreadTypeUtil").isGroup(A),I=d("LSMessagingThreadTypeUtil").isSecure(A),J=Boolean(d("MWLSThread").useThread(v.threadKey,function(a){return d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(140),a)})),K=!1;if(I){var L;K=(L=c("qex")._("891"))!=null?L:!1;d("QE2Logger").logExposureForUser("messenger_armadillo_web_message_states")}else{K=(L=c("qex")._("65"))!=null?L:!1;d("QE2Logger").logExposureForUser("messenger_web_text_message_receipts_universe")}var M=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(v.threadKey);L=!v.isUnsent&&J;var N=L&&!b,O=!C&&d("I64").equal(v.senderId,a),P=w==null,Q=d("MWPMessageReactions.react").useReactions(v),R=d("MWPMessageReactions.react").useReactionsV2(v),ba=M&&R.some(function(a){return d("I64").to_int32(a.count)>0});J=l(!1);var S=J[0],T=J[1];L=l(!1);var U=L[0],V=L[1],W=j(function(a){return i(function(){return V(a)})},[V,i]),X=j(function(a){return i(function(){return T(a)})},[T,i]),ca=c("useCometUniqueID")();a=l(!1);var Y=a[0],da=a[1],ea=!O,fa=ea&&H,Z=c("MWPMessageIsReply.bs")(v),ga=(Q.length>0||R.length>0)&&!M;J=d("UseMWIsReplyToAuthor.bs").make(v);var ha=J||v.replySourceId==null?!1:v.replyMediaExpirationTimestampMs!=null?d("I64").gt(v.replyMediaExpirationTimestampMs,d("I64").zero):!0,ia=G&&c("gkx")("6159")||C||b||K,ja=function(a){return h.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})},ka=q();L=r===!0?h.jsx(d("MWV2MessageRowSimple.bs").make,{children:h.jsx(c("MWPMessageListColumn.bs").Grow.make,{children:h.jsx(c("MWChatMessageUnreadIndicator.react"),{})})}):null;var la=c("useReStore")(),ma=v.messageId,na=v.threadKey,$=d("ReQLSubscription.bs").useArray(k(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(la.table("attachments")),{hd:na,tl:{hd:ma,tl:0}})},[la,ma,na]),"tawsd338");a=$.length>0&&$[0].xmaLayoutType!=null&&d("I64").equal($[0].xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA));J=$.length>0&&$[0].xmaLayoutType!=null&&d("I64").equal($[0].xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").SHARED_STACK));if(v.isAdminMessage){b=h.jsxs(c("MWPMessageListColumn.bs").Shrinkwrap,{centered:!0,children:[h.jsx(d("MWV2ChatAdminMessage.bs").make,{message:v,nextMessage:w,prevMessage:x}),h.jsx(d("MWMessageListAttachmentContainer.bs").make,{connectBottom:!1,connectTop:!1,message:v,outgoing:O,xstyle:o.adminMessageAttachment})]});v.adminMsgCtaType==null?r=h.jsx(d("MWV2MessageRowSimple.bs").make,{children:b}):r=h.jsx(d("MWPMessageListRowWithKeyboardInteractions.bs").make,{domElementRef:D?void 0:e,isDialogOpened:Y,isFocused:S,isModal:t,message:v,messageDomID:ca,nextMessage:w,outgoing:O,prevMessage:x,setFocused:X,setHovered:W,setIsDialogOpened:da,stopHoveringRef:z,theme:ka,children:b})}else a||J?r=h.jsx(c("MWPMessageListColumn.bs").Shrinkwrap,{centered:!0,children:h.jsx(d("MWV2MessageRowSimple.bs").make,{children:h.jsx(d("MWMessageListAttachmentContainer.bs").make,{connectBottom:!1,connectTop:!1,message:v,outgoing:O,xstyle:o.adminMessageAttachment})})}):r=h.jsxs(h.Fragment,{children:[L,D&&!C?h.jsx(d("MWV2MessageStartOfGroupContent.bs").make,{domElementRef:e,message:v,prevMessage:x}):null,h.jsx(c("MWPMessageRowCalculateStatusCond.react"),{isBroadcastThread:G,isLargeGroup:!1,isSecureGroupThread:I&&H,message:v,nextMessage:w,children:function(a){var b;return h.jsxs(d("MWPMessageListRowWithKeyboardInteractions.bs").make,{domElementRef:D?void 0:e,isDialogOpened:Y,isFocused:S,isModal:t,message:v,messageDomID:ca,nextMessage:w,outgoing:O,prevMessage:x,setFocused:X,setHovered:W,setIsDialogOpened:da,stopHoveringRef:z,theme:ka,children:[h.jsx(c("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:C,fbGroupId:f,isAnyCMThread:F,isFirstMessageInGroup:D,isGroupThread:H,message:v,outgoing:O,renderForwardSnippet:function(){return h.jsx(c("MWForwardedContent.react"),{message:v,outgoing:O})},renderPinnedText:function(a,b){return C?null:h.jsx(c("MWPMessagePinnedText.react"),{divider:b&&h.jsx(c("CometMiddot.react"),{}),message:v})},renderReplySnippet:function(){return h.jsx(d("MWReplySnippet.bs").make,{message:v,outgoing:O})},renderTextWrapper:function(a){return h.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})},renderTimestamp:C?ja:void 0}),h.jsxs(h.Fragment,{children:[D&&!fa?h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:2}):null,Z&&h.jsx("div",{className:c("stylex")(o.reply,O?o.alignEnd:!1,ha?o.replyMargin:!1),role:"none",children:h.jsx(c("MWPMessageListColumn.bs").WithGutters,{grow:!0,children:h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(d("MWV2ReplyError.bs").make,{outgoing:O})},children:C?h.jsx(d("MWRepliedMessage.bs").make,{isSecureMessage:u,message:v,outgoing:O}):h.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:!1,message:v,outgoing:O,children:h.jsx(d("MWRepliedMessage.bs").make,{isSecureMessage:u,message:v,outgoing:O})})})})}),h.jsx(c("MWPMessageS2SLoggingWrapper"),{messageId:v.messageId,optimisticMessageId:(b=$==null?void 0:(b=$[0])==null?void 0:b.offlineAttachmentId)!=null?b:v.offlineThreadingId,statusType:a.type,children:h.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasReactions:ga,message:v,outgoing:O,renderGutterItem:function(){return ia?h.jsx("div",{className:c("stylex")(K?o.emptyGutterForTextReceipts:o.emptyGutter),role:"none"}):h.jsx(d("MWChatGutterItem.bs").make,{errorMessage:v.subscriptErrorMessage!=null&&F?v.subscriptErrorMessage:void 0,incoming:!1,status:a,xstyle:o.gutter})},renderMessageActions:function(){return C?h.jsx(c("MWPinnedMessageDropdownButton.react"),{hidden:!U&&!S,message:v}):h.jsx(d("MWMessageRowActions.bs").make,{ariaHidden:t===!1,focused:S||Y||t,hasReactions:ga,hovered:U,message:v,outgoing:O,shouldHideHoverMenuReact:ba})},renderMultiReactions:function(){if(v.isUnsent)return null;var a=R!=null&&R.length>0;return!M||!a?null:h.jsx("div",{className:c("stylex")(o.multiReactContainer,O?o.multiReactContainerOutgoing:!1),children:h.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:v,outgoing:O,reactions:Q,reactionsV2:R,children:function(a,b,d,e,f,g){return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(n,{emojis:a,message:e,onOpenDialog:g,outgoing:O,reactionsV2:R})})}})})},renderProfile:function(){return h.jsx(c("MWV2MessageProfilePhoto.react"),{ariaHidden:H?!t:!0,isCMAdmin:s,isGroupThread:H,isLastMessageInGroup:E,message:v})},children:h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(c("MWV2ChatErrorBubble.react"),{isReply:Z})},children:C?h.jsx(p,{hasClickState:N,hasMessageEmphasisRing:g,isFirstMessageInGroup:D,isLastMessageInGroup:E,isSecureMessage:u,message:v,nextMessage:w,offlineAttachmentId:$&&$.length>0?$[0].offlineAttachmentId:null,outgoing:O,prevMessage:x,reactions:Q,reactionsV2:B?R:void 0,renderAttachment:y,threadType:A}):h.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:Z,message:v,outgoing:O,children:h.jsx(p,{hasClickState:N,hasMessageEmphasisRing:g,isFirstMessageInGroup:D,isLastMessageInGroup:E,isSecureMessage:u,message:v,nextMessage:w,offlineAttachmentId:$&&$.length>0?$[0].offlineAttachmentId:null,outgoing:O,prevMessage:x,reactions:Q,reactionsV2:B?R:void 0,renderAttachment:y,threadType:A})})})})}),h.jsx(c("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react"),{isLastMessage:P,isOutgoing:O,isPinnedMessageList:C,message:v}),h.jsx(c("MWExtraPinnedMessagePadding.react"),{nextMessage:w}),N&&aa===v.messageId?h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:6}):E&&!K?h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:7}):null]}),C?null:h.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:v,nextMessage:w,showContent:N||d("MWMessageDeliveryStatus").isAlwaysShownStatus(a)&&K,children:function(){return h.jsx(d("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:N&&ea,hasTextBasedMessageReceipts:K,isLastMessage:P,isOutgoing:O,isTextOnly:G,message:v,status:a})}})]})}})]});return h.jsxs(h.Fragment,{children:[r,m==null?null:h.jsx(m,{})]})});g.useTheme=q;g.MWMessageRow=f}),98);
__d("MWPTypingIndicators.react",["fbt","BaseTheme.react","CometScreenReaderText.react","I64","LSIntEnum","LSMediaUrl.bs","LSPresenceStatus","MWBaseTheme","MWChatTypingIndicator.react","MWPMessageListColumn.bs","MWPSolidMessageBubble.bs","MWV2MessageRowSimple.bs","ReQL","ReQLSuspense","ServerTime","TetraOverlappingFacepile.react","clearTimeout","react","setTimeout","stylex","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useEffect,k=e.useMemo,l=e.useState,m={accessibilityText:{borderBottom:"xpj9aq2",$$css:!0},bubble:{backgroundColor:"x1vtvx1t",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",paddingBottom:"xjkvuk6",paddingTop:"x1nn3v0j",$$css:!0}};function n(a,b){a=a.nickname;if(a!=null)return a;a=b.firstName;if(a!=null)return a;else return b.name}function o(a,b){b===void 0&&(b=!1);var e=c("useReStore")(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("typing_indicator")).getKeyRange(a).filter(function(a){return d("ServerTime").getMillis()<d("I64").to_float(a.expirationTimestampMs)}).map(function(f){var g=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("presence_states")).getKeyRange(f.senderId));if(!b||g!=null&&d("I64").equal(g.status,d("LSIntEnum").ofNumber(c("LSPresenceStatus").ACTIVE))){g=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(a,f.senderId));var h=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("contacts")).getKeyRange(f.senderId));if(g!=null&&h!=null)return[g,h,f]}return}).filter(Boolean).take(3)},[e,a,b],f.id+":116");return g.filter(Boolean)}function p(a){return k(function(){var b=a.length;if(b!==1)if(b!==0)return h._("__JHASH__YLfbVFP1cLb__JHASH__");else return"";b=a[0];return h._("__JHASH__Tbm_Qb_Y-B5__JHASH__",[h._param("The participants name",n(b[0],b[1]))])},[a])}function a(a){var b=a.length>0,e=b?a.reduce(function(a,b){return Math.max(a,d("I64").to_float(b[2].expirationTimestampMs))},0):0;a=l(e>d("ServerTime").getMillis());var f=a[0],g=a[1];j(function(){if(b){g(e>d("ServerTime").getMillis());var a=e-d("ServerTime").getMillis(),f=c("setTimeout")(function(){return g(!1)},a);return function(){c("clearTimeout")(f)}}},[e,g,b]);return b&&f}function q(a){var b=a.containerStyle,e=a.messageBubbleStyle,f=a.threadType;a=a.typingParticipants;var g=a.reduce(function(a,b){return Math.max(a,d("I64").to_float(b[2].expirationTimestampMs))},0),h=l(function(){return g>d("ServerTime").getMillis()}),k=h[0],n=h[1];j(function(){n(function(){return g>d("ServerTime").getMillis()});var a=g-d("ServerTime").getMillis(),b=c("setTimeout")(function(){return n(!1)},a);return function(){c("clearTimeout")(b)}},[g,n]);if(k)return i.jsxs("div",{"aria-hidden":!0,className:c("stylex")(m.root,b),children:[i.jsx(c("MWPMessageListColumn.bs").Profile.make,{selfCentered:!0,children:i.jsx(c("TetraOverlappingFacepile.react"),{items:a.map(function(a){return{source:{uri:d("LSMediaUrl.bs").Contact.profilePictureUrl(a[1])}}}),size:28,withWrapper:!1})}),i.jsx(d("MWPSolidMessageBubble.bs").make,{connectBottom:!1,connectTop:!1,outgoing:!1,precedesXMA:!1,xstyle:e,children:i.jsx(c("MWChatTypingIndicator.react"),{threadType:f})})]});else return null}function b(a){var b=a.checkPresenceSettings;b=b===void 0?!1:b;var e=a.containerStyle,f=a.messageBubbleStyle,g=a.theme,h=a.threadKey;a=a.threadType;f=f||m.bubble;g=g||d("MWBaseTheme").empty;h=o(h,b);b=p(h);return h.length>0?i.jsx(c("BaseTheme.react"),{config:g,children:i.jsx(d("MWV2MessageRowSimple.bs").make,{children:i.jsxs(c("MWPMessageListColumn.bs").Grow.make,{children:[i.jsx("div",{"aria-live":"polite",className:"xpj9aq2",children:i.jsx(c("CometScreenReaderText.react"),{text:b})}),i.jsx(q,{containerStyle:e,messageBubbleStyle:f,threadType:a,typingParticipants:h})]})})}):null}e=d("withCometPlaceholder").withCometPlaceholder(b);g.getNameForContact=n;g.useTypingParticipants=o;g.useAccessibilityText=p;g.useShouldShowTypingIndicator=a;g.MWPTypingIndicators=e}),98);
__d("MWPVisibleMessageContextWrapper",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case"Search":return{_0:void 0,TAG:0};case"Reply":return{_0:void 0,TAG:1};case"Pinned":return{_0:void 0,TAG:2};case"LastReadWatermark":return{_0:void 0,TAG:3};case"DeepLink":return{_0:void 0,TAG:4}}}function b(a){switch(a.TAG){case 0:return"Search";case 1:return"Reply";case 2:return"Pinned";case 3:return"LastReadWatermark";case 4:return"DeepLink"}}f.sourceToRE=a;f.sourceToJS=b}),66);
__d("useFirstUnreadMessage",["I64","MWPActor.react","ReQL","ReQLSuspense","gkx","useReStore","useServerTime","useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e=c("gkx")("7262"),g=c("useReStore")(),h=d("MWPActor.react").useActor(),i=c("useServerTime")(),j=c("useStable")(function(){return d("I64").of_string(String(i.getTime()))}),k=c("useStable")(function(){return a.lastReadWatermarkTimestampMs}),l=d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(g.table("messages")).getKeyRange(a.threadKey).bounds({gt:d("ReQL").key(k)}).filter(function(a){a=a.senderId;return d("I64").equal(a,h)}):d("ReQL").empty()},[e,g,a.threadKey,k,h],f.id+":42")==null,m=d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableDescending(g.table("messages_ranges_v2__generated")).getKeyRange(a.threadKey):d("ReQL").empty()},[g,a.threadKey,e],f.id+":60"),n=d("ReQLSuspense").useArray(function(){return l&&m?d("ReQL").fromTableAscending(g.table("messages")).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(m.minTimestampMs,m.minMessageId),lte:d("ReQL").key(j,m.maxMessageId)}).bounds({gt:d("ReQL").key(k)}).take(2):d("ReQL").empty()},[l,m,g,a.threadKey,j,k],f.id+":70");return n.length<=1?null:m==null?void 0:((b=n[0])==null?void 0:b.messageId)===m.minMessageId?void 0:n[0]}g["default"]=a}),98);
__d("MWMessageList",["CometPlaceholder.react","I64","Int64Hooks","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWMessageRow.react","MWMessageSendingContext.react","MWPAriaLabelForMessageListGrid.bs","MWPBaseMessageList.react","MWPMessageListFocusTable.bs","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWPVisibleMessageContext.bs","MWPVisibleMessageContextWrapper","MWV2MessageActionsVisibility.bs","cr:4242","gkx","react","useCometUniqueID","useCommunityFolder","useFirstUnreadMessage","useIsReactionsV2Enabled"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.forwardRef,j=e.useEffect,k=e.useState,l=(b("cr:4242")||{}).make;function m(){return h.jsx(c("MWInboxThreadMessagesSpinner.react"),{})}m.displayName=m.name+" [from "+f.id+"]";function a(a,b){var e=a.entryPoint,f=a.renderFooter,g=a.renderHeader,i=a.thread,n=d("MWV2MessageActionsVisibility.bs").useStopHoveringRef();a=k("");var o=a[0];a=a[1];var p=c("useCometUniqueID")(),q=d("LSMessagingThreadTypeUtil").isSecure(i.threadType),r=d("MWPAriaLabelForMessageListGrid.bs").useHook(i),s=d("MWPVisibleMessageContext.bs").useMWPVisibleMessageContext(),t=s.setVisibleMessage,u=s.visibleMessage,v=d("Int64Hooks").useMemoInt64(function(){return i.threadType},[i.threadType]),w=c("useCommunityFolder")(i),x=w!=null?d("LSCommunityBitOffset").has(d("LSIntEnum").ofNumber(9),w):!1,y=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(i.threadKey,d("useIsReactionsV2Enabled").Action.Read),z=c("useFirstUnreadMessage")(i);s=k(!1);var A=s[0],B=s[1];d("Int64Hooks").useEffectInt64(function(){return t(void 0)},[i.threadKey,t]);j(function(){z&&!A&&t(function(a){return(a=a)!=null?a:{contextLine:"",highlights:[],messageId:z.messageId,source:d("MWPVisibleMessageContextWrapper").sourceToRE("LastReadWatermark"),timestamp:z.timestampMs}})},[z,t,A]);s=d("Int64Hooks").useCallbackInt64(function(){return h.jsxs(h.Fragment,{children:[h.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:i.threadKey,threadType:v}),f&&f()]})},[f,i.threadKey]);e=h.jsx(c("MWPBaseMessageList.react"),{entryPoint:e,onUserScroll:function(){return B(!0)},pageSize:c("gkx")("3676")?3:15,ref:b,renderFooter:s,renderHeader:g,renderJumpToMostRecentMessageButton:function(a){return h.jsx(c("MWJumpToMostRecentMessageButton.react"),{onPress:a})},renderLoadingAnimation:m,renderRow:function(a){var b=a.domElementRef,c=a.message,e=a.nextMessage;a=a.prevMessage;var f=q?d("I64").equal(i.threadKey,c.threadKey):!1,g=(z==null?void 0:z.messageId)===c.messageId;return h.jsx(d("MWMessageRow.react").MWMessageRow,{domElementRef:b,fbGroupId:w==null?void 0:w.fbGroupId,hasMessageEmphasisRing:u==null?!1:u.messageId===c.messageId&&(u.source.TAG===1||u.source.TAG===2),isCMAdmin:x,isModal:o===c.messageId,isSecureMessage:f,message:c,nextMessage:e,prevMessage:a,shouldRenderUnreadIndicator:g,stopHoveringRef:n,threadType:v,useReactionsV2:y})},thread:i});return h.jsx(c("MWMessageSendingContext.react").Provider,{children:h.jsx(c("MWClickedMessageContext.react").Provider,{children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWInboxThreadMessagesSpinner.react"),{}),name:"MWV2MessageList",children:h.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:i,children:h.jsx(d("MWPMessageListFocusTable.bs").make,{ariaLabel:r,modal:o,setModal:a,children:l==null?e:h.jsx(l,{id:p,children:e})})})})})})}a.displayName=a.name+" [from "+f.id+"]";e=i(a);g["default"]=e}),98);
__d("MAWDualSendPermissionsManager.bs",["I64","LSIntEnum","MAWDualSendSimplePermissionsManager.bs","MWV2UseAreThreadContactsDualSendEligible.bs","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useMemo;function i(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(1)))return!d("I64").equal(a,d("LSIntEnum").ofNumber(15));else return!1}function j(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(2)))return!d("I64").equal(a,d("LSIntEnum").ofNumber(16));else return!1}function k(a,b){if(i(a)&&b===1)return[d("MAWDualSendSimplePermissionsManager.bs").isOneToOneDualSendTextUser(),d("MAWDualSendSimplePermissionsManager.bs").isOneToOneDualSendMediaUser()];else if(j(a)&&b===2)return[d("MAWDualSendSimplePermissionsManager.bs").isGroupDualSendTextUser(),d("MAWDualSendSimplePermissionsManager.bs").isGroupDualSendMediaUser()];else return[!1,!1]}function l(a,b,c){var e=d("MWV2UseAreThreadContactsDualSendEligible.bs").useThreadEligiblity(b,c);c=k(c,e);var f=c[0],g=c[1];return h(function(){if(a==="media")return g;else return f},[d("I64").to_string(b),f,g,a,e])}function a(a,b){var c=l("text",a,b);a=l("media",a,b);if(c)return!0;else return a}g.usePermission=l;g.useIsThreadEligible=a}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.bs",["fbt","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWPActor.react","MWPForwardedContent.bs","MWPMessageHasAttachment.bs","MessagingAttachmentType","Promise","ReQL.bs","ReQLSubscription.bs","ServerTime","SortedAsyncIterable.bs","StylexHelpers.bs","bs_caml_option","clearTimeout","promiseDone","react","setTimeout","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useState;function n(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent.bs").useTitle(b,a);return h._("__JHASH__Q9FyIHvWIxM__JHASH__",[h._param("forward title",b)])}e={make:n};function o(a){var b=a.message,e=a.participant;a=a.sender;var f=d("MWPActor.react").useActor();f=d("I64").equal(a.id,f);var g=b.replySourceTypeV2!=null&&d("I64").equal(b.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));e=e!=null?e.nickname:void 0;if(e!=null)e=e;else{var j=a.firstName;e=j!=null?j:a.name}if(g)return i.jsx(n,{message:b,outgoing:f});j=b.replySnippet;if(j!=null)return h._("__JHASH__LPdQYmdaw5d__JHASH__",[h._param("reply snippet",j)]);else if(f)return h._("__JHASH__1b0bN0cduWX__JHASH__");else return h._("__JHASH__3ymXOGN3z8-__JHASH__",[h._param("name of sender",e)])}var p={make:o};function q(a){return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function r(a){a=a.message;var b=c("useReStore")(),e=a.messageId,f=a.threadKey;a=d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("attachments")),{hd:f,tl:{hd:e,tl:0}})},[b,e,f]),"79365qwq");if(a.length!==1)if(a.length>1&&a.every(q))return i.jsx("div",{children:h._("__JHASH__mLcLGv6kQjM__JHASH__",[h._param("count of images, greater than or equal to 2",String(a.length))])});else return null;a=a[0];var g=a.attachmentType;if(d("I64").equal(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))||d("I64").equal(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))){var j=a.titleText;j=i.jsxs(i.Fragment,{children:[h._("__JHASH__CsGZwNmXaIO__JHASH__"),j!=null?h._("__JHASH__tk2ipgOtBcG__JHASH__",[h._param("title of image",j)]):null]})}else if(d("I64").equal(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))j=h._("__JHASH__0rNBSLJGEDI__JHASH__");else if(d("I64").equal(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO)))j=h._("__JHASH__456qLg2FzOf__JHASH__");else if(d("I64").equal(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER))){var k=a.accessibilitySummaryText;j=i.jsxs(i.Fragment,{children:[h._("__JHASH__0TMOPValyqo__JHASH__"),k!=null&&k!==""?h._("__JHASH__z9hWNeIESIs__JHASH__",[h._param("title of sticker",k)]):null]})}else if(d("I64").equal(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))j=h._("__JHASH__sBZdmUKngae__JHASH__");else if(d("I64").equal(g,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE))){k=a.filename;j=i.jsxs(i.Fragment,{children:[h._("__JHASH__3lrC4KV5Ban__JHASH__"),k!=null?h._("__JHASH__120leC-bvKi__JHASH__",[h._param("name of file",k)]):null]})}else j=h._("__JHASH__PpAv-1cm1Lu__JHASH__");return i.jsx("div",{children:j})}r.displayName=r.name+" [from "+f.id+"]";var s={make:r};function t(a){var b=a.message,e=a.participant,f=a.sender;a=a.thread;var g=m(!1),h=g[1];k(function(){var a=c("setTimeout")(function(){return h(!0)},100);return function(){c("clearTimeout")(a)}},[h]);if(g[0]){g=b.text;if(d("MWPMessageHasAttachment.bs").make(b)){var j=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);j=j?null:i.jsx(r,{message:b,thread:a})}else j=null;e=i.jsxs(i.Fragment,{children:[i.jsx("div",{children:i.jsx(o,{message:b,participant:e,sender:f,thread:a})}),g!=null?i.jsx("div",{children:g}):null,j]})}else e=null;return i.jsx("div",{"aria-live":"polite","aria-relevant":"additions",className:c("stylex")(d("StylexHelpers.bs").styles.visuallyHidden),role:"alert",children:e},b.messageId+"new_message_sr_announcement")}t.displayName=t.name+" [from "+f.id+"]";f={make:t};function u(a,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor(),h=l(d("ServerTime").getMillis());d("Int64Hooks").useEffectInt64(function(){return d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("messages")),{hd:e.threadKey,tl:0}),function(g,i){switch(i.TAG){case 0:var j=i._0;if(d("I64").to_float(j.timestampMs)>h.current){h.current=d("I64").to_float(j.timestampMs);c("promiseDone")(b("Promise").all([f.table("contacts").get({hd:j.senderId,tl:0}),f.table("participants").get({hd:j.threadKey,tl:{hd:j.senderId,tl:0}})]),function(b){var c=b[0];if(c!=null)return a(j,c,e,b[1])});return}else return;case 1:case 2:return}})},[f,g,e.threadKey])}function a(a){a=a.thread;var b=m(function(){}),e=b[1];b=b[0];var f=j(function(a,b,f,g){if(d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return e(function(){return c("bs_caml_option").some(i.jsx(t,{message:a,participant:g,sender:b,thread:f}))})},[e]);u(f,a);if(b!=null)return c("bs_caml_option").valFromOption(b);else return null}e=e;p=p;var v=q;s=s;f=f;var w=u;a=a;g.ForwardTitle=e;g.Header=p;g.isImage=v;g.Attachment=s;g.Alert=f;g.useHook=w;g.make=a}),98);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a=d("CometRelay").useLazyLoadQuery(i,{},{fetchPolicy:"store-or-network"});return(a==null?void 0:(a=a.viewer)==null?void 0:a.chat_visibility)===!0}g["default"]=a}),98);
__d("LsBotComposerQuickReplyDisplayedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743836");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_displayed",a);e=b;g["default"]=e}),98);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743837");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e=b;g["default"]=e}),98);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743846");b=d("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e=b;g["default"]=e}),98);
__d("useMWV2SendIcebreakerMessage",["I64","LSFactory","LSIntEnum","LSMailboxType","LSNullstateCTAType","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint.bs","MWMDotMeReferrerContext.bs","MWPActor.react","MessageSendClickFalcoEvent","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor(),i=d("MWMDotMeReferrerContext.bs").useMDotMeReferrer();return h(function(h,j){var k=d("LSThreadAttributionTypeUtil.bs").getSource(a.threadKey,b);h=h!=null?d("I64").equal(h.ctaType,d("LSIntEnum").ofNumber(c("LSNullstateCTAType").GET_STARTED))&&h.ctaId===j.ctaId:!1;var l=h?i:void 0;c("promiseDone")(f.runInTransaction(function(b){var f;return c("LSOptimisticSendMessage")(g,a.threadKey,a.threadType,d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),j.title,void 0,void 0,void 0,void 0,void 0,void 0,k,(f=l)!=null?f:void 0,(f=j.platformToken)!=null?f:void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0,!0,void 0,(f=e)!=null?f:void 0,void 0,void 0,void 0,c("LSFactory")(b))},"readwrite"));var m=d("I64").to_string(a.threadKey);if(h)c("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(){return{page:{id:m}}});else{var n=(h=j.ctaIdentifier)!=null?h:"";c("LsBotComposerQuickReplyTappedFalcoEvent").log(function(){return{display:void 0,page:{id:m},quick_reply:{id:n,type:64}}})}c("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint.bs").icebreaker}}})},[f,g,d("I64").to_string(a.threadKey),b,i])}g["default"]=a}),98);
__d("MWV2ThreadNullstate.bs",["fbt","CometLink.react","CometPressable.react","CometScrollableArea.react","I64","JSResourceForInteraction","LSIntEnum","LSNullstateCTAType","LSThreadTitle.react","LsBotComposerQuickReplyDisplayedFalcoEvent","MWPreloadedText","MWXText.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","gkx","qex","react","stylex","useCometLazyDialog","useCurrentDisplayMode","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useState,m={dark_mode_legible_text_pill:{alignItems:"x6s0dn4",backgroundColor:"xmd5bsh",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xi81zsa",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",wordBreak:"x13faqbe",$$css:!0},pill:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xxq4lyh",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",wordBreak:"x13faqbe",$$css:!0}};function n(a){var b=a.children;a=a.onClick;var d=c("useCurrentDisplayMode")()==="dark";return i.jsx(c("CometPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:function(){return[d?m.dark_mode_legible_text_pill:m.pill]},children:b})}n.displayName=n.name+" [from "+f.id+"]";var o={cta_list:{alignItems:"xuk3077",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},cta_list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},cta_list_item_center:{alignSelf:"xamitd3",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",$$css:!0},privacy_text:{paddingBottom:"xx6bls6",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},privacy_text_offset:{paddingBottom:"xg8j3zb",paddingTop:"x1iorvi4",$$css:!0},welcome_text:{paddingBottom:"x1hhzuzn",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0}};function a(a){var b=a.lsSource,e=a.initiatingSource,f=a.nullstate,g=a.nullstateCtas,j=a.thread;a=k(c("MWPreloadedText"));b=b!=null?b:"unknown";var l=c("qex")._("357");l=l?h._("__JHASH__DEznlgE40i___JHASH__"):h._("__JHASH__SnAPOCvmUOd__JHASH__");var m=h._("__JHASH__TiVBDUafVwm__JHASH__",[h._param("name",i.jsx(c("LSThreadTitle.react"),{thread:j,wrapOutput:function(a,b){return b}})),h._param("= public info link",i.jsx(c("CometLink.react"),{color:"primary",href:"https://www.facebook.com/help/messenger-app/719578818758231",role:"link",target:"_blank",children:i.jsx(c("MWXText.react"),{type:"body4",children:h._("__JHASH__Gh1QF47PUp7__JHASH__")})}))]),n=f.privacyText,q=f.privacyTextNonWelcomeScreen,r=!!a.text&&!!q;r=r||n?i.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:r?q:n}):null;q=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2ThreadNullstate.bs"));var s=q[0];n=f.privacyTextCtaTitle;q=i.jsx(c("CometLink.react"),{color:"primary",onClick:function(){s({entryPoint:"NULL_STATE",onClose:function(){},threadKey:j.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"NULL_STATE",page_id:d("I64").to_string(j.threadKey)}})},role:"link",target:"_blank",children:n!=null?i.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:n}):null});n=f.welcomeText;var t=f.privacyText;n=i.jsxs("div",{children:[n!=null&&!a.text?g.length!==0?n!==l.toString()?i.jsxs("div",{children:[i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:n})}),i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:l})})]}):i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:l})}):n!==l.toString()?i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:n})}):null:g.length!==0&&!a.text?i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:l})}):null,a.text?null:i.jsx(p,{initiatingSource:e,lsSource:b,nullstate:f,nullstateCtas:g,thread:j}),t!=null?i.jsx("div",{className:"xx6bls6 xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:c("gkx")("2386")&&d("I64").equal(f.privacyTextCtaType,d("LSIntEnum").ofNumber(c("LSNullstateCTAType").PRIVACY_DISCLOSURE))?i.jsxs(i.Fragment,{children:[r," ",q]}):m})}):null]});return i.jsx(c("CometScrollableArea.react"),{xstyle:o.privacy_text_offset,children:n})}a.displayName=a.name+" [from "+f.id+"]";function p(a){var b=a.nullstate,e=a.nullstateCtas,f=a.thread,g=c("useMWV2SendIcebreakerMessage")(f,a.lsSource,a.initiatingSource),h=e.map(function(a){return a.ctaIdentifier});a=l(!1);var k=a[0],m=a[1];a=c("useVisibilityObserver")({onVisible:j(function(){if(!k&&h.length>0){m(!0);var a=d("I64").to_string(f.threadKey);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:h,num_items:h.length,type:60},page:{id:a}}})}},[k,h,f.threadKey])});return i.jsx("ul",{className:"xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x11i5rnm xat24cr x1mh8g0r",ref:a,children:e.map(function(a){var e=d("I64").equal(b.ctaType,d("LSIntEnum").ofNumber(c("LSNullstateCTAType").GET_STARTED))&&b.ctaId!=null&&d("I64").equal(b.ctaId,a.ctaId);return i.jsx("li",{className:c("stylex")(o.cta_list_item,e?o.cta_list_item_center:!1),children:i.jsx(n,{onClick:function(){return g(b,a)},children:a.title})},d("I64").to_string(a.ctaId))})})}p.displayName=p.name+" [from "+f.id+"]";e=a;g.MWV2ThreadNullstatePill=n;g.make=e}),98);
__d("MWV2PersistentIcebreakers.bs",["I64","LsBotComposerQuickReplyDisplayedFalcoEvent","MWPThreadTheme.bs","MWV2ThreadNullstate.bs","react","stylex","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useState,k={container:{position:"x1n2onr6",width:"xh8yej3",$$css:!0},list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},pillContainerVertical:{alignItems:"xuk3077",backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"xm7lytj",$$css:!0}};function a(a,b,c){if(b.length!==0)return((c|0)-d("I64").to_int32(a.lastActivityTimestampMs)|0)>=216e5;else return!1}function b(a){var b=a.lsSource,e=a.initiatingSource,f=a.nullstateCtas,g=a.thread;a=b!=null?b:"unknown";var l=c("useMWV2SendIcebreakerMessage")(g,a,e);b=d("MWPThreadTheme.bs").useHook();var m=f.map(function(a){return a.ctaIdentifier});a=j(!1);var n=a[0],o=a[1];e=c("useVisibilityObserver")({onVisible:i(function(){if(!n&&m.length>0){o(!0);var a=d("I64").to_string(g.threadKey);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:m,num_items:m.length,type:60},page:{id:a}}})}},[n,m,g.threadKey])});return h.jsx("div",{className:c("stylex")(k.container,d("MWPThreadTheme.bs").isGradient(b)?k.mask:!1),ref:e,children:h.jsx("ul",{className:"xuk3077 xcrg951 x78zum5 xdt5ytf xm7lytj",children:f.map(function(a){if(a.ctaType==="nullstate_icebreaker")return h.jsx("li",{className:"xamitd3 xsag5q8 xn6708d x1ye3gou x2b8uid",children:h.jsx(d("MWV2ThreadNullstate.bs").MWV2ThreadNullstatePill,{onClick:function(){return l(void 0,a)},children:a.title})},d("I64").to_string(a.ctaId));else return null})})})}b.displayName=b.name+" [from "+f.id+"]";e=a;f=b;g.shouldShowPersistentIcebreakers=e;g.make=f}),98);
__d("MWChatHotLikeEmitterContext.bs",["MWChatHotlikeEmitter.bs","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");c=d("react");e=c.createContext;var h=c.createElement,i=c.useContext,j=d("MWChatHotlikeEmitter.bs").createEmitter(),k=e(j);function a(a){a=a.children;return h(k.Provider,{children:a,value:j})}f={make:a};function b(){return i(k)}g.emitter=j;g.context=k;g.Provider=f;g.useHook=b}),98);
__d("MWQuickPromotionThreadViewBanner.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql"),a.eligiblePromotions);a=a==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;var e=c("useQuickPromotionFalcoEvent")({context_surface_id:8783,context_trigger:"messenger_thread_open"});return a==null?null:i.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:i.jsx(d("CometRelay").MatchContainer,{match:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBannerContainer.react",["CometPlaceholder.react","CometRelay","I64","LSIntEnum","MWLSThreadDisplayContext","MWQuickPromotionThreadViewBanner.react","MWQuickPromotionThreadViewBannerContainerQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j="CHAT_TAB_OPEN",k="MESSENGER_THREAD_OPEN";function l(a){switch(a){case"ChatTab":return j;default:return k}}function m(a){var e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();e=l(e);a=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWQuickPromotionThreadViewBannerContainerQuery.graphql"),{fb_group_id:d("I64").equal(a.fbGroupId,d("LSIntEnum").ofNumber(-14))?d("I64").to_string(a.fbGroupId):null,thread_id:d("I64").to_string(a.threadId),trigger:e});a=a==null?void 0:(e=a.viewer)==null?void 0:e.eligible_promotions;return a==null?null:i.jsx(c("MWQuickPromotionThreadViewBanner.react"),{eligiblePromotions:a})}m.displayName=m.name+" [from "+f.id+"]";function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(m,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUX.bs",["cr:1799381","cr:1799382","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.senderUnsendNUXEnabled;return h.jsxs(h.Fragment,{children:[b("cr:1799381")==null?null:h.jsx(b("cr:1799381").make,{}),!(b("cr:1799382")==null)&&a?h.jsx(b("cr:1799382").make,{}):null]})}c=a;g.mwChatUnsendNUXReceiver=b("cr:1799381");g.mwChatUnsendNUXSender=b("cr:1799382");g.make=c}),98);
__d("MWChatUnsendNUXReceiverBanner.bs",["fbt","ix","CometLazyDialogTrigger.react","CometSkittleIcon.react","JSResourceForInteraction","MDSRow.react","MDSRowItem.react","MWXText.react","TetraButton.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},card:{backgroundColor:"xcrg951",boxShadow:"x7m3og9",position:"x10l6tqk",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(a){var b=a.onDismiss,e=a.onView;a=h._("__JHASH__6a2Fgvho2wx__JHASH__");var f=h._("__JHASH__ZJi8hPzvWwM__JHASH__");return j.jsxs("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",children:[j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[j.jsx(c("MDSRowItem.react"),{xstyle:k.imageRow,children:j.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:d("fbicon")._(i("685851"),16),size:36})}),j.jsxs(c("MDSRowItem.react"),{expanding:!0,children:[j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:a})})}),j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:f})})})]})]}),j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[j.jsx(c("MDSRowItem.react"),{xstyle:k.button,children:j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(){}},dialogResource:c("JSResourceForInteraction")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.bs"),children:function(a){return j.jsx(c("TetraButton.react"),{label:h._("__JHASH__LPDl6ep1oBy__JHASH__"),onPress:function(){a();return e()},type:"secondary"})}})}),j.jsx(c("MDSRowItem.react"),{xstyle:k.button,children:j.jsx(c("TetraButton.react"),{label:h._("__JHASH__IRN53cEfYnc__JHASH__"),onPress:b,type:"secondary"})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("RelayHooks").useRelayEnvironment(),e=i(function(e){c("promiseDone")(d("CometRelay").fetchQuery(b,j,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;e(a)},null)},[b,a]),f=i(function(){d("CometDismissFBNuxMutation").commit(b,a)},[b,a]),g=i(function(){d("CometLogImpressionFBNuxMutation").commit(b,a)},[b,a]);return[e,f,g]}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.bs",["I64","MWChatUnsendNUXReceiverBanner.bs","MWPActor.react","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","react","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function m(a){return Date.now()-d("I64").to_float((a=a.unsentTimestampMs)!=null?a:d("I64").zero)<=1e4}function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.bs").useIdMemoizedExn(),e=c("useReStore")(),f=l(!1),g=f[0],n=f[1],o=k(!1),p=k(!1),q=k();f=c("useMessengerUnsendNUX")(8568);var r=f[0],s=f[1],t=f[2],u=i(function(){var a=q.current;if(a!=null){a();q.current=void 0;return}},[]);f=i(function(){p.current=!0;s();u();return n(!1)},[]);var v=i(function(a){var b=!g&&!o.current;if(b&&m(a)){o.current=!0;return r(function(a){o.current=!1;if(a)return n(!0);else{u();p.current=!0;return}})}},[a,g]);j(function(){if(p.current)return;else{q.current=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("messages")),{hd:b,tl:0}),function(b){if(b.isUnsent)return!d("I64").equal(b.senderId,a);else return!1}),function(a,b){switch(b.TAG){case 0:case 1:return v(b._0);case 2:return}});return function(){u();if(g&&!p.current)return t()}}},[g,v,b,u]);if(g)return h.jsx(c("MWChatUnsendNUXReceiverBanner.bs"),{onDismiss:f,onView:f});else return null}e=8568;f=1e4;b=e;e=f;f=m;a=a;g.cNUX_ID=b;g.cTEN_SECONDS=e;g.isMessageUnsentInLastTenSeconds=f;g.make=a}),98);
__d("MWChatUnsendNUXSender.bs",["I64","JSResourceForInteraction","MWChatUnsendNUXReceiver.bs","MWPActor.react","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","react","useCometLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef;function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.bs").useIdMemoizedExn(),e=c("useReStore")(),f=j(!1),g=j(!1),k=j(!1),l=j(),m=c("useMessengerUnsendNUX")(8598),n=m[0],o=m[1],p=h(function(){var a=l.current;if(a!=null){a();l.current=void 0;return}},[]),q=h(function(){if(!k.current){k.current=!0;p();return o()}},[]);m=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.bs"));var r=m[0],s=h(function(a){var b=!f.current&&!g.current;if(b&&d("MWChatUnsendNUXReceiver.bs").isMessageUnsentInLastTenSeconds(a)){f.current=!0;return n(function(a){f.current=!1,a?(r({onView:q},function(){}),g.current=!0):(p(),k.current=!0)})}},[a,p]);i(function(){l.current=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("messages")),{hd:b,tl:0}),function(b){if(b.isUnsent)return d("I64").equal(b.senderId,a);else return!1}),function(a,b){switch(b.TAG){case 0:case 1:return s(b._0);case 2:return}});return p},[b,s,p]);return null}e=8598;f=a;g.cNUX_ID=e;g.make=f}),98);
__d("MWChatFilePreProcessingErrorDialog.bs",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._("__JHASH__rp1B2ks3qwV__JHASH__"),title:h._("__JHASH__Tgh_5naYWqz__JHASH__")};g.invalidFileFormat=a}),98);
__d("MWChatFileUploadErrorDialog.bs",["fbt","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:c("gkx")("1147754")?h._("__JHASH__tncNGvtAhMp__JHASH__"):h._("__JHASH__BNDx1mX2nlz__JHASH__"),title:h._("__JHASH__GVmFuh2jycz__JHASH__")};g.maxFileSizeExceeded=a}),98);
__d("MWChannelInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWChannelInviteDialog.react").__setRef("MWChannelInviteDialog.entrypoint")};g["default"]=a}),98);
__d("useMWV2StartGroupCall",["Actor","I64","Int64Hooks","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","Promise","RTCCallState.bs","ReQL","asyncToGeneratorRuntime","promiseDone","qex","react","useCometLazyDialog","useRTWebCometStartCallCallback","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,e,f,g){var l=c("useReStore")(),m=c("useRTWebCometStartCallCallback")(),n=d("Actor").useActor(),o=n[0];n=c("useCometLazyDialog")(c("JSResourceForInteraction")("RestrictedUserInGroupInterstitialDialog.react").__setRef("useMWV2StartGroupCall"));var p=n[0],q=d("Int64Hooks").useCallbackInt64(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var h;e();h=(h=d("LSMessagingThreadTypeUtil").isGroup(a.threadType))!=null?h:!1;var n=d("ReQL").firstAsync(d("ReQL").fromTableAscending(l.table("mi_act_mapping_table")).getKeyRange(a.threadKey).map(function(a){return a.jid})),q=d("ReQL").toArrayAsync(i(l,a.threadKey)),r=d("ReQL").firstAsync(j(l,a.threadKey,o)),s=d("ReQL").firstAsync(k(l,a.threadKey));n=(yield b("Promise").all([n,r,s,q]));r=n[0];s=n[1];q=n[2];n=n[3];h=h&&n.length>0&&c("qex")._("1019")===!0;var t={existingCall:q!=null?{call_state:d("RTCCallState.bs").ofLsRtcCallState(a.ongoingCallState,a.threadType),initiator_fbid:null,server_info_data:q}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),mediaType:f,thread:{e2eeThreadID:r!=null?d("I64").to_string(r):void 0,id:d("I64").to_string(a.threadKey),secureOneToOneThreadPeerId:s!=null&&d("I64").equal(a.threadType,d("LSIntEnum").ofNumber(15))?d("I64").to_string(s):void 0,type:d("I64").to_int32(a.threadType)},trigger:g};return h?p({onContinue:function(){return m(t)},restrictedUsers:n}):m(t)}),[f,o,l,e,p,m,a.ongoingCallState,a.threadKey,a.threadType,g]);return h(function(){return c("promiseDone")(q())},[q])}var i=function(a,b){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b).take(20),d("ReQL").fromTableAscending(a.table("contacts"))).filter(function(a){a[0];a=a[1];return(a=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),a))!=null?a:!1}).map(function(a){a[0];a=a[1];return a})},j=function(a,b,c){return d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b).filter(function(a){return!d("I64").equal(a.contactId,d("I64").of_string(c))}).map(function(a){return a.contactId})},k=function(a,b){return d("ReQL").fromTableAscending(a.table("rtc_ongoing_calls_on_threads_v2")).getKeyRange(b).map(function(a){return a.ongoingCallServerInfoData})};g.useMWV2StartGroupCall=a}),98);
__d("MWV2ChatRTCButtons.bs",["fbt","CometPressable.react","I64","Int64Hooks","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadBitOffset","MAWGating","MWChatContactPresenceHook.bs","MWChatIsMessageRequest.bs","MWChatRTCButtonIcons.bs","MWLSFeatureLimitedStatus.bs","MWPActor.react","MWStartRTCCallUtils","MWXTooltip.react","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","ODS","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","emptyFunction","gkx","promiseDone","react","useMWV2StartGroupCall","useReStore","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useRef,l="startVideoCall",m="startVoiceCall",n="joinVideoChat";function o(a,e,f,g,h){var i=k(c("uuidv4")()).current;return j(function(e){var g=d("I64").to_string(a.threadKey),j=f==="video"?1:0;g="/call?threadid="+g+"&isvideocall="+j+"&funnel_id="+i;d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");d("MWStartRTCCallUtils").logCallAttemptViaLocalhost({funnelSessionId:i});c("promiseDone")(b("Promise").all([new(c("MessengerDesktopLocalServerRequest"))(g,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(a){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),h(e)}).setTimeoutHandler(function(){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),h(e)}).send()]))},[f,i,a.threadKey,h])}function p(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").take(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),function(a){return!d("I64").equal(a.contactId,e)}),1)},[b,a.threadKey,e]);g=d("ReQLSubscription.bs").useArray(g,"1h7umm23",f.id+":183");return d("MWChatContactPresenceHook.bs").useHasActiveContact(g.map(function(a){return a.contactId}))}function q(a){var b=a.threadKey,e=c("useReStore")(),g=d("MWPActor.react").useActor();a=d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:b,tl:0}),2),function(a){return!d("I64").equal(a.contactId,g)}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:a.contactId,tl:0}))})},[e,b,g]),"sc103b7e",f.id+":195");var h;if(a.length!==1)h=!1;else{var i=a[0];h=i!=null?d("I64").equal(i.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE)):!1}if(!h)return[!0,!0];i=!0;h=!0;for(var j=0,k=a.length;j<k;++j){var l=a[j];if(l!=null){var m;m=(m=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(17),l))!=null?m:!0;l=(l=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(16),l))!=null?l:!0;i=i&&m;h=h&&l}}if(c("gkx")("1710932"))return[i,h];else return[!1,!1]}function r(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(b.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0})},[b,a.threadKey]),"r11e6b61",f.id+":279")!=null,h=d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:{hd:e,tl:0}})},[b,a.threadKey,e]),"vc8mtg5d",f.id+":296")!=null,i=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(25),a),j=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(24),a),k=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),l=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!k||d("MAWGating").isFeatureLimitEnabled()),m=q(a),n=a.threadType;h=(d("I64").equal(n,d("LSIntEnum").ofNumber(2))||d("I64").equal(n,d("LSIntEnum").ofNumber(16)))&&h||d("I64").equal(n,d("LSIntEnum").ofNumber(1))||d("I64").equal(n,d("LSIntEnum").ofNumber(15))?[i,j]:[!1,!1];n=d("MWChatIsMessageRequest.bs").fn(a.folderName);i=!n&&g&&!l&&(!k||c("gkx")("5709"));if(i)return[m[0]&&h[0],m[1]&&h[1]];else return[!1,!1]}function s(a){var b=a.icon,d=a.label,e=a.onPress,f=a.overlayDisabled,g=a.renderContainer;a=a.testid;b={"aria-label":d,children:b,onPress:e,overlayDisabled:f,overlayRadius:"50%"};a!=null&&(b.testid=a);e=i.jsx(c("MWXTooltip.react"),{align:"middle",position:function(){switch(c("gkx")("571")?"below":"above"){case"below":return"below";case"above":return"above";case"start":return"start";case"end_":return"end"}}(),tooltip:d,children:i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},b))});if(g!=null)return g(e);else return e}e={make:s};function t(a){var b=a.startAudioCall,c=a.fill,e=a.overlayDisabled,f=a.renderContainer;a=a.size;c={icon:d("MWChatRTCButtonIcons.bs").$$Audio.icon(c,a),label:h._("__JHASH__7OlJstElKZQ__JHASH__"),onPress:b,overlayDisabled:e,testid:m};f!=null&&(c.renderContainer=f);return i.jsx(s,babelHelpers["extends"]({},c))}t.displayName=t.name+" [from "+f.id+"]";var u={make:t};function v(a){var b=a.fill,c=a.isActive,e=a.overlayDisabled,f=a.renderContainer,g=a.size,j=a.startVideoCall;a={icon:d("MWChatRTCButtonIcons.bs").Video.icon(b,g,c),label:h._("__JHASH__BhmiwbAyMN2__JHASH__"),onPress:function(a){return j(a)},overlayDisabled:e,testid:l};f!=null&&(a.renderContainer=f);return i.jsx(s,babelHelpers["extends"]({},a))}v.displayName=v.name+" [from "+f.id+"]";var w={make:v};function x(a){var b=a.fill,e=a.ongoingCallState,f=a.overlayDisabled,g=a.renderContainer,j=a.size,k=a.startAudioCall;a=a.startVideoCall;if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL)))return null;b={icon:d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?d("MWChatRTCButtonIcons.bs").$$Audio.icon(b,j):d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?d("MWChatRTCButtonIcons.bs").Video.icon(b,j):null,label:d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?h._("__JHASH__Jezj_QnZwHq__JHASH__"):d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?h._("__JHASH__LWBq4gDrf_a__JHASH__"):"",onPress:d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?k:d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?a:function(){},overlayDisabled:f,testid:n};g!=null&&(b.renderContainer=g);return i.jsx(s,babelHelpers["extends"]({},b))}x.displayName=x.name+" [from "+f.id+"]";var y={make:x};function a(a){var b=d("MWStartRTCCallUtils").useShouldTryWithMessengerDesktop(),e=a.audioCallingSurface,f=a.fill,g=a.logAudio;g=g===void 0?c("emptyFunction"):g;var h=a.logVideo;h=h===void 0?c("emptyFunction"):h;var j=a.overlayDisabled;j=j===void 0?!1:j;var k=a.renderContainer,l=a.size;l=l===void 0?"26px":l;var m=a.thread;a=a.videoCallingSurface;var n=p(m),q=r(m),s=q[0];q=q[1];var u=d("useMWV2StartGroupCall").useMWV2StartGroupCall(m,h,"video",a),w=d("useMWV2StartGroupCall").useMWV2StartGroupCall(m,g,"audio",e);h=o(m,h,"video",a,u);a=o(m,g,"audio",e,w);g=b?h:u;e=b?a:w;if(!(s||q))return null;h=m.ongoingCallState;if(!d("I64").equal(h,d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL))){u={fill:f,ongoingCallState:h,overlayDisabled:j,size:l,startAudioCall:e,startVideoCall:g};k!=null&&(u.renderContainer=k);return i.jsx(x,babelHelpers["extends"]({},u))}if(s){b={fill:f,overlayDisabled:j,size:l,startAudioCall:e};k!=null&&(b.renderContainer=k);a=i.jsx(t,babelHelpers["extends"]({},b))}else a=null;if(q){w={fill:f,isActive:n,overlayDisabled:j,size:l,startVideoCall:g};k!=null&&(w.renderContainer=k);m=i.jsx(v,babelHelpers["extends"]({},w))}else m=null;return i.jsxs(i.Fragment,{children:[a,m]})}var z=l,A=m,B=n;e=e;w=w;y=y;a=a;g.$$Audio=u;g.startVideoCallTestid=z;g.startVoiceCallTestid=A;g.joinVideoChatTestid=B;g.BaseButton=e;g.Video=w;g.JoinExistingChat=y;g.make=a}),98);
__d("MWV2HeaderMinimizeButton.react",["fbt","CometPressable.react","MWXTooltip.react","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color;a=a.onPress;var d=c("useSetAttributeRef")("data-prevent_chattab_focus","1"),e=h._("__JHASH__Sy-7_lHYMqE__JHASH__");return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:e,children:i.jsx(c("CometPressable.react"),{"aria-label":e,onPress:a,overlayRadius:"50%",ref:d,children:i.jsx("svg",{height:"26px",viewBox:"-4 -4 24 24",width:"26px",children:i.jsx("line",{stroke:b,strokeLinecap:"round",strokeWidth:"2",x1:"2",x2:"14",y1:"8",y2:"8"})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2HeaderSettingsButton.react",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","LSFactory","LSIntEnum","LSIssueCommunityMemberListFetch","LSMessagingThreadTypeUtil","LSVec","MDSRow.react","MDSRowItem.react","MWCMThreadTypes.react","MWXTooltip.react","ODS","WebUXLoggingSurfaceContextProvider","cr:2580","emptyFunction","pageID","promiseDone","react","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={icon:{marginStart:"x1i64zmx",$$css:!0},rowItem:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",minWidth:"xeuugli",$$css:!0}};function k(a){var b=a.color;a=a.size;a=a===void 0?"10px":a;return i.jsx("svg",{"aria-hidden":"true",className:"x1i64zmx",height:a,viewBox:"0 0 18 10",width:a,children:i.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:b,fillRule:"evenodd"})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var e=a.children,f=a.iconColor,g=a.tab;a=a.thread;var l=c("useReStore")(),m=c("useCommunityFolder")(a),n=a.threadKey,o=a.threadType,p=d("MWCMThreadTypes.react").isJoinedCMThread(o),q=(m==null?void 0:m.fbGroupId)||n;m=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var r=m?h._("__JHASH__J1KJGjGSRI0__JHASH__"):h._("__JHASH__FjEOIpwxx5G__JHASH__");return i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"chat_tab_header_settings_menu",children:i.jsx(c("CometLazyPopoverTrigger.react"),{onVisibilityChange:function(a){b("cr:2580")&&a&&b("cr:2580")({threadKey:n,threadType:o},"open_thread_settings_menu","popup_chat_box")},popoverProps:{onClose:c("emptyFunction"),tab:g,thread:a},popoverResource:c("JSResourceForInteraction")("MWV2HeaderSettingsMenu.react").__setRef("MWV2HeaderSettingsButton.react"),position:"start",preloadTrigger:"button",children:function(a,b,g,h,m,o,s){return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:r,children:i.jsx(c("CometPressable.react"),{"aria-label":r,onHoverIn:h,onHoverOut:m,onPress:function(){b(),p&&c("promiseDone")(l.runInTransaction(function(a){return c("LSIssueCommunityMemberListFetch")(q,c("LSVec").make([d("LSIntEnum").ofNumber(0)]),!1,!1,"","",d("LSIntEnum").ofNumber(7),n,void 0,c("LSVec").make([]),void 0,c("pageID"),c("LSFactory")(a))},"readwrite")),d("ODS").bumpEntityKey(3185,"mwchat_header","settings")},onPressIn:o,overlayRadius:5,ref:a,testid:void 0,xstyle:j.settingsButton,children:i.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,verticalAlign:"center",children:i.jsxs(c("MDSRowItem.react"),{expanding:!0,xstyle:j.rowItem,children:[e,i.jsx(k,{color:f})]})})})})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RTWebLoggingComponentConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="cancel_button")return"cancel_button";else if(a==="participate_live_dialog")return"participate_live_dialog";else if(a==="free_call")return"free_call";else if(a==="submit_feedback")return"submit_feedback";else if(a==="calendar_clock")return"calendar_clock";else if(a==="rating_not_now")return"rating_not_now";else if(a==="breakout_start_button")return"breakout_start_button";else if(a==="view_participants")return"view_participants";else if(a==="video_escalate_accept")return"video_escalate_accept";else if(a==="media_access_pending")return"media_access_pending";else if(a==="calendar_clock_tooltip")return"calendar_clock_tooltip";else if(a==="create_live_dialog_next_button")return"create_live_dialog_next_button";else if(a==="caller_warning_continue_call_button")return"caller_warning_continue_call_button";else if(a==="raise_hand_queue")return"raise_hand_queue";else if(a==="self_view_minimize")return"self_view_minimize";else if(a==="banner")return"banner";else if(a==="live_indicator")return"live_indicator";else if(a==="more_options")return"more_options";else if(a==="end_live_dialog_end_button")return"end_live_dialog_end_button";else if(a==="create_live_dialog_show_button")return"create_live_dialog_show_button";else if(a==="save_button")return"save_button";else if(a==="start_call_button")return"start_call_button";else if(a==="mweb_roster_row")return"mweb_roster_row";else if(a==="create_live_dialog_start_button")return"create_live_dialog_start_button";else if(a==="incoming_ring_tone")return"incoming_ring_tone";else if(a==="upgrade_chrome")return"upgrade_chrome";else if(a==="recent_calls")return"recent_calls";else if(a==="toggle_filters")return"toggle_filters";else if(a==="screensharing_pop_out_button")return"screensharing_pop_out_button";else if(a==="upsell_workchat_precall_text")return"upsell_workchat_precall_text";else if(a==="join_call_button")return"join_call_button";else if(a==="window_resize")return"window_resize";else if(a==="fullscreen_enable")return"fullscreen_enable";else if(a==="calendar_meeting_now_notification_join")return"calendar_meeting_now_notification_join";else if(a==="participant_remove")return"participant_remove";else if(a==="self_view_unminimize")return"self_view_unminimize";else if(a==="review_room")return"review_room";else if(a==="call_back")return"call_back";else if(a==="copy_link")return"copy_link";else if(a==="upsell_workchat_activate_deep_linking")return"upsell_workchat_activate_deep_linking";else if(a==="caller_warning_cancel_call_button")return"caller_warning_cancel_call_button";else if(a==="schedule_room")return"schedule_room";else if(a==="scroll_filters")return"scroll_filters";else if(a==="media_access_rejected")return"media_access_rejected";else if(a==="participant_row_unselect")return"participant_row_unselect";else if(a==="participate_live_dialog_join_button")return"participate_live_dialog_join_button";else if(a==="fullscreen")return"fullscreen";else if(a==="pin_speaker")return"pin_speaker";else if(a==="video_escalate")return"video_escalate";else if(a==="browser_notification")return"browser_notification";else if(a==="calendar_end_call_view")return"calendar_end_call_view";else if(a==="upgrade_edge")return"upgrade_edge";else if(a==="redial")return"redial";else if(a==="toggle_video_first")return"toggle_video_first";else if(a==="poor_network_tooltip")return"poor_network_tooltip";else if(a==="install_app_button")return"install_app_button";else if(a==="video_filter_option")return"video_filter_option";else if(a==="calendar_end_call_view_join")return"calendar_end_call_view_join";else if(a==="chat_panel_message")return"chat_panel_message";else if(a==="audio_button")return"audio_button";else if(a==="plus_expander_menu")return"plus_expander_menu";else if(a==="participant_row_select")return"participant_row_select";else if(a==="fullscreen_disable")return"fullscreen_disable";else if(a==="toggle_chat")return"toggle_chat";else if(a==="toggle_camera")return"toggle_camera";else if(a==="accept_button")return"accept_button";else if(a==="settings")return"settings";else if(a==="create_live_waiting_for_joiners_dialog_cancel_button")return"create_live_waiting_for_joiners_dialog_cancel_button";else if(a==="participate_live_dialog_leave_button")return"participate_live_dialog_leave_button";else if(a==="calendar_meeting_now_notification")return"calendar_meeting_now_notification";else if(a==="raise_hand")return"raise_hand";else if(a==="breakout_end_button")return"breakout_end_button";else if(a==="call_again")return"call_again";else if(a==="toggle_audio")return"toggle_audio";else if(a==="video_button")return"video_button";else if(a==="create_room")return"create_room";else if(a==="star_rating")return"star_rating";else if(a==="message")return"message";else if(a==="video_layout_switch")return"video_layout_switch";else if(a==="more_options_live_comments_menu")return"more_options_live_comments_menu";else if(a==="unpin_speaker")return"unpin_speaker";else if(a==="select_invitees")return"select_invitees";else if(a==="upsell_rooms_chrome_extension")return"upsell_rooms_chrome_extension";else if(a==="close_dialog")return"close_dialog";else if(a==="add_participant")return"add_participant";else if(a==="toggle_video")return"toggle_video";else if(a==="self_view")return"self_view";else if(a==="close_chat")return"close_chat";else if(a==="end_live_dialog_show_button")return"end_live_dialog_show_button";else if(a==="end_call_button")return"end_call_button";else if(a==="e2ee_key_verfication_button")return"e2ee_key_verfication_button";else if(a==="video_escalate_decline")return"video_escalate_decline";else if(a==="calendar_meeting_soon_notification")return"calendar_meeting_soon_notification";else if(a==="decline_button")return"decline_button";else if(a==="upgrade_browser")return"upgrade_browser";else if(a==="screensharing")return"screensharing";else if(a==="close_window")return"close_window";else return"upsell_workchat_download_app"}function c(a){switch(a){case"accept_button":return"accept_button";case"add_participant":return"add_participant";case"audio_button":return"audio_button";case"banner":return"banner";case"breakout_end_button":return"breakout_end_button";case"breakout_start_button":return"breakout_start_button";case"browser_notification":return"browser_notification";case"calendar_clock":return"calendar_clock";case"calendar_clock_tooltip":return"calendar_clock_tooltip";case"calendar_end_call_view":return"calendar_end_call_view";case"calendar_end_call_view_join":return"calendar_end_call_view_join";case"calendar_meeting_now_notification":return"calendar_meeting_now_notification";case"calendar_meeting_now_notification_join":return"calendar_meeting_now_notification_join";case"calendar_meeting_soon_notification":return"calendar_meeting_soon_notification";case"call_again":return"call_again";case"call_back":return"call_back";case"caller_warning_cancel_call_button":return"caller_warning_cancel_call_button";case"caller_warning_continue_call_button":return"caller_warning_continue_call_button";case"cancel_button":return"cancel_button";case"chat_panel_message":return"chat_panel_message";case"close_chat":return"close_chat";case"close_dialog":return"close_dialog";case"close_window":return"close_window";case"copy_link":return"copy_link";case"create_live_dialog_next_button":return"create_live_dialog_next_button";case"create_live_dialog_show_button":return"create_live_dialog_show_button";case"create_live_dialog_start_button":return"create_live_dialog_start_button";case"create_live_waiting_for_joiners_dialog_cancel_button":return"create_live_waiting_for_joiners_dialog_cancel_button";case"create_room":return"create_room";case"decline_button":return"decline_button";case"e2ee_key_verfication_button":return"e2ee_key_verfication_button";case"end_call_button":return"end_call_button";case"end_live_dialog_end_button":return"end_live_dialog_end_button";case"end_live_dialog_show_button":return"end_live_dialog_show_button";case"free_call":return"free_call";case"fullscreen":return"fullscreen";case"fullscreen_disable":return"fullscreen_disable";case"fullscreen_enable":return"fullscreen_enable";case"incoming_ring_tone":return"incoming_ring_tone";case"install_app_button":return"install_app_button";case"join_call_button":return"join_call_button";case"live_indicator":return"live_indicator";case"media_access_pending":return"media_access_pending";case"media_access_rejected":return"media_access_rejected";case"message":return"message";case"more_options":return"more_options";case"more_options_live_comments_menu":return"more_options_live_comments_menu";case"mweb_roster_row":return"mweb_roster_row";case"participant_remove":return"participant_remove";case"participant_row_select":return"participant_row_select";case"participant_row_unselect":return"participant_row_unselect";case"participate_live_dialog":return"participate_live_dialog";case"participate_live_dialog_join_button":return"participate_live_dialog_join_button";case"participate_live_dialog_leave_button":return"participate_live_dialog_leave_button";case"pin_speaker":return"pin_speaker";case"plus_expander_menu":return"plus_expander_menu";case"poor_network_tooltip":return"poor_network_tooltip";case"raise_hand":return"raise_hand";case"raise_hand_queue":return"raise_hand_queue";case"rating_not_now":return"rating_not_now";case"recent_calls":return"recent_calls";case"redial":return"redial";case"review_room":return"review_room";case"save_button":return"save_button";case"schedule_room":return"schedule_room";case"screensharing":return"screensharing";case"screensharing_pop_out_button":return"screensharing_pop_out_button";case"scroll_filters":return"scroll_filters";case"select_invitees":return"select_invitees";case"self_view":return"self_view";case"self_view_minimize":return"self_view_minimize";case"self_view_unminimize":return"self_view_unminimize";case"settings":return"settings";case"star_rating":return"star_rating";case"start_call_button":return"start_call_button";case"submit_feedback":return"submit_feedback";case"toggle_audio":return"toggle_audio";case"toggle_camera":return"toggle_camera";case"toggle_chat":return"toggle_chat";case"toggle_filters":return"toggle_filters";case"toggle_video":return"toggle_video";case"toggle_video_first":return"toggle_video_first";case"unpin_speaker":return"unpin_speaker";case"upgrade_browser":return"upgrade_browser";case"upgrade_chrome":return"upgrade_chrome";case"upgrade_edge":return"upgrade_edge";case"upsell_rooms_chrome_extension":return"upsell_rooms_chrome_extension";case"upsell_workchat_activate_deep_linking":return"upsell_workchat_activate_deep_linking";case"upsell_workchat_download_app":return"upsell_workchat_download_app";case"upsell_workchat_precall_text":return"upsell_workchat_precall_text";case"video_button":return"video_button";case"video_escalate":return"video_escalate";case"video_escalate_accept":return"video_escalate_accept";case"video_escalate_decline":return"video_escalate_decline";case"video_filter_option":return"video_filter_option";case"video_layout_switch":return"video_layout_switch";case"view_participants":return"view_participants";case"window_resize":return"window_resize";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingComponent.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("RTWebLoggingSurfaceConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="caller_warning_dialog")return"caller_warning_dialog";else if(a==="screensharing_pop_out")return"screensharing_pop_out";else if(a==="group_call_participant_picker_dialog")return"group_call_participant_picker_dialog";else if(a==="chat_panel")return"chat_panel";else if(a==="setting_dialog")return"setting_dialog";else if(a==="pre_call_screen")return"pre_call_screen";else if(a==="admin_message")return"admin_message";else if(a==="timeline_top_section")return"timeline_top_section";else if(a==="group_call_view_members_dialog")return"group_call_view_members_dialog";else if(a==="chat_tab")return"chat_tab";else if(a==="missed_call_dialog")return"missed_call_dialog";else if(a==="meeting_room_intern_search_card")return"meeting_room_intern_search_card";else if(a==="meeting_room_map_dialog")return"meeting_room_map_dialog";else if(a==="call_controls")return"call_controls";else if(a==="mweb_roster_view")return"mweb_roster_view";else if(a==="work_profile")return"work_profile";else if(a==="audio_fallback_dialog")return"audio_fallback_dialog";else if(a==="call_container")return"call_container";else if(a==="chat_sidebar")return"chat_sidebar";else if(a==="post_vc_call_upsell")return"post_vc_call_upsell";else if(a==="messenger_bubble")return"messenger_bubble";else if(a==="www_roster_view")return"www_roster_view";else if(a==="incoming_call_dialog")return"incoming_call_dialog";else if(a==="unsupported_browser_dialog")return"unsupported_browser_dialog";else if(a==="workplace_group_chat")return"workplace_group_chat";else if(a==="star_rating_surface")return"star_rating_surface";else if(a==="group_call_add_members_dialog")return"group_call_add_members_dialog";else if(a==="dropdown_call_menu")return"dropdown_call_menu";else if(a==="messages_jewel")return"messages_jewel";else if(a==="chat_sidebar_confirmation_dialog")return"chat_sidebar_confirmation_dialog";else if(a==="meeting_room_profile")return"meeting_room_profile";else if(a==="messenger_header")return"messenger_header";else if(a==="workplace_p2p_chat")return"workplace_p2p_chat";else if(a==="work_hovercard")return"work_hovercard";else if(a==="thread_list")return"thread_list";else if(a==="call_header")return"call_header";else if(a==="post_rooms_call_upsell")return"post_rooms_call_upsell";else return"desktop_notification"}function c(a){switch(a){case"admin_message":return"admin_message";case"audio_fallback_dialog":return"audio_fallback_dialog";case"call_container":return"call_container";case"call_controls":return"call_controls";case"call_header":return"call_header";case"caller_warning_dialog":return"caller_warning_dialog";case"chat_panel":return"chat_panel";case"chat_sidebar":return"chat_sidebar";case"chat_sidebar_confirmation_dialog":return"chat_sidebar_confirmation_dialog";case"chat_tab":return"chat_tab";case"desktop_notification":return"desktop_notification";case"dropdown_call_menu":return"dropdown_call_menu";case"group_call_add_members_dialog":return"group_call_add_members_dialog";case"group_call_participant_picker_dialog":return"group_call_participant_picker_dialog";case"group_call_view_members_dialog":return"group_call_view_members_dialog";case"incoming_call_dialog":return"incoming_call_dialog";case"meeting_room_intern_search_card":return"meeting_room_intern_search_card";case"meeting_room_map_dialog":return"meeting_room_map_dialog";case"meeting_room_profile":return"meeting_room_profile";case"messages_jewel":return"messages_jewel";case"messenger_bubble":return"messenger_bubble";case"messenger_header":return"messenger_header";case"missed_call_dialog":return"missed_call_dialog";case"mweb_roster_view":return"mweb_roster_view";case"post_rooms_call_upsell":return"post_rooms_call_upsell";case"post_vc_call_upsell":return"post_vc_call_upsell";case"pre_call_screen":return"pre_call_screen";case"screensharing_pop_out":return"screensharing_pop_out";case"setting_dialog":return"setting_dialog";case"star_rating_surface":return"star_rating_surface";case"thread_list":return"thread_list";case"timeline_top_section":return"timeline_top_section";case"unsupported_browser_dialog":return"unsupported_browser_dialog";case"work_hovercard":return"work_hovercard";case"work_profile":return"work_profile";case"workplace_group_chat":return"workplace_group_chat";case"workplace_p2p_chat":return"workplace_p2p_chat";case"www_roster_view":return"www_roster_view";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingSurface.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("MWV2ChatTabHeader.react",["I64","LSMessagingThreadTypeUtil","MAWThreadCutover.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWInboxHeaderDetailsContainer.react","MWPThreadTheme.bs","MWV2ChatRTCButtons.bs","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","MWV2HeaderMinimizeButton.react","MWV2HeaderSettingsButton.react","MWV2IsTabFocusedContext.bs","MWXTooltipGroup.react","ODS","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","UseMWV2CloseTab","cr:6643","react","requireDeferred","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWV2ChatTabHeader.react");function k(a){var b=a.color;a=a.thread;var c=i(function(){d("ODS").bumpEntityKey(3185,"mwchat_header","audio"),j.onReady(function(a){return a.logClick({component:d("RTWebLoggingComponentConvert.bs").converter.toJS("audio_button"),surface:d("RTWebLoggingSurfaceConvert.bs").converter.toJS("chat_tab")})})},[]),e=i(function(){d("ODS").bumpEntityKey(3185,"mwchat_header","video"),j.onReady(function(a){return a.logClick({component:d("RTWebLoggingComponentConvert.bs").converter.toJS("video_button"),surface:d("RTWebLoggingSurfaceConvert.bs").converter.toJS("chat_tab")})})},[]);return h.jsx(d("MWV2ChatRTCButtons.bs").make,{audioCallingSurface:"comet_chattab_audio_button",fill:b,logAudio:c,logVideo:e,thread:a,videoCallingSurface:"comet_chattab_video_button"})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=c("useCurrentDisplayMode")(),e=d("MWV2IsTabFocusedContext.bs").useIsTabFocused(),f=d("MWPThreadTheme.bs").useTop(),g=d("I64").gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs);g=g&&!e;a=d("LSMessagingThreadTypeUtil").isSecure(a.threadType)&&b==="dark"&&e;b=g||a?"var(--always-white)":e?f:"var(--disabled-icon)";e=g?f:void 0;f=g||a?"white":void 0;return[b,f,e]}function a(a){var e=a.tab;a=a.thread;var f=d("MWChatStateV2.bs").useDispatch(),g=d("UseMWV2CloseTab").useHook(a,e),i=l(a),j=i[0],m=i[1];i=i[2];var n=b("cr:6643")!=null?h.jsx(b("cr:6643"),{color:j,thread:a}):null,o=d("MAWThreadCutover.bs").useIsCutoverOpenThread(a.threadKey);o||d("LSMessagingThreadTypeUtil").isBusinessSupportThread(a)?o=h.jsx(c("MWInboxHeaderDetailsContainer.react"),{color:m,isContainerPressable:!1,photoSize:"s_32",thread:a,threadNameSize:"headlineEmphasized4"}):o=h.jsx(c("MWV2HeaderSettingsButton.react"),{iconColor:j,tab:e,thread:a,children:h.jsx(c("MWInboxHeaderDetailsContainer.react"),{color:m,isContainerPressable:!1,photoSize:"s_32",thread:a,threadNameSize:"headlineEmphasized4"})});return h.jsx(c("MWV2HeaderContainer.react"),{backgroundColor:i,endContent:h.jsx(c("MWXTooltipGroup.react"),{children:h.jsxs("div",{className:"x6s0dn4 x78zum5 xcud41i",children:[h.jsx(k,{color:j,thread:a}),h.jsx(c("MWV2HeaderMinimizeButton.react"),{color:j,onPress:function(){return f(d("MWChatStateActions.bs").minimizeTab(Date.now(),e.tabId))}}),n,h.jsx(c("MWV2HeaderCloseButton.react"),{color:j,onPress:g,testid:void 0})]})}),startContent:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxesWrapper.react",["nux:201","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=b("nux:201")==null?void 0:b("nux:201")("www_armadillo_disappearing_messages_banner");function a(a){return!a.isGroup&&h?h(a):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.react",["MAWInThreadBannerNuxesWrapper.react","cr:4958","cr:6744","cr:6816","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react").Fragment;var i=(d=(d=b("cr:6816"))!=null?d:b("cr:6744"))!=null?d:e;function a(a){var d;d=(d=c("gkx")("8838"))!=null?d:!1;d=!d;return h.jsxs(h.Fragment,{children:[d?h.jsx(i,{children:h.jsx(c("MAWInThreadBannerNuxesWrapper.react"),babelHelpers["extends"]({},a))}):null,b("cr:4958")&&h.jsx(b("cr:4958"),{thread:a.thread})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.bs",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWInThreadBannerNuxReqCondWrapper.react","MWPActor.react","ReQL.bs","ReQLSubscription.bs","bs_caml_option","cr:2510","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.thread;a=b("cr:2510")==null?function(){}:b("cr:2510")(e.threadKey);var f=d("LSMessagingThreadTypeUtil").isGroup(e.threadType),g=c("useReStore")(),i=d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:e.threadKey,tl:0}),2)},[g,e.threadKey]),"u7hc6a8x"),j=d("MWPActor.react").useActor(),k=d("Int64Hooks").useMemoInt64(function(){if(d("LSMessagingThreadTypeUtil").isOneToOne(e.threadType))return c("bs_caml_option").undefined_to_opt(i.find(function(a){return!d("I64").equal(a.id,j)}))},[j,i]);k=k!=null?k.name:void 0;return h.jsx(c("MAWInThreadBannerNuxReqCondWrapper.react"),{getThreadJid:a,isGroup:f,otherUserFullName:k,thread:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTabInThreadBanner.react",["CometErrorBoundary.react","CometPlaceholder.react","LSMessagingThreadTypeUtil","MWLSInThreadBannerComponent.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.thread;if(d("LSMessagingThreadTypeUtil").isSecure(a.threadType)||d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType))return null;else return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:h.jsx(c("MWLSInThreadBannerComponent.bs"),{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContextBannerEndToEndEncryptedBannerWrapper.react",["cr:401","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return b("cr:401")!=null?h.jsx(b("cr:401"),{}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ContextBannerNullstateDescription.react",["I64","LSIntEnum","LSNullstateDescriptionType","MWXText.react","RecoverableViolation.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.kind;a=a.text;if(d("I64").equal(b,d("I64").zero)||d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSNullstateDescriptionType").SUBTEXT))||d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_DEFAULT))||d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_SUBTEXT)))return h.jsx("div",{className:"xsag5q8",children:h.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a})});else return h.jsx(c("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ContextBanner.react",["I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSThreadTitle.react","MAWGating","MWContextBannerEndToEndEncryptedBannerWrapper.react","MWLSFeatureLimitedStatus.bs","MWThreadPicture.react","MWV2ContextBannerNullstateDescription.react","MWXText.react","cr:5777","cr:6526","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.thread;var e=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(47),a),f=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited();if(e)return null;e=a.nullstateDescriptionText1;var g=a.nullstateDescriptionText2,i=a.nullstateDescriptionText3,j=a.nullstateDescriptionType1,k=a.nullstateDescriptionType2,l=a.nullstateDescriptionType3,m=d("I64").equal(a.parentThreadKey,d("LSIntEnum").ofNumber(-18)),n=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);f=f&&(!n||d("MAWGating").isFeatureLimitEnabled());return h.jsxs("div",{className:"xsag5q8 x1ye3gou xn6708d x1cnzs8","data-testid":void 0,children:[h.jsx("div",{className:"x78zum5 xl56j7k xod5an3",children:h.jsx(c("MWThreadPicture.react"),{badgeSize:14,photoSize:"s_60",thread:a})}),h.jsx("div",{className:"xod5an3",children:h.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized3",children:h.jsx(c("LSThreadTitle.react"),{thread:a,wrapOutput:function(a,b){return b}})})}),e!=null&&j!=null?h.jsx(c("MWV2ContextBannerNullstateDescription.react"),{kind:j,text:e}):null,g!=null&&k!=null?h.jsx(c("MWV2ContextBannerNullstateDescription.react"),{kind:k,text:g}):null,i!=null&&l!=null?h.jsx(c("MWV2ContextBannerNullstateDescription.react"),{kind:l,text:i}):null,b("cr:5777")!=null&&!f&&d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("I64").gt(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").SERVER_PARTIAL))&&!m?h.jsx(b("cr:5777"),{thread:a}):null,n?h.jsx(c("MWContextBannerEndToEndEncryptedBannerWrapper.react"),{}):null,n&&b("cr:6526")?h.jsx(b("cr:6526"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOpenThreadDetail.react",["CometDebounce","CometPlaceholder.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSFactory","LSIntEnum","LSMessagingInitiatingSourceHook.bs","LSMessagingThreadTypeUtil","LSReportThreadViewOpen","MWCMAutoJoinNotifNUX.react","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWChatUnsendNUX.bs","MWLSThreadDisplayContext","MWMessageList","MWPMessageListColumn.bs","MWPQuickReplies.bs","MWPreloadableQueries","MWQuickPromotionThreadViewBannerContainer.react","MWV2ContextBanner.react","MWV2PersistentIcebreakers.bs","MWV2ThreadNullstate.bs","ReQLSuspense","ServerTime","cr:1598","cr:4723","cr:488","cr:4982","cr:5483","cr:6443","gkx","justknobx","logMessengerWebFalcoEvent","promiseDone","react","usePageletMetadata","useReStore","useThreadLastMessageTimeMs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useRef,k=e.useState,l=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function m(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").threadNullStateQuery(b,a.threadKey)},[b,a.threadKey],f.id+":92"),g=d("ReQLSuspense").useArray(function(){return d("MWPreloadableQueries").threadNullStateCtaQuery(b,a.threadKey)},[b,a.threadKey],f.id+":99");return[e,g]}function n(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getCMChannelListQuery(b,a.threadKey)},[b,a.threadKey],f.id+":109")}function o(a,b){var e=c("useThreadLastMessageTimeMs")(a.threadKey),f=j(!1);d("Int64Hooks").useEffectInt64(function(){if(f.current)return;if(e==null)return;var c=d("I64").compare(e,a.lastActivityTimestampMs)>-1;l({threadKey:a.threadKey,threadType:a.threadType},"thread_and_message_list_last_activity_mismatch",b,{hasMissingMessage:!c,threadLastActivityTimeMs:d("I64").to_string(a.lastActivityTimestampMs),threadLastMessageTimeMs:d("I64").to_string(e)});f.current=!0},[b,a.lastActivityTimestampMs,a.threadKey,a.threadType,e])}function a(a){var e=a.entryPoint,f=a.messageListRef,g=a.thread;a=k(function(){return d("ServerTime").getMillis()});var j=a[0];a[1];a=m(g);var l=a[0],p=a[1];a=n(g);c("usePageletMetadata")("threadType",d("I64").to_string(g.threadType));var q=d("LSMessagingInitiatingSourceHook.bs").useHook(),r=b("cr:6443")!=null?h.jsx(b("cr:6443"),{thread:g}):null,s=d("MWV2PersistentIcebreakers.bs").shouldShowPersistentIcebreakers(g,p,j),t=c("useReStore")(),u=c("MWCMIsAnyCMThread")(g.threadType);d("Int64Hooks").useEffectInt64(function(){(u||c("justknobx")._("1225")&&(d("LSMessagingThreadTypeUtil").isSocialChannelV2(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType)))&&(u&&d("GroupsCometChatsEngagementLogger").log({action:"background_effect",community_id:d("I64").to_string(g.parentThreadKey),event:"report_thread_view_open",source:"blended_threadlist_community_tab",surface:"thread_view",thread_id:d("I64").to_string(g.threadKey)}),c("promiseDone")(t.runInTransaction(function(a){return c("LSReportThreadViewOpen")(g.threadKey,c("LSFactory")(a))},"readwrite")))},[t,g.parentThreadKey,g.threadKey,g.threadType,u]);j=i(function(){return h.jsxs(h.Fragment,{children:[h.jsx(d("MWPQuickReplies.bs").make,{threadKey:g.threadKey}),s?h.jsx(d("MWV2PersistentIcebreakers.bs").make,{initiatingSource:q,lsSource:"inboxInThread",nullstateCtas:p,thread:g}):null]})},[g,p,q,s]);var v=i(function(){return h.jsxs(c("MWPMessageListColumn.bs").Shrinkwrap,{children:[h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:20}),h.jsx(c("MWV2ContextBanner.react"),{thread:g}),h.jsx(c("MWPMessageListColumn.bs").VerticalRhythm,{height:10})]})},[g]);o(g,e);var w=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();w=w!=null&&w==="ChatTab";var x=d("MWCMThreadTypes.react").isJoinedCMThread(g.threadType);a=(a==null?void 0:a.channelPrivacy)!=null&&d("I64").equal(a==null?void 0:a.channelPrivacy,d("LSIntEnum").ofNumber(2));var y=c("gkx")("1968579"),z=c("gkx")("7561"),A=d("I64").gt(g.parentThreadKey,d("I64").zero)&&d("I64").gt(g.threadKey,d("I64").zero);w=b("cr:4723")!=null&&!w?h.jsx(b("cr:4723"),{thread:g}):null;var B=b("cr:4982")!=null?h.jsx(b("cr:4982"),{thread:g}):null,C=b("cr:5483")!=null&&x&&!a?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(b("cr:5483"),{folderId:g.parentThreadKey})}):null;y=b("cr:1598")!=null&&x&&a&&y?h.jsx(b("cr:1598"),{groupId:g.parentThreadKey,threadId:g.threadKey}):null;x=b("cr:488")!=null&&x&&a&&z?h.jsx(b("cr:488"),{groupId:g.parentThreadKey,threadId:g.threadKey}):null;a=A?h.jsx(c("MWQuickPromotionThreadViewBannerContainer.react"),{fbGroupId:g.parentThreadKey,threadId:g.threadKey}):null;return l!=null&&d("I64").equal(g.lastActivityTimestampMs,d("I64").zero)?h.jsxs(h.Fragment,{children:[a,r,h.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:g}),B,C,y,x,w,h.jsx(c("MWV2ContextBanner.react"),{thread:g}),h.jsx(c("MWPMessageListColumn.bs").Grow.make,{children:null}),h.jsx(d("MWV2ThreadNullstate.bs").make,{initiatingSource:q,lsSource:"inboxInThread",nullstate:l,nullstateCtas:p,thread:g})]}):h.jsxs(h.Fragment,{children:[a,r,h.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:g}),B,C,y,x,h.jsx(d("MWChatUnsendNUX.bs").make,{senderUnsendNUXEnabled:!0}),w,h.jsx(c("MWMessageList"),{entryPoint:e,ref:f,renderFooter:j,renderHeader:v,thread:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOpenAndSecureThreadView.react",["LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync.bs","MWOpenThreadDetail.react","MWPThreadGradientBackground.react","cr:6436","promiseDone","react","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("react");e=a.memo;var i=a.useEffect;f=e(function(a){var e=a.entryPoint,f=a.messageListRef;a=a.thread;var g=c("useReStore")(),j=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a.threadKey,d("useIsReactionsV2Enabled").Action.Any);i(function(){j&&c("promiseDone")(d("MWLSDatabaseLazySync.bs").sync(g,d("LSIntEnum").ofNumber(118)))},[g,j]);return h.jsx(c("MWPThreadGradientBackground.react"),{children:b("cr:6436")==null||!d("LSMessagingThreadTypeUtil").isSecure(a.threadType)?h.jsx(c("MWOpenThreadDetail.react"),{entryPoint:e,messageListRef:f,thread:a}):h.jsx(b("cr:6436"),{entryPoint:e,thread:a})})});g["default"]=f}),98);
__d("LSCommunityPublicGroupParticipationApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_PARTICIPATE:1,PARTICIPATION_REQUEST_REQUIRED:2,PARTICIPATION_REQUEST_PENDING:3});f["default"]=a}),66);
__d("MWLSSprocFetchProactiveWarningIfNeeded.bs",["I64","Int64Hooks","LSFactory","LSFetchProactiveWarningsIfNeeded","LSMessagingThreadTypeUtil","MAWGating","MWLSProactiveWarningTables","MWThreadKey.bs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("useReStore")(),g=d("MWThreadKey.bs").useIdMemoizedExn(),h=d("MWLSProactiveWarningTables").useHook(),i=h.banner;h=h.pwSettings;h=i!=null&&h!=null?d("I64").equal(i.bannerId,d("I64").of_string("7")):!1;a=a&&!h?e?!0:b!=null?d("I64").equal((i=b.proactiveWarningDismissTime)!=null?i:d("I64").zero,d("I64").zero):!1:!1;var j=b!=null&&a?d("MAWGating").isOccamadillo()&&d("LSMessagingThreadTypeUtil").isSecure(b.threadType)?!0:!d("LSMessagingThreadTypeUtil").isSecure(b.threadType):!1;d("Int64Hooks").useEffectInt64(function(){j&&f.runInTransaction(function(a){return c("LSFetchProactiveWarningsIfNeeded")(g,c("LSFactory")(a))},"readwrite")},[g,a])}b=a;g.useHook=b}),98);
__d("MWV2ComposerDisclosure.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","Int64Hooks","JSResourceForInteraction","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSOptimisticRemoveParticipantsFromGroupThread","LSOptimisticRemoveThread","LSThreadBitOffset","LSThreadRemoveType","LSVec","MWChatComposerGroupMessageRequestInfoText.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWComposerXacDisclosureRelay.react","MWLSChatComposerUserMessageRequestInfoText.bs","MWLSContactTypeExactUtils","MWLSThreadDisplayContext","MWPActor.react","MessageRequestsLog.bs","ReQL","ReQLSuspense","cr:2278","cr:4720","cr:4721","cr:5799","gkx","lazyLoadComponent","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useMemo,k=b("cr:2278")==null?function(a,b){return!1}:b("cr:2278").useIsOneOnOneMessageRequestV2;function l(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticRemoveParticipantsFromGroupThread")(a.threadKey,c("LSVec").make([e]),c("LSFactory")(b))},"readwrite"))},[e,b,a.threadKey])}var m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MAWComposerUserMessageRequestInfoText.bs").__setRef("MWV2ComposerDisclosure.react"));function n(a){var e=a.forceVoiceIndicatorShown_TEST_ONLY,g=a.thread,n=c("useReStore")(),o=d("MWChatStateV2.bs").useDispatch();a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=a==="Inbox"?"large":"small";var p=l(g),q=g.threadType,r=g.threadKey,s=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(n.runInTransaction(function(a){return c("LSOptimisticRemoveThread")(r,d("LSIntEnum").ofNumber(c("LSThreadRemoveType").DELETE_THREAD),c("LSFactory")(a))},"readwrite"),function(){return o(d("MWChatStateActions.bs").closeTabByThreadKey(Date.now(),r))})},[r,n,o]),t=i(function(){d("MessageRequestsLog.bs").logActionConfirmed(g,8);return s()},[s,g]),u=d("LSMessagingThreadTypeUtil").isSecure(q),v=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(21),g),w=d("MWPActor.react").useActor(),x=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(g.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(n.table("participants")).getKeyRange(g.threadKey),d("ReQL").fromTableAscending(n.table("contacts"))).filter(function(a){a[0];a=a[1];return!d("I64").equal(a.id,w)}):d("ReQL").empty()},[n,g.threadKey,g.threadType,w],f.id+":126"),y=j(function(){return u?k(g,x):!1},[g,x,u]);q=d("LSMessagingThreadTypeUtil").isGroup(q);var z=x!=null?d("MWLSContactTypeExactUtils").isIgContact(x[1]):!1;return h.jsxs(h.Fragment,{children:[b("cr:5799")==null?null:h.jsx(b("cr:5799"),{forceShown_TEST_ONLY:e}),y?h.jsx(m,{size:"large",thread:g}):!u&&v?q?b("cr:4720")==null?h.jsx(d("MWChatComposerGroupMessageRequestInfoText.bs").make,{onDeleteConversation:t,onLeaveGroup:function(){d("MessageRequestsLog.bs").logActionConfirmed(g,10);return p()}}):h.jsx(b("cr:4720"),{onDeleteConversation:t,onLeaveGroup:function(){d("MessageRequestsLog.bs").logActionConfirmed(g,10);return p()},thread:g}):b("cr:4721")==null?h.jsx(d("MWLSChatComposerUserMessageRequestInfoText.bs").make,{onDeleteConversation:t,thread:g}):h.jsx(b("cr:4721"),{onDeleteConversation:t,thread:g}):!u&&z&&c("gkx")("1839788")?h.jsx(c("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:d("I64").lt(g.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),size:a}):null]})}function a(a){var b=a.forceVoiceIndicatorShown_TEST_ONLY;a=a.thread;return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(n,{forceVoiceIndicatorShown_TEST_ONLY:(b=b)!=null?b:!1,thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ErrorComposer.bs",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"xcrg951 x1n2xptk x1a8lsjc xl521sm x9mfa4r x889kno",children:i.jsx(c("MDSTextPairing.react"),{headline:h._("__JHASH__viCgEPmOyD5__JHASH__"),headlineColor:"secondary",level:4,meta:i.jsx(c("MWXText.react"),{numberOfLines:2,type:"meta3",children:h._("__JHASH__FrvKCKsD46D__JHASH__")}),reduceEmphasis:!0,textAlign:"center"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPComposerGating.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometProgressRingIndeterminate.react","I64","JSResourceForInteraction","LSAuthorityLevel","LSCommunityPublicGroupParticipationApprovalStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWGating","MWCMThreadTypes.react","MWJoinChannelComposerPlaceholder.react","MWLSSprocFetchProactiveWarningIfNeeded.bs","MWPActor.react","MWPSafetyNoticesChatBlockedComposer.react","MWPThreadIsPage.react","MWProactiveWarningPayload","MWV2ComposerDisclosure.react","MWV2ErrorComposer.bs","MessengerThreadTakedownState","ReQL","ReQLSuspense","RecoverableViolation.react","ThreadStatus","lazyLoadComponent","nullthrows","react","useCommunityFolder","useMAWOfflineQueueLoadingIndicator","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");e=b.memo;var j=b.useMemo,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("MWPComposerGating.react")),l=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupMutedComposer.react").__setRef("MWPComposerGating.react")),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupBroadcastComposer.react").__setRef("MWPComposerGating.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJoinChannelComposer.react").__setRef("MWPComposerGating.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWBroadcastChannelMemberComposer.react").__setRef("MWPComposerGating.react")),p=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMPausedChatComposer.react").__setRef("MWPComposerGating.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupPendingRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPTakenDownThreadComposer.react").__setRef("MWPComposerGating.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("MWPComposerGating.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMComposerNudgeText.react").__setRef("MWPComposerGating.react"));function v(a){a=a.height;return i.jsx("div",{className:"xzg4506",style:{height:a.toString()+"px"}})}v.displayName=v.name+" [from "+f.id+"]";var w=e(function(a){var b=a.renderComposer;a=a.thread;var e=a.cannotReplyReason==="viewer_not_subscribed",f=a.cannotReplyReason==="broadcast_chat_read_only",g=a.threadStatus!=null&&d("I64").equal(a.threadStatus,d("I64").of_int32(c("ThreadStatus").PAUSED)),h=c("useCommunityFolder")(a),j=h!=null&&h.sendsBlockedUntil!=null&&!d("I64").equal(h.sendsBlockedUntil,d("I64").zero),w=a.takedownState!=null&&d("I64").equal(a.takedownState,d("LSIntEnum").ofNumber(c("MessengerThreadTakedownState").TAKEN_DOWN)),x=(h==null?void 0:h.fbGroupUserParticipationApprovalStatus)!=null&&d("I64").equal(h.fbGroupUserParticipationApprovalStatus,d("LSIntEnum").ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_REQUIRED)),y=(h==null?void 0:h.fbGroupUserParticipationApprovalStatus)!=null&&d("I64").equal(h.fbGroupUserParticipationApprovalStatus,d("LSIntEnum").ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_PENDING));if(w)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(v,{height:35}),children:i.jsx(s,{})});else if(d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType))return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast}),children:i.jsx(n,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast})});else if(d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType))return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social}),children:i.jsx(n,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social})});else if(e)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(v,{height:99}),children:i.jsx(k,{groupId:h==null?void 0:h.fbGroupId,thread:a})});else if(g)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(v,{height:35}),children:i.jsx(p,{canPauseChat:d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(154),a),shouldUseChannelTerminology:d("LSMessagingThreadTypeUtil").isSocialChannel(a.threadType),threadKey:a.threadKey})});else if(d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&f)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(v,{height:55}),children:i.jsx(m,{isBroadcastChatsReactionsEnabled:d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(139),a)})});else if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&f)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(v,{height:48}),children:i.jsx(o,{})});else if(j)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(v,{height:141}),children:i.jsx(l,{size:"small"})});else if(x)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(v,{height:135}),children:i.jsx(q,{communityFolder:c("nullthrows")(h),thread:a})});else if(y)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(v,{height:100}),children:i.jsx(r,{groupID:d("I64").to_string(c("nullthrows")(h==null?void 0:h.fbGroupId)),thread:a})});else if(a.cannotReplyReason!=null)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(v,{height:35}),children:i.jsx(t,{})});else return i.jsxs(i.Fragment,{children:[d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType)?i.jsx(u,{thread:a}):null,i.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),b()]})}),x=e(function(a){var b=a.isMessengerInbox,e=a.renderComposer;a=a.thread;e=i.jsxs(i.Fragment,{children:[i.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),e()]});var f=a.proactiveWarningDismissTime==null||d("I64").is_zero(a.proactiveWarningDismissTime),g=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);b=b?null:f&&(!g||d("MAWGating").isOccamadillo())?i.jsx(c("MWPSafetyNoticesChatBlockedComposer.react"),{fallback:e,onClose:function(){},thread:a}):null;d("MWLSSprocFetchProactiveWarningIfNeeded.bs").useHook(b!=null,a,!1);f=d("MWProactiveWarningPayload").useHook(void 0,a);return b!=null&&f!=null?i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(v,{height:35}),children:b}):e});function y(a){var b=a.configurations,e=a.isMessengerInbox,g=a.renderComposer,k=a.thread,l=c("useReStore")(),m=d("MWPActor.react").useActor(),n=d("I64").equal(m,k.threadKey),o=d("ReQLSuspense").useArray(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(k.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(l.table("participants")).getKeyRange(k.threadKey),d("ReQL").fromTableAscending(l.table("contacts"))).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[l,k.threadKey,k.threadType],f.id+":410");a=j(function(){return o.find(function(a){return n||o.length===1&&d("I64").equal(a.id,m)||!d("I64").equal(a.id,m)})},[m,n,o]);var p=d("LSMessagingThreadTypeUtil").isSecure(k.threadType),q=i.jsxs("div",{id:"armadillo-loading-indicator-banner",children:[i.jsx("div",{className:"x78zum5 xoverlg xl56j7k xr1496l",children:i.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}),i.jsx("div",{className:"x6s0dn4 x12scifz x1jchvi3 x117nqv4 x1hkbg2g xr1yuqi xkrivgy x4ii5y1 x1gryazu x1qs4qq1 x1n2onr6 x2b8uid x13faqbe",children:h._("__JHASH__bXfe9onDJii__JHASH__").toString()})]}),r=c("useMAWOfflineQueueLoadingIndicator")();b=b.find(function(a){return a!=null});return i.jsxs(i.Fragment,{children:[p&&r?q:null,b!=null?b:d("LSMessagingThreadTypeUtil").isOneToOne(k.threadType)?a!=null?i.jsx(x,{isMessengerInbox:e,otherUser:a,renderComposer:g,thread:k}):d("I64").lt(k.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?null:i.jsx(c("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):i.jsx(w,{renderComposer:g,thread:k})]})}function a(a){var b=a.configurations,e=a.isMessengerInbox,f=a.renderComposer;a=a.thread;return i.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return i.jsx(c("MWV2ErrorComposer.bs"),{})},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:a.threadKey,children:i.jsx(y,{configurations:b,isMessengerInbox:(b=e)!=null?b:!1,renderComposer:f,thread:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSharedMediaManagerUtils.bs",["I64","LSIntEnum","LSMailboxType","MWPComposerMediaUploadUtil.bs","MWPreloadableQueries","Promise","ReQL.bs","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a,e,f){return a.runInTransaction(function(a){return b("Promise").all(e.map(function(b){var e=b[0];return a.table("media_staging").add({attachmentType:d("MWPComposerMediaUploadUtil.bs").getAttachmentType(e),durationMs:void 0,fbid:void 0,filename:e.name,fileSize:d("I64").of_int32(e.size),hasError:!1,isSent:!1,mailboxType:d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),mimeType:e.type,offlineAttachmentId:b[1],offlineThreadingId:void 0,previewHeight:void 0,previewUrl:URL.createObjectURL(e),previewWidth:void 0,progress:0,threadKey:f})}))},"readwrite")}function e(a,b){return a.runInTransaction(function(a){return a.table("media_staging")["delete"]({hd:b,tl:0})},"readwrite")}function h(a,b){return d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(a.table("media_staging")),function(a){if(a.isSent)return!1;else return d("I64").equal(a.threadKey,b)})}function i(a){var b=c("useReStore")();return d("ReQLSuspense").useArray(function(){return d("MWPreloadableQueries").getMediaStagingQuery(b,a.threadKey)},[b,a.threadKey],f.id+":107")}a=a;e=e;g.getMediaStaging=h;g.useMediaStaging=i;g.insertMediaStaging=a;g.deleteMediaStaging=e}),98);
__d("MWMediaManager.bs",["FBLogger","LSMessagingThreadTypeUtil","MWChatFilePreProcessingErrorDialog.bs","MWChatFileUploadErrorDialog.bs","MWSharedMediaManagerUtils.bs","MercuryConstants","Promise","Promise.bs","bs_caml_option","cr:6438","promiseDone","requireDeferred","useCometAlertDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWOpenMediaManagerUtils.bs").__setRef("MWMediaManager.bs"),i=c("requireDeferred")("MWOpenMediaManagerUtils.bs").__setRef("MWMediaManager.bs");e=b("cr:6438")==null?void 0:c("bs_caml_option").some(b("cr:6438"));function a(a,e,f,g){var j=c("useReStore")(),k=c("useCometAlertDialog")(),l=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),m=d("MWSharedMediaManagerUtils.bs").useMediaStaging(a);e=function(e){var f=e.some(function(a){return a.size>c("MercuryConstants").AttachmentMaxSize});if(f)return k(d("MWChatFileUploadErrorDialog.bs").maxFileSizeExceeded,function(){});f=function(d,a){if(a)if(b("cr:6438")==null){c("FBLogger")("messenger_web_product").warn("Unsupported thread type for media preprocess");return b("Promise").resolve([])}else return b("cr:6438").utils.load().then(function(a){return a.preprocess(d)});else return i.load().then(function(a){return a.preprocess(d)})};c("promiseDone")(d("Promise.bs").$$catch(f(e,l),function(a){k(d("MWChatFilePreProcessingErrorDialog.bs").invalidFileFormat,function(){});return b("Promise").resolve([])}).then(function(e){c("promiseDone")(d("MWSharedMediaManagerUtils.bs").insertMediaStaging(j,e,a.threadKey));var f=a.threadKey;if(l)if(b("cr:6438")==null){c("FBLogger")("messenger_web_product").warn("Unsupported thread type for media upload");return b("Promise").resolve()}else return b("cr:6438").utils.load().then(function(a){return a.upload(j,f,e)});else return h.load().then(function(a){return a.upload(j,f,e,g)})}))};f=function(a){c("promiseDone")(d("MWSharedMediaManagerUtils.bs").deleteMediaStaging(j,a).then(function(){if(l&&!(b("cr:6438")==null))return b("cr:6438").utils.load().then(function(b){b.attachmentsMap["delete"](a)});else return b("Promise").resolve()}))};var n=function(){var a=m.map(function(a){return a.offlineAttachmentId});a.forEach(function(a){d("MWSharedMediaManagerUtils.bs").deleteMediaStaging(j,a)});if(l&&!(b("cr:6438")==null)){c("promiseDone")(b("cr:6438").utils.load().then(function(a){a.attachmentsMap.clear()}));return}};return{handleFileRemove:f,handleFileSelect:e,mediaStaging:m,resetAttachments:n}}f=e;e=a;g.mawMediaManagerUtilsDeferred=f;g.useMediaManager=e}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743878");b=d("FalcoLoggerInternal").create("ls_reply_rendered",a);e=b;g["default"]=e}),98);
__d("MWV2ComposerReplyView.react",["fbt","ix","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint.bs","LsReplyRenderedFalcoEvent","MDSTextPairing.react","MWCMIsAnyCMThread","MWChatReplyText.bs","MWPActor.react","MWPReplyContext.bs","MWXIcon.react","MWXText.react","MessagingAttachmentType","ReQL","ReQLSuspense","cr:2382","fbicon","getFBTSafeGenderFromGenderConst","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useContext,l=e.useEffect;function m(a,e,f){var g=a.text;g=g!=null?b("cr:2382")==null?g:b("cr:2382").unvault(g):"";g=g==="\ud83d\udc4d"&&(d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").neg_one,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL))||d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").neg_one,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").MEDIUM))||d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").neg_one,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").LARGE)))&&e;if(a.isUnsent)return h._("__JHASH__OtyP2J0Nwkd__JHASH__");if(a.text!=null&&a.text!==""){return j.jsx(d("MWChatReplyText.bs").make,{isHotLike:g,text:(e=a.text)!=null?e:h._("__JHASH__C1Hm6KH3mNE__JHASH__")})}if(f!=null){if(d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)))return h._("__JHASH__vuq_ksOZBHO__JHASH__");if(d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER)))return h._("__JHASH__7zoxdliwH6N__JHASH__");if(d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__d9ky9I-E6BP__JHASH__");return d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?h._("__JHASH__i96Qg8bFARm__JHASH__"):h._("__JHASH__L554Fq7JwGo__JHASH__")}return h._("__JHASH__C1Hm6KH3mNE__JHASH__")}function n(a,b,e,f){if(a)return h._("__JHASH__iW_IRrZDexS__JHASH__");if(b!=null){return h._("__JHASH__O5URXTVzEEM__JHASH__",[h._param("name",j.jsx(c("MWXText.react"),{type:"bodyLink4",children:f?b.name:(f=(a=e)!=null?a:b.firstName)!=null?f:b.name}),[1,c("getFBTSafeGenderFromGenderConst")(d("LSContactGenderToGenderConst").make(b.gender))])])}return h._("__JHASH__Y3usjYXlLYK__JHASH__",[h._param("Placeholder for an unknown user","Facebook User")])}function o(a){var b=a.isSecureThread,e=a.message;a=a.useContactFullname;var g=c("useReStore")(),h=d("MWPActor.react").useActor(),i=d("I64").equal(e.senderId,h),k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(e.senderId)},[g,e.senderId],f.id+":225");h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("attachments")).getKeyRange(e.threadKey,e.messageId)},[g,e.messageId,e.threadKey],f.id+":231");var o=d("ReQLSuspense").useFirst(function(){return k!=null&&!i?d("ReQL").fromTableAscending(g.table("threads")).getKeyRange(e.threadKey).map(function(a){var b=a.parentThreadKey;a=a.threadType;return!c("MWCMIsAnyCMThread")(a)?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("community_folders")).getKeyRange(b).map(function(a){a=a.folderId;return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contextual_profile_v1").index("associatedEntityIdAndOwner")).getKeyRange(a,k.id).map(function(a){return a.profileName}))}))}):d("ReQL").empty()},[g,e.threadKey,k,i],f.id+":240");l(function(){c("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint.bs").messageActions}}})},[]);b=m(e,b,h);h=n(i,k,o,a);return j.jsx("div",{className:"xmo9yow",children:j.jsx(c("MDSTextPairing.react"),{body:j.jsx(c("MWXText.react"),{type:"body4",children:h}),level:3,meta:b})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.isSecureThread;b=b===void 0?!1:b;var e=a.message;a=a.useContactFullname;var f=k(d("MWPReplyContext.bs").context),g=f.clearReply,l=k(c("CometTriggerAccessibilityAlertContext"));return j.jsxs("div",{className:"x1cy8zhl xcrg951 x1n2xptk x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno","data-testid":void 0,children:[j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsx(c("MWXText.react"),{type:"body4",children:h._("__JHASH__viMkwR52t0r__JHASH__")})},children:j.jsx(o,{isSecureThread:b,message:e,useContactFullname:a})}),j.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__jHl6Cj_8ioz__JHASH__"),color:"primary",icon:d("fbicon")._(i("478231"),12),onPress:function(){g(e.threadKey,!0),l(h._("__JHASH__I4cDESLQyuo__JHASH__").toString(),{assertive:!1})}})]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.messageId,e=a.messageTimestamp,g=a.thread;a=a.useContactFullname;a=a===void 0?!1:a;var h=c("useReStore")(),i=d("LSMessagingThreadTypeUtil").isSecure(g.threadType),k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(h.table("messages")).getKeyRange(g.threadKey,e,b)},[h,g.threadKey,b,e],f.id+":355");if(k!=null)return j.jsx(p,{isSecureThread:i,message:k,useContactFullname:a});else return null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerReplyViewContainer=p;g.MWV2ComposerReplyView=a}),98);
__d("MWPUseVoiceRecorder.bs",["MWChatRecorderUtilsWorkerResource","MWPAudioPlayer.react","Promise","WebWorker","clearTimeout","promiseDone","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.useCallback,k=i.useEffect,l=i.useReducer,m=i.useRef;function a(a){switch(a.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}function e(a){switch(a.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}function n(a){switch(a.TAG){case 0:return 0;case 1:return a._1;case 2:case 3:break}return Math.max(a._0-a._1,0)}function o(a){switch(a.TAG){case 0:return 0;case 1:return a._2;case 2:case 3:return a._0}}function p(a){switch(a.TAG){case 0:case 1:return;case 2:case 3:return a._1}}function q(a){switch(a.TAG){case 0:case 2:return!1;case 1:case 3:return!0}}function r(a){if(a.TAG===2)return a._1===0;else return!1}function s(a){switch(a.TAG){case 1:return d("MWPAudioPlayer.react").stopLabel;case 0:case 2:return d("MWPAudioPlayer.react").playLabel;case 3:return d("MWPAudioPlayer.react").pauseLabel}}function t(a,b){switch(a.TAG){case 1:return h.jsx(d("MWPAudioPlayer.react").StopIcon,{color:b});case 0:case 2:return h.jsx(d("MWPAudioPlayer.react").PlayIcon,{color:b});case 3:return h.jsx(d("MWPAudioPlayer.react").PauseIcon,{color:b})}}t.displayName=t.name+" [from "+f.id+"]";function u(a,b){switch(b.TAG){case 0:return{_0:b._0,_1:0,_2:b._1,TAG:1};case 1:switch(a.TAG){case 0:return a;case 1:return{_0:a._1,_1:0,TAG:2};case 2:return{_0:a._0,_1:a._1,TAG:3};case 3:return{_0:a._0,_1:a._1,TAG:2}}case 2:var c=b._0;switch(a.TAG){case 0:return a;case 1:return{_0:a._0,_1:c,_2:a._2,TAG:1};case 2:return{_0:c,_1:a._1,TAG:2};case 3:return{_0:c,_1:a._1,TAG:3}}case 3:c=b._0;switch(a.TAG){case 0:case 1:return a;case 2:var d=a._0;if(c===d)return{_0:d,_1:0,TAG:2};else return{_0:d,_1:c,TAG:2};case 3:d=a._0;if(c===d)return{_0:d,_1:0,TAG:2};else return{_0:d,_1:c,TAG:3}}case 4:return{_0:b._0,_1:0,TAG:2};case 5:return{_0:void 0,TAG:0}}}function v(){if(window.AudioContext!=null)return new window.AudioContext();if(window.webkitAudioContext!=null)return new window.webkitAudioContext()}function w(a,d,e,f){a===void 0&&(a=60);f=l(u,{_0:void 0,TAG:0});var g=f[0],h=f[1],i=c("useIsMountedRef")(),n=m(),o=m([]),p=m([]),q=m(),r=m(),s=m(),t=m(),w=m(),x=j(function(a){if(!i.current)return;var b=URL.createObjectURL(a);s.current=b;var c=new Audio(b);c.addEventListener("canplay",function(){r.current=c;var b=c.duration;h({_0:b,TAG:2});b={duration:b,file:a};t.current=b;var d=w.current;if(d!=null)return d(b)});c.addEventListener("timeupdate",function(){var a;a=(a=r.current)==null?void 0:a.currentTime;if(a==null)return;return h({_0:a,TAG:3})});c.addEventListener("durationchange",function(){var a;a=(a=r.current)==null?void 0:a.duration;if(!Number.isNaN(a))return h({_0:a,TAG:2})})},[]),y=j(function(){if(n.current==null||q.current==null)return;var a=o.current,b=p.current;a={buffersL:a,buffersR:b,sampleRate:n.current};q.current.postMessage(a)},[]),z=(g==null?void 0:g.TAG)===1,A=j(function(a){if(!z)return;a=a.inputBuffer;var b=a.getChannelData(0).slice();a=a.getChannelData(1).slice();o.current.push(b);p.current.push(a)},[z]);k(function(){if(g.TAG!==1)return;var a=g._0;o.current=[];p.current=[];var b,e=v();if(e!=null){var f=e.destination;n.current=e.sampleRate;b=e.createScriptProcessor(4096,2,2);var h=e.createMediaStreamSource(a);q.current=new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(x).setAllowCrossPageTransition(!0).execute();b.addEventListener("audioprocess",A);h.connect(b);b.connect(f)}d!=null&&d();return function(){a.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}}),e!=null&&c("promiseDone")(e.close()),b!=null&&b.removeEventListener("audioprocess",A)}},[z]);var B=c("usePrevious")(g);k(function(){B!=null&&B.TAG===1&&g.TAG===2&&y()},[B,g]);k(function(){if(!z)return;var b=Date.now(),d,e=function e(){var f=(Date.now()-b)/1e3;if(f>=a)return h({_0:a,TAG:4});h({_0:f,TAG:2});d=c("setTimeout")(e,1e3)};d=c("setTimeout")(e,1e3);return function(){d!=null&&c("clearTimeout")(d)}},[z]);f=j(function(b){return h({_0:b,_1:a,TAG:0})},[]);var C=j(function(){var a;h({_0:void 0,TAG:5});(a=r.current)==null?void 0:a.pause();r.current=void 0;t.current=void 0;n.current=void 0;a=s.current;if(a!=null){URL.revokeObjectURL(a);s.current=void 0;return}},[]),D=j(function(a){if(r.current==null)return h({_0:void 0,TAG:1});switch(a.TAG){case 0:case 1:return h({_0:void 0,TAG:1});case 2:r.current.play().then(function(){h({_0:void 0,TAG:1});return b("Promise").resolve()})["catch"](function(a){e!=null&&e();return b("Promise").resolve()});return;case 3:r.current.pause();return h({_0:void 0,TAG:1})}},[r]),E=j(function(a){return new(b("Promise"))(function(c,b){b=t.current;if(b!=null)return c(b);w.current=function(a){return c(a)};if(a.TAG===1)return D(a)})},[]);return{audioEl:r,getVoiceClip:E,reset:C,start:f,state:g,toggle:D}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=n;g.getDuration=o;g.getCurrentTime=p;g.isProgressing=q;g.isCompleted=r;g.getPlaybackLabel=s;g.getPlaybackIcon=t;g.useVoiceRecorder=w}),98);
__d("MWAudioRecorder.react",["MWAudioPlayer.react","MWPAudioPlayer.react","MWPThreadTheme.bs","MWPUseVoiceRecorder.bs","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef,j=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWAudioRecorder.react");function a(a){a=a.voiceRecorder;var b=a.audioEl,e=a.state,f=a.toggle;a=d("MWPThreadTheme.bs").useBottom();var g=i(),k=d("MWPAudioPlayer.react").useResetHighlightProgress(g),l=function(){switch(e.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}(),m=function(){f(e);switch(e.TAG){case 0:return;case 1:j.onReady(function(a){return a.logClickStopRecording(0)});return;case 2:var a=e._1,b=e._0;a===0?j.onReady(function(a){return a.logPlaybackStart(b)}):j.onReady(function(c){return c.logPlaybackResume(b,a)});return;case 3:var c=e._1,d=e._0;j.onReady(function(a){return a.logPlaybackPause(d,c)});return}},n=d("MWPAudioPlayer.react").useProgressLiveUpdate(d("MWPUseVoiceRecorder.bs").getDuration(e),b,d("MWPUseVoiceRecorder.bs").getCurrentTime(e),d("MWPUseVoiceRecorder.bs").isProgressing(e),!1,d("MWPUseVoiceRecorder.bs").isCompleted(e)),o=d("MWAudioPlayer.react").useHighlightStyles(!0),p=function(){switch(e.TAG){case 0:case 1:return null;case 2:case 3:return h.jsx(d("MWPAudioPlayer.react").ScreenReaderLabel,{currentTime:e._1,duration:e._0})}}();return h.jsx(d("MWPAudioPlayer.react").Container,{audioEl:b,hasScrubber:l,scrubberRef:g,style:{backgroundColor:a,borderRadius:"18px"},testid:void 0,useCase:d("MWPAudioPlayer.react").UseCase.RECORDER,children:h.jsxs(d("MWPAudioPlayer.react").KeyCommands,{audioEl:b,children:[h.jsx(d("MWPAudioPlayer.react").Highlight,{ref:n,xstyle:o}),p,h.jsx(d("MWPAudioPlayer.react").Highlight,{ref:g,xstyle:o}),h.jsx("div",{className:c("stylex")(d("MWPAudioPlayer.react").styles.playbackButtonContainer),onMouseMove:l?k:void 0,children:h.jsx(d("MWPAudioPlayer.react").PlaybackButton,{icon:d("MWPUseVoiceRecorder.bs").getPlaybackIcon(e,a),label:d("MWPUseVoiceRecorder.bs").getPlaybackLabel(e),onPress:m})}),h.jsx(d("MWPAudioPlayer.react").Timer,{time:d("MWPUseVoiceRecorder.bs").getTimerTime(e)})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XStickerAssetController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:!0},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerConstants","XStickerAssetController"],(function(a,b,c,d,e,f,g){"use strict";var h={small:1e3,medium:2e3,large:3e3};function a(a){var b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<h.small:b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<h.medium:b=c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<h.large:b=c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return b}function b(a){var b=d("EmojiLikeConstants").size.SMALL;a<h.small?b=d("EmojiLikeConstants").size.SMALL:a<h.medium?b=d("EmojiLikeConstants").size.MEDIUM:a<h.large&&(b=d("EmojiLikeConstants").size.LARGE);return b}function e(a){var b;switch(a){case c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:b=120;break;case c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:b=84;break;case c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:b=35;break;case d("EmojiLikeConstants").size.LARGE:b=64;break;case d("EmojiLikeConstants").size.MEDIUM:b=64;break;case d("EmojiLikeConstants").size.SMALL:b=32;break}return b?{height:b,width:b}:void 0}function f(){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type","BestEffortImage").getURI().toString()}function i(a){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type","BestEffortImage").getURI().toString()}function j(a){return a&&a.custom_like_icon}g.SizeTimes=h;g.getStickerIDForTime=a;g.getEmojiSizeForTime=b;g.getMetadataForHotLike=e;g.getPreviewURI=f;g.getURIWithID=i;g.getCustomEmojiFromThread=j}),98);
__d("MWV2ChatGrowingHotlikeButton.bs",["fbt","CometEmoji.react","CometPressable.react","EmojiRenderer","I64","LSHotEmojiSize","LSIntEnum","MWChatHotLikeEmitterContext.bs","MWLikeSvgIcon.react","MWXTooltip.react","MessengerHotLikeUtils","clearTimeout","gkx","isStringNullOrEmpty","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useRef,k=b.useState,l={fillGrey:{fill:"xsrhx6k",$$css:!0},customEmojiButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},customEmojiButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},hotlikeButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},hotlikeButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.color,e=a.onSendMessage,f=a.thread;a=a.disabled;a=a!=null?a:!1;var g=f.customEmoji,m=d("MWChatHotLikeEmitterContext.bs").useHook();f=k(0);var n=f[0],o=f[1],p=j();f=k(!0);var q=f[0],r=f[1],s=function(){return m.notify({_0:void 0,TAG:3})},t=function(){var a=p.current;if(a!=null){c("clearTimeout")(a);return}},u=function(){t();var a=c("setTimeout")(s,3e3);p.current=a};f=function(){if(n!==0){o(0);t();return m.notify({_0:void 0,TAG:3})}};var v=function(a){n!==0&&(a.stopPropagation(),a.preventDefault());a.button!==0&&(o(function(){return Date.now()}),m.notify({_0:void 0,TAG:0}),u());return r(!1)},w=function(a){if(a<d("MessengerHotLikeUtils").SizeTimes.small)return d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL);else if(a<d("MessengerHotLikeUtils").SizeTimes.medium)return d("LSIntEnum").ofNumber(c("LSHotEmojiSize").MEDIUM);else if(a<d("MessengerHotLikeUtils").SizeTimes.large)return d("LSIntEnum").ofNumber(c("LSHotEmojiSize").LARGE);else return d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL)},x=function(){var a=Date.now()-n,b=0;if(!c("isStringNullOrEmpty")(g)){var f=w(a);e(g,void 0,void 0,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}else b=1;if(b===1){f=d("I64").of_string(d("MessengerHotLikeUtils").getStickerIDForTime(a));e(void 0,void 0,f,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL),void 0,void 0,void 0,void 0,void 0,void 0,void 0)}n!==0&&(o(0),t(),m.notify({_0:void 0,TAG:1}));return r(!0)};if(!c("isStringNullOrEmpty")(g)){var y=h._("__JHASH__tAqfCk1edp7__JHASH__",[h._param("emoji",g)]),z=function(a){var b=d("EmojiRenderer").parse(g).map(function(a){return a.emoji});if(b.length!==1)return i.jsx("span",{children:g});b=b[0];return i.jsx(c("CometEmoji.react"),{emoji:b,size:a})},A=h._("__JHASH__7OvMJwHRigG__JHASH__");A=q?i.jsxs(i.Fragment,{children:[i.jsxs("span",{children:[A," "]}),z(16)]}):null;return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:A,children:i.jsx(c("CometPressable.react"),{"aria-label":y,disabled:a,onHoverOut:f,onPress:x,onPressIn:v,overlayDisabled:a,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?l.customEmojiButtonMDS:l.customEmojiButtonFDS]},children:z(20)})})}A=h._("__JHASH__OzQk4bc7gK8__JHASH__");return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:q?A:null,children:i.jsx(c("CometPressable.react"),{"aria-label":A,disabled:a,onHoverOut:f,onPress:x,onPressIn:v,overlayDisabled:a,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?l.hotlikeButtonMDS:l.hotlikeButtonFDS]},children:i.jsx(c("MWLikeSvgIcon.react"),{className:"xsrhx6k",color:b,size:20})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIcon.react",["ix","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"x6s0dn4 x2bj2ny x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:i.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(h("908355"),16)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStaging.bs",["fbt","ix","CometFileSelector.react","CometImage.react","CometImageCover.react","CometPressable.react","I64","LSIntEnum","MWChatFileIcon.react","MWV2ComposerFileButton.bs","MWV2ComposerMediaProgressBar.react","MWXIcon.react","MWXText.react","MessagingAttachmentType","TetraCircleButton.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback,l={root:{alignItems:"x6s0dn4",backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",justifyContent:"xl56j7k",marginEnd:"xq8finb",position:"x1n2onr6",width:"x1useyqa",$$css:!0}};function m(a){var b=a.onAttachmentsAdded;a=a.supportedFileTypes;b=d("MWV2ComposerFileButton.bs").useOnFilesSelected(b);b={children:function(a){return j.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__Mhonj9wa21Q__JHASH__"),onPress:function(){return a()},xstyle:function(){return[l.root]},children:j.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("481777"),24),testid:void 0})})},multiple:!0,onFilesSelected:b};a!=null&&(b.accept=a);return j.jsx(c("CometFileSelector.react"),babelHelpers["extends"]({},b))}m.displayName=m.name+" [from "+f.id+"]";b={make:m};function n(a){var b=a.onPress;return j.jsx("div",{className:"xoo4vsp x10l6tqk x1v4kod4",children:j.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("478231"),12),label:h._("__JHASH__JpwWRvbxl3y__JHASH__"),onPress:function(){return b()},size:24,type:"overlay"})})}n.displayName=n.name+" [from "+f.id+"]";e={make:n};function o(a){if(a.mimeType==="image/gif")return!0;else return a.mimeType==="image/webp"}function p(a){a=a.mediaStaging;var b=a.attachmentType,e=o(a);if(e){e=a.previewUrl;if(e!=null)return j.jsx(c("CometImageCover.react"),{alt:"",src:e});else return null}if(d("I64").equal(b,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))){e=a.previewUrl;if(e!=null)return j.jsxs(j.Fragment,{children:[j.jsx("video",{className:"xl1xv1r",height:"48",src:e,width:"48"}),j.jsx("div",{className:"x16hk5td x7wgvq7 x10l6tqk xtzzx4i xwa60dl",children:j.jsx(c("CometImage.react"),{src:i("354763")})})]});else return null}if(!d("I64").equal(b,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)))return j.jsxs("div",{className:"x6s0dn4 x78zum5 xurb0ha x1sxyh0 x1iorvi4 xjkvuk6 x87ps6o",children:[j.jsx(c("MWChatFileIcon.react"),{}),j.jsx("div",{className:"x1iyjqo2",children:j.jsx(c("MWXText.react"),{numberOfLines:2,type:"headline4",children:a.filename})})]});e=a.previewUrl;if(e!=null)return j.jsx(c("CometImageCover.react"),{alt:"",src:e});else return null}var q={make:p},r={fileContainer:{width:"x2pejg6",$$css:!0},filePreviewContainer:{backgroundColor:"x1vtvx1t",width:"x2pejg6",$$css:!0},itemContainer:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",marginTop:"xr9ek0c",marginEnd:"xq8finb",marginBottom:"xzueoph",marginStart:"x1mh8g0r",position:"x1n2onr6",width:"x1useyqa",$$css:!0},previewContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xsdox4t",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x1useyqa",$$css:!0}};function s(a){var b=a.mediaStaging,e=a.onAttachmentRemoved;a=k(function(){return e(b.offlineAttachmentId)},[]);var f=!d("I64").equal(b.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))&&!d("I64").equal(b.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))&&!o(b);return j.jsxs("div",{className:c("stylex")(r.itemContainer,f?r.fileContainer:!1),children:[j.jsxs("div",{className:c("stylex")(r.previewContainer,f?r.filePreviewContainer:!1),children:[j.jsx(p,{mediaStaging:b}),j.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:4,mediaStaging:b})]}),j.jsx(n,{onPress:a})]})}s.displayName=s.name+" [from "+f.id+"]";f={make:s};function a(a){var b=a.mediaStaging,c=a.onAttachmentRemoved,d=a.onAttachmentsAdded;a=a.supportedFileTypes;if(b.length===0)return null;else return j.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xn6708d xsag5q8 x1ye3gou xh8yej3",children:[j.jsx(m,{onAttachmentsAdded:d,supportedFileTypes:a}),b.map(function(a){return j.jsx(s,{mediaStaging:a,onAttachmentRemoved:c},a.offlineAttachmentId)})]})}b=b;e=e;var t=o;q=q;f=f;a=a;g.UploadPlaceholder=b;g.CloseButton=e;g.isVideoLikeImage=t;g.Preview=q;g.StagingItem=f;g.make=a}),98);
__d("MWV2ComposerPersistentMenuButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","I64","JSResourceForInteraction","MWChatChatButtonColorConstants.bs","MWXTooltip.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__2kGg_y6m8FS__JHASH__"),k={buttonFDS:{flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.color,e=a.onSendMessage,f=a.thread;a=a.disabled;var g=a!=null?a:!1;a=function(a){var b=a.title;a=a.id;return e(b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0)};return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{onClose:function(){},onSelect:a,pageId:d("I64").to_string(f.threadKey)},popoverResource:c("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.bs"),children:function(a,e,f,h,l,m,n){return i.jsx(c("MWXTooltip.react"),{forceInlineDisplay:!0,position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{disabled:g,label:j,onPress:e,overlayDisabled:g,overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx("svg",{className:c("stylex")(d("MWChatChatButtonColorConstants.bs").styles.strokeGrey),height:"20",viewBox:"0 0 24 18",width:"20",children:i.jsxs("g",{stroke:b,strokeLinecap:"round",strokeWidth:"2.5",children:[i.jsx("path",{d:"M1.5,1.5 H22.5"}),i.jsx("path",{d:"M1.5,9 H22.5"}),i.jsx("path",{d:"M1.5,16.5 H22.5"})]})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("Navigator.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=navigator.permissions;if(c==null)return;var d=c.query;if(!(d==null))return b("bs_caml_option").nullable_to_opt(d.call(c,a))}f.query=a}),null);
__d("MWV2ComposerPlusButton.bs",["fbt","BrowserFeatureInstrumentation","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWGating","MWChatComposerIcons.bs","MWXTooltip.react","Navigator.bs","Promise","bs_caml_option","emptyFunction","gkx","react","requireDeferred","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useMemo,k=e.useState,l=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2ComposerPlusButton.bs");function m(a){var e=k(function(){return{_0:void 0,TAG:0}}),f=e[1],g=e[0];e=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog").__setRef("MWV2ComposerPlusButton.bs"));var h=e[0],i=function(){return h({contentType:"accessDenied",onAllow:c("emptyFunction")},c("emptyFunction"))},j=function(){c("BrowserFeatureInstrumentation")("microphone","MWV2ComposerPlusButton"),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(c){f(function(){return{_0:void 0,TAG:1}});a.start(c);return b("Promise").resolve()})["catch"](function(a){a.name==="NotAllowedError"?(f(function(){return{_0:void 0,TAG:2}}),i()):f(function(){return{_0:void 0,TAG:3}});l.onReady(function(a){return a.logBrowserDenyAccess()});return b("Promise").resolve()})},m=function(){return h({contentType:"askForAccess",onAllow:function(){return j()}},c("emptyFunction"))};return function(){switch(g.TAG){case 0:var a=d("Navigator.bs").query({name:"microphone"});a!=null?c("bs_caml_option").valFromOption(a).then(function(a){a=a.state;switch(a){case"denied":f(function(){return{_0:void 0,TAG:2}});i();break;case"granted":j();break;case"prompt":m();break;default:m()}return b("Promise").resolve()})["catch"](function(){m();return b("Promise").resolve()}):(j(),l.onReady(function(a){return a.logMicAccessCheckFailed()}));return;case 2:return i();case 1:case 3:return j()}}}var n={plusButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginTop:"x1gslohp",marginBottom:"x12nagc",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},plusButtonMDS:{marginStart:"x1i64zmx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.canSendAudioClip,e=a.canSendFile,f=a.canSendPayment,g=a.color,o=a.isInputExpanded,p=a.onAttachmentsAdded,q=a.onSendMessage,r=a.renderExtraOverflowMenuItems,s=a.supportedFileTypes,t=a.thread,u=a.voiceRecorder,v=c("emptyFunction");a=k(!1);var w=a[1],x=function(a){return w(function(){return a})},y=d("MAWGating").isStickerEnabled()&&d("LSMessagingThreadTypeUtil").isSecure(t.threadType);f=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(0),t)&&!c("gkx")("1787591")&&f;var z=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(36),t)&&!c("gkx")("1787592");b=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(14),t)&&!c("gkx")("1787585")&&b;var A=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(4),t)&&!c("gkx")("1787594")&&o;e=e&&o;y=!c("gkx")("1787596")&&(d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(3),t)||y)&&o;var B=j(function(){if(r!=null)return r(g,v,p);else return[]},[r,g,v,p]),C=f||z||b||A||e||y||B.length>0,D=!C;C=m(u);var E=u.state,F;F=E.TAG===0?!1:!0;var G=F?h._("__JHASH__tnRfHlva-bL__JHASH__"):a[0]?h._("__JHASH__SFruYEeI3S-__JHASH__"):h._("__JHASH__PUPO-44z1pF__JHASH__");return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"start",onVisibilityChange:x,popoverProps:{color:g,extraItems:B,isInputExpanded:o,onAttachmentsAdded:p,onClose:v,onPressVoiceClip:C,onSendMessage:q,showCreatePoll:z,showFile:e,showGif:A,showPayment:f,showSendVoiceClip:b,showSticker:y,supportedFileTypes:s,threadKey:t.threadKey},popoverResource:c("JSResourceForInteraction")("MWV2ComposerOverflowMenu").__setRef("MWV2ComposerPlusButton.bs"),position:"above",preloadTrigger:"button",children:function(a,b,e,f,h,j,k){return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:G,children:i.jsx(c("CometPressable.react"),{"aria-label":G,disabled:D,onHoverIn:f,onHoverOut:h,onPress:function(){if(F){u.reset();l.onReady(function(a){return a.logDeleteRecording()});return}else return b()},onPressIn:j,overlayDisabled:D,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?n.plusButtonMDS:n.plusButtonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").MoreActions.make,{fill:D?void 0:g,isRotated:F,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerView.react",["CometMessengerComposerInner.react","CometPlaceholder.react","FBLogger","I64","Int64Hooks","LSIntEnum","LSMediaUrl.bs","LSMessagingThreadTypeUtil","LSThreadBitOffset","Locale","MAWGating","MAWSubscribeToContactNames","MWAudioRecorder.react","MWCMThreadTypes.react","MWPActor.react","MWPThreadTheme.bs","MWPUseVoiceRecorder.bs","MWV2ChatGrowingHotlikeButton.bs","MWV2ComposerEmojiButton.bs","MWV2ComposerFileButton.bs","MWV2ComposerGifButton.bs","MWV2ComposerMediaStaging.bs","MWV2ComposerPersistentMenuButton.bs","MWV2ComposerPlusButton.bs","MWV2ComposerRoundedCorners.bs","MWV2ComposerSendButton.bs","MWV2ComposerStickerButton.bs","MWV2IsTabFocusedContext.bs","MWXTooltipGroup.react","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","cr:5521","gkx","killswitch","react","requireDeferred","stylex","useCometUniqueID","useCurrentDisplayMode","useDeferredModuleOnReady","useMWComposerAriaDescribedBy","useMWEntrypoint","useMWFalcoFeatureEventLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useMemo,l=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2ComposerView.react"),m=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.react"),n={button:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},buttonFDS:{marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},buttonHidden:{transform:"x1f85oc2",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},buttonMDS:{marginBottom:"xat24cr",$$css:!0},buttonShown:{transform:"x3oybdh",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},composer:{display:"x78zum5",flexGrow:"x1iyjqo2",transition:"x6q2ic0",$$css:!0},container:{flexGrow:"x1iyjqo2",overflowX:"xw2csxc",position:"x1n2onr6",$$css:!0},emojiButton:{end:"xds687c",$$css:!0},fileButtonHidden:{transitionDelay:"x1th4bbo",$$css:!0},fileButtonShown:{transitionDelay:"x1th4bbo",$$css:!0},gifButtonHidden:{transitionDelay:"x1ahifba",$$css:!0},gifButtonShown:{transitionDelay:"x5w5eug",$$css:!0},hidden:{display:"x1s85apg",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",fontSize:"x6prxxf",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},stickerButtonHidden:{transitionDelay:"x5zdck6",$$css:!0},stickerButtonShown:{transitionDelay:"x5h36tt",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function o(a){var b=d("MWPActor.react").useActor(),e=c("useReStore")(),g=d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:a.threadKey,tl:0}),function(a){return[d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:a.contactId,tl:0})),a]})},[e,a.threadKey]),"kvph0v28",f.id+":188"),h=k(function(){return g.reduce(function(a,c){var e=c[0];if(e!=null&&!d("I64").equal(e.id,b)){return a.concat([[babelHelpers["extends"]({},e,{name:(e=e.name)!=null?e:d("MAWSubscribeToContactNames").getUnknownUser()}),c[1]]])}else return a},[])},[g,b]);return k(function(){return new Map(h.map(function(a){var b=a[1];a=a[0];var c=b.isAdmin,e=d("I64").to_string(a.id),f=a.name,g=a.name;b=b.nickname;var h=d("LSMediaUrl.bs").Contact.profilePictureUrl(a);c=c!=null?c:!1;var i=a.workJobTitle,j=a.secondaryName;g={actualName:g,contactId:e,isAdmin:c,isContact:!0,jobTitle:i,name:f,nickname:b,profilePictureUrl:h,profileUrl:void 0,secondaryName:j};return[d("I64").to_string(a.id),g]}))},[h])}function p(a){var b=c("useDeferredModuleOnReady")(m);j(function(){if(b!=null)return b(a,16)},[a,b])}function a(a){var e=a.canSendAudioClip;e=e===void 0?!0:e;var f=a.canSendFile;f=f===void 0?!0:f;var g=a.canSendGif;g=g===void 0?!0:g;var j=a.canSendPayment;j=j===void 0?!1:j;var k=a.canSendSticker;k=k===void 0?!0:k;var m=a.composerLinkPreview,q=a.editor,r=a.editorElementRef,s=a.hasStuffToSend,t=a.isMentionsPluginEnabled;t=t===void 0?!0:t;var u=a.isSendDisabled;u=u===void 0?!1:u;var v=a.localTimezoneInformation,w=a.maxAudioDuration,x=a.mediaStaging,y=a.onAttachmentRemoved,z=a.onAttachmentsAdded,A=a.onSendMessage,B=a.placeholderText,C=a.policyProduct,D=a.renderExtraOverflowMenuItems,E=a.sendMessage,F=a.supportedFileTypes,G=a.surface,H=a.thread;a=g&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(4),H)&&!c("gkx")("1787594");g=d("MWCMThreadTypes.react").isBroadcastThread(H.threadType);f=f&&(g?!c("gkx")("1787595")&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),H):!c("gkx")("1787595"));g=d("LSMessagingThreadTypeUtil").isSecure(H.threadType);var I=d("MAWGating").isStickerEnabled()&&g;k=k&&!c("gkx")("1787596")&&(d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(3),H)||I);var J=d("MWV2IsTabFocusedContext.bs").useIsTabFocused(),K=d("MWPThreadTheme.bs").useBottom(),L=c("useCurrentDisplayMode")();L=L==="dark"&&g?"var(--always-white)":K;K=u||!J?void 0:L;J=i(function(){l.onReady(function(a){return a.logClickStartRecording()})});L=i(function(){l.onReady(function(a){return a.logBrowserDenyAccess()})});var M=d("MWPUseVoiceRecorder.bs").useVoiceRecorder(w,J,L),N=c("useMWFalcoFeatureEventLogger")(H.threadKey,H.threadType);w=M.state;J=w.TAG!==0;L=function(){M.getVoiceClip(M.state).then(function(a){M.reset();A(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0,void 0);return b("Promise").resolve()})["catch"](function(a){c("FBLogger")("messenger_e2ee_web").catching(a).warn("Failed to send voice clip in messenger composer ");return b("Promise").reject(a)})};w=o(H);var O=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(43),H),P=d("Locale").isRTL(),Q=c("gkx")("571"),R=Q?[36,8]:[32,4],S=R[0];R=R[1];var T=0+S|0,U=T+S|0,V=P?{right:0..toString()+"px"}:{left:0..toString()+"px"};T=P?{right:T.toString()+"px"}:{left:T.toString()+"px"};var W=P?{right:U.toString()+"px"}:{left:U.toString()+"px"};P=P?{marginRight:s?Q?8..toString()+"px":"0":((U+S|0)+R|0).toString()+"px"}:{marginLeft:s?Q?8..toString()+"px":"0":((U+S|0)+R|0).toString()+"px"};U=c("useMWComposerAriaDescribedBy")(H);S=c("useCometUniqueID")();p(q);var X=c("useMWEntrypoint")();R={canSendAudioClip:e,canSendFile:f,canSendPayment:j,color:K,isInputExpanded:s,onAttachmentsAdded:z,onSendMessage:A,supportedFileTypes:F,thread:H,voiceRecorder:M};D!=null&&(R.renderExtraOverflowMenuItems=D);e=function(a,b){var c="select_sticker_book";a?c="sticker_search":b&&(c="recent_stickers");N(X,c)};var Y=b("cr:5521")==null?void 0:b("cr:5521").useInteractionLogger();return h.jsxs("div",{className:"xuk3077 x78zum5 x6prxxf xz9dl7a xsag5q8","data-testid":void 0,children:[h.jsx(c("MWV2ComposerPlusButton.bs"),babelHelpers["extends"]({},R)),J?h.jsxs(h.Fragment,{children:[h.jsx(c("MWAudioRecorder.react"),{voiceRecorder:M}),h.jsx(c("MWV2ComposerSendButton.bs"),{color:K,disabled:u,onPress:L})]}):null,h.jsxs("div",{className:c("stylex")(J?n.hidden:!1,n.container),children:[h.jsxs(c("MWXTooltipGroup.react"),{children:[h.jsx("div",{className:c("stylex")(n.button,Q?n.buttonMDS:n.buttonFDS,s?n.buttonHidden:n.buttonShown,s?n.fileButtonHidden:n.fileButtonShown),style:V,children:h.jsx(d("MWV2ComposerFileButton.bs").make,{color:K,disabled:!f,onAttachmentsAdded:z,supportedFileTypes:F})}),h.jsx("div",{className:c("stylex")(n.button,Q?n.buttonMDS:n.buttonFDS,s?n.buttonHidden:n.buttonShown,s?n.stickerButtonHidden:n.stickerButtonShown),style:T,children:h.jsx(d("MWV2ComposerStickerButton.bs").make,{color:K,disabled:!k,onOpenStickerPicker:function(){return Y==null?void 0:Y({eventName:"open_sticker_picker",threadKey:H.threadKey,threadType:H.threadType})},onSelectStickerPack:e,onSendMessage:A,useSecureSend:I})}),h.jsx("div",{className:c("stylex")(n.button,Q?n.buttonMDS:n.buttonFDS,s?n.buttonHidden:n.buttonShown,s?n.gifButtonHidden:n.gifButtonShown),style:W,children:h.jsx(d("MWV2ComposerGifButton.bs").make,{color:K,disabled:!a,isSecureThread:g,onSendMessage:A})})]}),v!=null?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:v}):null,m!=null?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:m}):null,h.jsxs("div",{className:"x78zum5 x1iyjqo2 x6q2ic0",style:P,children:[h.jsx("div",{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",id:S,children:U}),h.jsx(c("CometMessengerComposerInner.react"),{ariaDescribedBy:S,contentEditableRef:r,editor:q,handlePastedFiles:z,isSecureThread:g,participants:w,placeholderText:B,policyProduct:C,surface:G,testId:"chat_input:rich-input",threadID:d("I64").to_string(H.threadKey),topContent:h.jsx(d("MWV2ComposerMediaStaging.bs").make,{mediaStaging:x,onAttachmentRemoved:y,onAttachmentsAdded:z,supportedFileTypes:F,thread:H}),useMentionsPlugin:t&&O&&d("LSMessagingThreadTypeUtil").isGroup(H.threadType)})]}),h.jsx("div",{className:c("stylex")(J?n.hidden:!1,n.button,Q?n.buttonMDS:n.buttonFDS,n.emojiButton),children:h.jsx(d("MWV2ComposerEmojiButton.bs").make,{color:K,editor:q})}),J?null:h.jsx(d("MWV2ComposerRoundedCorners.bs").TopRight.make,{}),J?null:h.jsx(d("MWV2ComposerRoundedCorners.bs").BottomRight.make,{})]}),J?null:s?h.jsx(c("MWV2ComposerSendButton.bs"),{color:K,disabled:u,onPress:E}):H.hasPersistentMenu&&!c("killswitch")("MESSENGER_WEB_PERSISTENT_MENU")?h.jsx(c("MWV2ComposerPersistentMenuButton.bs"),{color:K,disabled:u,onSendMessage:A,thread:H}):h.jsx(c("MWV2ChatGrowingHotlikeButton.bs"),{color:K,disabled:u,onSendMessage:A,thread:H})]})}a.displayName=a.name+" [from "+f.id+"]";g.useParticipantsExcludingViewer=o;g.MWV2ComposerView=a}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIntEnum","LSIssueNewError","LSThreadBitOffset","MWCMThreadTypes.react","MWXText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");e=b.createContext;var j=b.createElement,k=b.useCallback,l=b.useRef,m=e(null);function n(a){var b=a.children;a=a.fileUploadHandlerRef;return j(m.Provider,{children:b,value:a})}var o={dropzone:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function p(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function q(a){switch(a){case 0:return void 0;case 1:return h._("__JHASH__M7mGXjgzxvT__JHASH__").toString();default:return h._("__JHASH__UaK2GgtSNQH__JHASH__").toString()}}function r(a,b){var d=q(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewError")(void 0,void 0,d,d,void 0,void 0,c("LSFactory")(a))},"readwrite"))}function s(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var t=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var j=l(null),m=l(null),q=c("useReStore")(),u=g!=null?d("MWCMThreadTypes.react").isBroadcastThread(g.threadType)&&!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),g):!1;g=!c("gkx")("1835569");var v=e===!0||g||j.current==null||u;e=function(a){return j.current==null?!1:!p(a).some(function(a){return t.has(a)})};g=c("useFileDragEvents")(function(){return!1},void 0,e);e=k(function(a){var b=j.current;if(b==null){u||c("recoverableViolation")("Could not find fileUploadHandlerRef to handle dropped file!","messenger_comet");return}a=Array.from(a);var d=f?a.filter(s):a;a.length!==d.length&&r(q,a.length);!v&&d.length!==0&&b(d)},[f,v,u,q]);c("useFileDragEvents")(e,m.current,function(a){return!0});return i.jsxs("div",{className:c("stylex")(o.root,(e=a)!=null?e:!1),ref:m,children:[i.jsx(n,{fileUploadHandlerRef:j,children:b}),!v&&g?i.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm",children:i.jsx(c("MWXText.react"),{type:"body1",children:h._("__JHASH__Cpq0daihgaG__JHASH__")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.mWV2FileDropzoneContext=m;g.MWV2FileDropzone=a}),98);
__d("MAWOptimisticUpdateContactRelationship.bs",["I64","LSMessagingThreadTypeUtil","ReQL.bs","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)){c("promiseDone")(b.runInTransaction(function(c){return d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(b.table("contacts"))),function(a){return!d("I64").equal(a[1].id,e)})).then(function(a){if(a==null)return;a=a[1];var b=babelHelpers["extends"]({},a,{contactViewerRelationship:d("I64").of_string("2")});return c.table("contacts").upsert({hd:a.id,tl:0},b)})},"readwrite"));return}}b=a;g.call=b}),98);
__d("MWGetOriginalEntrypoint",["I64","InteractionTracingMetrics","MWChatInteraction.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWChatInteraction.bs").get(d("I64").to_string(a)),e=d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").MW_AUTO_CHAT_TAB_OPEN);b=b!=null?c("InteractionTracingMetrics").get(b):null;e=e!=null?c("InteractionTracingMetrics").get(e):null;b=b==null?void 0:(b=b.annotations.string)==null?void 0:b.entrypoint;if(b!=null)return b;e=(e==null?void 0:(b=e.annotations.string)==null?void 0:b.thread_id)===d("I64").to_string(a);return e?"auto_open":"unknown"}g["default"]=a}),98);
__d("MWLinkRegex",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="(?:(?:[a-z]+:)?//)?",b="(?:\\S+(?::\\S*)?@)?",c="(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)",d="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",e="(?:\\.(?:((?:[a-z\\u00a1-\\uffff]{2,}))))\\.?",f="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?';a="(?:"+a+"|www\\.)"+b+"(?:localhost|"+c+d+e+")"+f+g;return new RegExp(a,"ig")}function b(){var a="(^|)[^@\\s]+@[^@]+[.][^@\\s]+(?!\\S)";return new RegExp(a,"ig")}f.getLinkRegex=a;f.getEmailRegex=b}),66);
__d("MWMediaTraceHandler.bs",["I64","LSAppendDataTraceAddon","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:d("I64").zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:d("LSIntEnum").ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return h(a,b).then(function(){return c("LSAppendDataTraceAddon")(b,d("LSIntEnum").ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),d("I64").neg_one,void 0,d("I64").to_string(e)+","+d("I64").to_string(f),c("LSFactory")(a))})}g.logMediaSendStart=a}),98);
__d("MWPSendMessageLogger.bs",["MWMediaTraceHandler.bs","Promise","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend.bs").__setRef("MWPSendMessageLogger.bs");function a(a,b,c,d,e,f,g,i,j){h.onReady(function(h){return h.log(a,b,c,e,f,d,g,i,j,0,0)})}function e(a,c,e,f){if(c!=null)return d("MWMediaTraceHandler.bs").logMediaSendStart(a,c,e,f);else return b("Promise").resolve()}g.log=a;g.logMediaSendStart=e}),98);
__d("MWMsgMediaTypeLogUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({Application:"application",Audio:"audio",Avatar:"avatar",Emoji:"emoji",File:"file",Gif:"gif",Image:"image",Link:"link",None:"none",Poll:"poll",Reaction:"reaction",Sticker:"sticker",Video:"video"});function a(a,b){var c=b.hasEmoji;c=c===void 0?!1:c;var d=b.hasFile;d=d===void 0?!1:d;var e=b.hasGif;e=e===void 0?!1:e;var f=b.hasImage;f=f===void 0?!1:f;var h=b.hasLinks;h=h===void 0?!1:h;var i=b.hasSticker;i=i===void 0?!1:i;b=b.hasVoiceClip;b=b===void 0?!1:b;var j=g.None;f?j=g.Image:i?j=g.Sticker:e?j=g.Gif:b?j=g.Audio:c?j=g.Emoji:h?j=g.Link:d&&(j=g.File);a.addAnnotation("attachment_type",j)}f.AttachmentType=g;f.logMessageMediaType=a}),66);
__d("MWSharedMsgLogUtils",["$InternalEnum","MWMsgMediaTypeLogUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({Send:"send",Reply:"reply",Forward:"forward",Share:"share"}),i=b("$InternalEnum")({Text:"text",NonText:"non-text"});function a(a,b){var c=b.hasEmoji;c=c===void 0?!1:c;var e=b.hasFile;e=e===void 0?!1:e;var f=b.hasGif;f=f===void 0?!1:f;var g=b.hasImage;g=g===void 0?!1:g;var j=b.hasLinks;j=j===void 0?!1:j;var k=b.hasReply;k=k===void 0?!1:k;var l=b.hasSticker;l=l===void 0?!1:l;var m=b.hasText;m=m===void 0?!1:m;var n=b.hasVoiceClip;n=n===void 0?!1:n;var o=b.isEBEnabled;o=o===void 0?!1:o;b=b.useSharedWorker;b=b===void 0?!1:b;m=m?i.Text:i.NonText;var p=h.Send;k&&(p=h.Reply);d("MWMsgMediaTypeLogUtils").logMessageMediaType(a,{hasEmoji:c,hasFile:e,hasGif:f,hasImage:g,hasLinks:j,hasSticker:l,hasVoiceClip:n});a.addAnnotation("isEBEnabled",o.toString());a.addAnnotation("useSharedWorker",b.toString());a.addAnnotation("action_type",p);a.addAnnotation("message_type",m)}g.ActionType=h;g.MsgType=i;g.logMessageDefaults=a}),98);
__d("MWV2SendOpenMessage.bs",["ArmadilloDataTraceCheckPoint.bs","I64","Int64Hooks","LSAppendDataTraceAddon","LSAuthorityLevel","LSFactory","LSFlushDataTrace.bs","LSGenerateTraceId","LSInsertNewMediaSend","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType","LSMarkSubJobCompletedV2","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingInitiatingSourceHook.bs","LSMessagingThreadTypeUtil","LSOptimisticSendMessage","LSShape","LSThreadBitOffset","LSUpdateDraftMessage","LSVec","MAWDualSendPermissionsManager.bs","MAWOptimisticUpdateContactRelationship.bs","MWCMThreadTypes.react","MWChatInteraction.bs","MWConsole","MWGetOriginalEntrypoint","MWLSDefaultThreadSource","MWLSLogSend.bs","MWLinkRegex","MWMediaTraceHandler.bs","MWPActor.react","MWPComposerMediaUploadUtil.bs","MWPOpenComposerUtils.bs","MWPReplyContext.bs","MWPSendMessageLogger.bs","MWSharedMsgLogUtils","MWVersion.bs","MessageRequestsLog.bs","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","OfflineThreadingId","Promise","ReQL.bs","ReStoreVaulting","SortedAsyncIterable.bs","URLMatcher","gkx","promiseDone","qpl","react","shouldUseMAWSharedWorker","useCometInteractionTracing","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useContext;function i(a,c,e,f){if(c!=null)return d("MWMediaTraceHandler.bs").logMediaSendStart(a,c,e,d("I64").of_int32(f));else return b("Promise").resolve()}function j(a,e,f){return f!=null&&c("gkx")("2517")?c("LSAppendDataTraceAddon")(f,d("ArmadilloDataTraceCheckPoint.bs").armadilloTlcControlOpenThread,d("I64").minus_one,void 0,e,c("LSFactory")(a)):b("Promise").resolve()}function k(a,b,c,e,f){if(a==null)return;if(!a.startsWith("blob:"))return;var g={contents:function(){}};g.contents=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(c.table("attachments")),{hd:e,tl:0}),function(c,d){switch(d.TAG){case 1:c=d._0;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;if(d!=null&&!d.startsWith("blob:")){g.contents();URL.revokeObjectURL(a);return}else return;case 0:case 2:return}})}function a(a,e,f,g){var l=c("useReStore")(),m=d("MWPActor.react").useActor(),n=h(d("MWPReplyContext.bs").context),o=n.clearReply,p=n.reply,q=d("LSMessagingInitiatingSourceHook.bs").useHook(),r=d("MAWDualSendPermissionsManager.bs").useIsThreadEligible(a.threadKey,a.threadType),s=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(40),a),t=a.threadSubtype;n={thread_type:d("I64").to_string(a.threadType),thread_id:d("I64").to_string(a.threadKey),isSecure:(!1).toString(),isCutover:(!1).toString(),thread_subtype:t&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(t)?d("I64").to_string(t):""};var u=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,n),v=c("useCometInteractionTracing")(c("qpl")._(25313175,"1551"),"fast","INTERACTION",void 0,n),w=d("MWLSDefaultThreadSource").useHook();return d("Int64Hooks").useMemoInt64(function(){return function(h,n,x,y,z,A,B,C,D,E,F){var G=d("LSMessagingThreadTypeUtil").isMessageRequest(a);return u(function(u){v(function(v){var H=function(a){[u,v].forEach(function(b){a(b,b===v)})};H(function(b){b.addAnnotationInt("is_pdb_enabled",c("gkx")("6543")?1:0),b.addAnnotation("original_entrypoint",c("MWGetOriginalEntrypoint")(a.threadKey)),b.addAnnotation("thread_subtype",t&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(t)?d("I64").to_string(t):"")});var I=w(a.threadKey),J={contents:!0},K=c("LSGenerateTraceId")(),L={contents:1},M=!1,N={initiatingSource:q,mwVersion:d("MWVersion.bs").v2,threadType:a.threadType,isDualSend:r,isMessageRequest:G},O=l.runInTransaction(function(e){var o=c("LSFactory")(e);return c("LSUpdateDraftMessage")(a.threadKey,"",o).then(function(){if(C==null)return d("ReQL.bs").toArray(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(e.table("media_staging")),function(b){if(b.isSent)return!1;else return d("I64").equal(b.threadKey,a.threadKey)})).then(function(k){M=k.length>0;var r=n!=null?d("LSShape").ofRecord({mention_ids:n.map(function(a){return a.id}).join(","),mention_lengths:n.map(function(a){return String(a.length)}).join(","),mention_offsets:n.map(function(a){return String(a.offset)}).join(","),mention_types:n.length!==0?n.map(function(a){return a.type}).join(","):void 0}):void 0,t=h!=null?d("ReStoreVaulting").maybeUnvault(h).trim()!=="":!1,u=x!=null?(L.contents=4,!0):!1,v=A!=null?(L.contents=6,!0):!1,w=c("gkx")("4296"),G=w&&h!=null?c("URLMatcher").multiMatchToPattern(h,d("MWLinkRegex").getLinkRegex()).length>0&&c("URLMatcher").multiMatchToPattern(h,d("MWLinkRegex").getEmailRegex()).length===0:void 0,O=y!=null,P=C!=null,Q=k.length>0?k[0].mimeType.indexOf("image")>-1:!1,R=k.length>0&&!Q,S=p!=null,T=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();H(function(a){return d("MWSharedMsgLogUtils").logMessageDefaults(a,{hasEmoji:O,hasGif:v,hasImage:Q,hasReply:S,hasSticker:u,hasText:t,hasVoiceClip:P,hasFile:R,useSharedWorker:T})});H(function(a){return a.addMarkerPoint("before_create_optimistic_message","AppTiming")});w=t||u||v?j(e,d("I64").to_string(a.threadKey),K).then(function(){return c("LSOptimisticSendMessage")(m,a.threadKey,a.threadType,d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),h,void 0,void 0,x,y,A,z,I,void 0,D,p==null?void 0:p.messageId,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,void 0,void 0,r,d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),!1,B,q,K,g,G,o)}).then(function(a){H(function(a){return a.addMarkerPoint("create_optimistic_message_success","AppTiming")});M||H(function(b,c){var e=a[0];d("MWLSLogSend.bs").logSentHeroInteraction(b,c?d("MWChatInteraction.bs").s2sKey(e):e,N)});f!=null&&f({offlineThreadingId:a[0],isText:t,isSticker:u,isGIF:v,hasMention:n&&n.length>0,isReply:!!(p&&p.messageId!==""),TAG:0});return b("Promise").resolve(a)}):b("Promise").resolve();var U=function(a){return a.then(function(a){if(E==null)return b("Promise").resolve();if(a!=null){a=a[0];E(a);return b("Promise").resolve(a)}E();return b("Promise").resolve()})};if(k.length===0)return U(w).then(function(c){d("MWPSendMessageLogger.bs").log(l,a.threadKey,a.threadType,m,c,[],I,L.contents,p!=null);return b("Promise").resolve()});var V=k[0];L.contents=d("MessagingLoggingUtils").convertI64ToAttachmentType(V.attachmentType);return U(w).then(function(g){return d("MWPComposerMediaUploadUtil.bs").createPartitionedAttachments(k,s).reduce(function(h,n,r){return h.then(function(){var h=c("LSGenerateTraceId")();return c("LSLocalApplyOptimisticMessageWithAttachments")(m,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,p==null?void 0:p.messageId,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,void 0,c("LSVec").make(n.map(d("LSShape").ofRecord)),void 0,o).then(function(c){var g=c[0];r===0&&H(function(a,b){d("MWLSLogSend.bs").logSentHeroInteraction(a,b?d("MWChatInteraction.bs").s2sKey(g):g,N)});return e.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:q,markThreadRead:!1,messageId:void 0,offlineThreadingId:g,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:d("I64").of_string(g),threadAttributionSource:I,threadKey:a.threadKey}).then(function(){f!==void 0&&f({offlineThreadingId:g,numberOfAttachments:n.length,TAG:2});return b("Promise").resolve(g)})}).then(function(a){return i(e,h,d("I64").of_int32(n.length),L.contents).then(function(){return[a,h]})}).then(function(f){var h=f[1],i=f[0];return b("Promise").all(n.map(function(b,f){return c("LSInsertNewMediaSend")(b.attachment_fbid,i,d("I64").of_int32(f),b.attachment_type,!1,!1,!1,!1,o).then(function(){var f=k.find(function(a){return a.offlineAttachmentId===b.offline_attachment_id});if(f!=null){var g=f.fbid;if(g!=null)return c("LSMarkSubJobCompletedV2")(b.attachment_fbid,g,void 0,void 0,void 0,o).then(function(){return d("MWPOpenComposerUtils.bs").deleteMediaStaging(e,b.attachment_fbid)}).then(function(){return d("MWPOpenComposerUtils.bs").updateAttachment(e,a.threadKey,i,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0,attachmentFbid:d("I64").to_string(g)})})})}J.contents=!1;return d("MWPOpenComposerUtils.bs").updateMediaStaging(e,b.attachment_fbid,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:!0,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:a.progress,threadKey:a.threadKey}}).then(function(){return d("MWPOpenComposerUtils.bs").updateAttachment(e,a.threadKey,i,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})})})})})).then(function(){d("MWPSendMessageLogger.bs").log(l,a.threadKey,a.threadType,m,g,n.map(function(a){return a.attachment_fbid}),I,L.contents,p!=null);return d("MWPOpenComposerUtils.bs").resumeSendJob(o,i,h)})}).then(function(){return j(e,d("I64").to_string(a.threadKey),h)}).then(function(){return d("LSFlushDataTrace.bs").updateAndFlushTrace(e,h)})})},b("Promise").resolve()).then(function(){var e=d("I64").to_string(a.threadKey);e=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?[e,null]:[null,e];var f=e[0],g=e[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:J.contents?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:g,thread_fbid:f}});return b("Promise").resolve()})})});var r=d("OfflineThreadingId").createOfflineThreadingID(),t=d("MWPComposerMediaUploadUtil.bs").getAudioAttachment(r,C.file,C.duration);return i(e,K,d("I64").one,2).then(function(){return c("LSLocalApplyOptimisticMessageWithAttachments")(m,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,p==null?void 0:p.messageId,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,void 0,c("LSVec").make([d("LSShape").ofRecord(t)]),void 0,o)}).then(function(c){var h=c[0];H(function(a,b){d("MWLSLogSend.bs").logSentHeroInteraction(a,b?d("MWChatInteraction.bs").s2sKey(h):h,N)});return e.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:q,markThreadRead:!1,messageId:void 0,offlineThreadingId:h,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:g,taskId:d("I64").of_string(h),threadAttributionSource:I,threadKey:a.threadKey}).then(function(){f!=null&&f({offlineThreadingId:h,TAG:1});return b("Promise").resolve(h)})}).then(function(e){var a=t.attachment_fbid;return c("LSInsertNewMediaSend")(a,e,d("I64").zero,t.attachment_type,!1,!1,!1,!1,o).then(function(){return b("Promise").resolve([e,a])})}).then(function(e){var f=e[1],g=e[0];e=function(e,h){l.runInTransaction(function(e){var i=c("LSFactory")(e);return c("LSMarkSubJobCompletedV2")(f,d("I64").of_float(h),void 0,void 0,void 0,i).then(function(){return d("MWPOpenComposerUtils.bs").resumeSendJob(i,g,K)}).then(function(){k(t.playable_url,h,l,a.threadKey);return b("Promise").resolve()})},"readwrite");return d("MWPSendMessageLogger.bs").log(l,a.threadKey,a.threadType,m,g,[d("I64").to_string(d("I64").of_float(h))],I,d("MessagingLoggingUtils").convertI64ToAttachmentType(t.attachment_type),p!=null)};d("MWPComposerMediaUploadUtil.bs").startUpload(void 0,e,void 0,!0,[C.file],[f]);return b("Promise").resolve()})})},"readwrite","ui").then(function(){e();o(a.threadKey,!1);d("MAWOptimisticUpdateContactRelationship.bs").call(a,l,m);G&&d("MessageRequestsLog.bs").logActionConfirmed(a,d("I64").to_int32(d("LSIntEnum").ofNumber(1)));return b("Promise").resolve()});c("promiseDone")(O)})})}},[a.threadKey,p,o,e,a.authorityLevel,q,u,g])}e=a;g.useOnSendOpenMessage=e}),98);
__d("MWPOpenTypingState.bs",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicator","MWPActor.react","MessengerWebUXLogger","Promise","ReQL.bs","ReQLSuspense","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e,f,g){if(d("I64").equal(f,d("LSIntEnum").ofNumber(1))&&!d("I64").equal(e,g))return d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:e,tl:0}),function(a){return!d("I64").equal(a.contactId,g)}),function(b){b=d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:b.contactId,tl:0}));return b!=null?d("I64").equal(b.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1})).then(function(a){return b("Promise").resolve((a=a)!=null?a:!1)});else return b("Promise").resolve(!0)}function a(a){var e=c("useReStore")(),f=d("MWPActor.react").useActor(),g=d("MessengerWebUXLogger")==null?void 0:d("MessengerWebUXLogger").useInteractionLogger();return d("Int64Hooks").useCallbackInt64(function(i){if(!d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;var j=h(e,a.threadKey,a.threadType,f).then(function(f){if(f){g==null?void 0:g({eventName:"send_typing_indicators",threadKey:a.threadKey,threadType:a.threadType});return e.runInTransaction(function(b){return c("LSSendTypingIndicator")(a.threadKey,d("LSMessagingThreadTypeUtil").isGroup(a.threadType),i,c("LSFactory")(b))},"readwrite")}else return b("Promise").resolve()});c("promiseDone")(j)},[a.authorityLevel,a.threadKey,a.threadType,e,f,g])}e=a;g.useOnTypingStateChanged=e}),98);
__d("useMWOnTypingStateChanged",["JSScheduler","MWChatViewerChatVisibilityHook","MWPOpenTypingState.bs","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i=function(a){return void 0};function a(a){var b=d("MWPOpenTypingState.bs").useOnTypingStateChanged(a),e=c("MWChatViewerChatVisibilityHook")();return h(function(){return e?c("gkx")("8385")?function(a){c("JSScheduler").scheduleLoggingPriCallback(function(){return b(a)})}:b:i},[b,e])}g["default"]=a}),98);
__d("MWV2OpenComposer.bs",["MWMediaManager.bs","MWPComposerEditor.bs","MWPReplyContext.bs","MWV2ComposerReplyView.react","MWV2ComposerView.react","MWV2FileDropzone.react","MWV2SendOpenMessage.bs","WebUXLoggingSurfaceContextProvider","emptyFunction","react","useMWOnTypingStateChanged"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.forwardRef;var i=b.useContext,j=b.useImperativeHandle,k=e(function(a,b){var e=a.canSendAudioClip,f=a.canSendFile,g=a.canSendGif,k=a.canSendSticker,l=a.thread,m=a.isPreviewThread,n=a.afterSendMessage;a=a.onSendEmptyMessage;var o=i(d("MWPReplyContext.bs").context);o=o.reply;var p=d("MWMediaManager.bs").useMediaManager(l),q=p.mediaStaging,r=p.handleFileRemove,s=p.handleFileSelect,t=d("MWV2SendOpenMessage.bs").useOnSendOpenMessage(l,n,void 0,!1);p=c("useMWOnTypingStateChanged")(l);j(b,function(){return s},[s]);return h.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"open_composer",children:h.jsxs("div",{children:[o!=null?h.jsx(d("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:o.messageId,messageTimestamp:o.timestampMs,thread:l}):null,h.jsx(d("MWPComposerEditor.bs").MWPComposerEditor,{isPreviewThread:m,mediaStaging:q,onSendEmptyMessage:a,onSendMessage:t,onTypingStateChanged:p,policyProduct:"messaging_lightswitch",surface:"mwp_mwv2_composer",thread:l,children:function(a,b,c,i,j,m){return h.jsx(d("MWV2ComposerView.react").MWV2ComposerView,{canSendAudioClip:e,canSendFile:f,canSendGif:g,canSendSticker:k,editor:a,editorElementRef:j,hasStuffToSend:i,mediaStaging:q,onAttachmentRemoved:r,onAttachmentsAdded:s,onSendMessage:t,policyProduct:c,sendMessage:m,supportedFileTypes:void 0,surface:b,thread:l})}})]})})});f={make:k};function a(a){var b,e,f,g,j;b=(b=a.canSendAudioClip)!=null?b:!0;e=(e=a.canSendFile)!=null?e:!0;f=(f=a.canSendGif)!=null?f:!0;g=(g=a.canSendSticker)!=null?g:!0;var l=a.isPreviewThread,m=a.thread;j=(j=a.afterSendMessage)!=null?j:c("emptyFunction");a=(a=a.onSendEmptyMessage)!=null?a:c("emptyFunction");var n=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);return h.jsx(k,{afterSendMessage:j,canSendAudioClip:b,canSendFile:e,canSendGif:f,canSendSticker:g,isPreviewThread:l,onSendEmptyMessage:a,ref:n,thread:m})}b=a;e=f;a=b;g.Inner=e;g.make=a}),98);
__d("useMWCutoverComposerConfiguration",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover.bs","MWBlockedComposerLogging","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a.threadKey):d("ReQL").empty()},[b,a],f.id+":35"),g=d("MAWThreadCutover.bs").useIsCutoverOpenThread(a.threadKey)||d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(128),a);if(g&&(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)||e!=null))return h.jsx(i,{reason:e!=null?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_THREAD_ALREADY_CUTOVER:d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_GROUP_THREAD_CUTOVER,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSContactReachabilityStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2});f["default"]=a}),66);
__d("MWPComposerPlaceholder.react",["CometPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=a.height;return h.jsx("div",{className:"xzg4506",style:{height:a.toString()+"px"}})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=a.children;a=a.height;return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(i,{height:a}),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MwbActorExperienceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3231");b=d("FalcoLoggerInternal").create("mwb_actor_experience_event",a);e=b;g["default"]=e}),98);
__d("useMWPBlockedComposerConfiguration",["fbt","I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWLSThreadReportingToken.bs","MWPActor.react","MWPComposerPlaceholder.react","MwbActorExperienceEventFalcoEvent","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPBlockedComposer.react").__setRef("useMWPBlockedComposerConfiguration"));function l(a){var b=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),c=d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType);a=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";return a?b?"messenger_encrypted_group_thread":"messenger_group_thread_details":"unknown"}function m(a){if(a==null)return c("LSContactReachabilityStatusType").REACHABLE;a=a.contactReachabilityStatusType;return a==null?c("LSContactReachabilityStatusType").REACHABLE:d("LSIntEnum").toNumber(a)}function n(a){switch(a){case c("LSContactReachabilityStatusType").UNREACHABLE_USER_TYPE:return 12;case c("LSContactReachabilityStatusType").UNREACHABLE_ADULT_TYPE:return 21;default:return 0}}function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("I64").equal(e,a.threadKey),o=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return g||!d("I64").equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,g],f.id+":95"),p=m(o),q=l(a),r=d("I64").to_string(a.threadKey);j(function(){p!==c("LSContactReachabilityStatusType").REACHABLE&&c("MwbActorExperienceEventFalcoEvent").log(function(){return{action:1,restriction_type:n(p),surface:q,thread_id:r}})},[r,p,q]);if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&o!=null){var s=d("MWLSThreadReportingToken.bs").fromThread(a),t=!d("I64").equal(o.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(p!==c("LSContactReachabilityStatusType").REACHABLE){var u=h._("__JHASH__fhugwjm3lRF__JHASH__");return i.jsx(c("MWPComposerPlaceholder.react"),{height:35,children:i.jsx(k,{fbid:d("I64").to_string(o.id),isReachable:!1,reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_UNREACHABLE,reportingToken:void 0,thread:a,unreachableTitle:u})})}if(t)return i.jsx(c("MWPComposerPlaceholder.react"),{height:189,children:i.jsx(k,{fbid:d("I64").to_string(o.id),reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED,reportingToken:s,thread:a})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPBusinessSupportCaseClosedComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPBusinessSupportCaseClosedComposer.react").__setRef("useMWPBusinessSupportCaseClosedComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isBusinessSupportThread(a)?d("ReQL").fromTableAscending(b.table("business_support_case_details")).getKeyRange(a.threadKey):d("ReQL").empty()},[b,a],f.id+":34");e=(e==null?void 0:e.status)==="Completed";if(e)return h.jsx(i,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2DisabledPageComposerSendMenuItem",["LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingSource","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","MWPActor.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=d("LSMessagingSource").useHook();return h(function(f,g,h){c("promiseDone")(a.runInTransaction(function(a){var i=d("LSThreadAttributionTypeUtil.bs").getSource(f,e);return c("LSOptimisticSendMessage")(b,f,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),g,g,!1,void 0,void 0,void 0,void 0,i,void 0,h,void 0,d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,void 0,void 0,c("LSFactory")(a))},"readwrite"))},[a,e,b])}g["default"]=a}),98);
__d("MWV2DisabledPageComposer.react",["fbt","ix","CometLazyPopoverTrigger.react","I64","JSResourceForInteraction","MWBlockedComposerLogging","TetraButton.react","fbicon","react","useMWV2DisabledPageComposerSendMenuItem"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.react");function a(a){a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,d("MWBlockedComposerLogging").ComposerBlockingReason.PAGE_THREAD_DISABLED);var b=c("useMWV2DisabledPageComposerSendMenuItem")(),e=a.threadKey,f=function(a){var c=a.title;a=a.id;if(a!=null)return b(e,c,a)};return j.jsx(c("CometLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:function(){},onSelect:f,pageId:d("I64").to_string(a.threadKey)},popoverResource:k,children:function(a,b){return j.jsx("div",{className:"x78zum5 xu06os2 xvijh9v xz9dl7a xn6708d xsag5q8 x1ye3gou",ref:a,children:j.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("512876"),16),label:h._("__JHASH__pzPWkkyVYqg__JHASH__"),onPress:b,reduceEmphasis:!0})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPDisablePageComposerConfiguration",["MWV2DisabledPageComposer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){if(a.disableComposerInput&&a.hasPersistentMenu)return h.jsx(c("MWV2DisabledPageComposer.react"),{thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPFeatureLimitsBlockedComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MAWGating","MWLSFeatureLimitedStatus.bs","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPFeatureLimitsBlockedComposer.react").__setRef("useMWPFeatureLimitsBlockedComposerConfiguration"));function a(a){var b=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);b=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!b||d("MAWGating").isFeatureLimitEnabled());if(b)return h.jsx(i,{thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPNullComposerConfiguration",["I64","LSIntEnum","LSNullstateCTAType","LSThreadBitOffset","MWBlockedComposerLogging","MWPreloadedText","ReQL","ReQLSuspense","justknobx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function j(a){var b=a.reason;a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,b);return null}a=function(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("thread_nullstate")).getKeyRange(a.threadKey)},[b,a.threadKey],f.id+":47"),g=i(c("MWPreloadedText"));e=e!=null&&d("I64").equal(e.ctaType,d("I64").of_float(c("LSNullstateCTAType").GET_STARTED))&&!g.text;g=!d("I64").equal(a.lastActivityTimestampMs,d("I64").zero);var k=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(44),a),l=c("justknobx")._("926");if(e&&!g||!l&&k)return h.jsx(j,{reason:k?d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GAME_BOT:d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GET_STARTED_CTA,thread:a})};g["default"]=a}),98);
__d("useMWPRestrictedComposerConfiguration",["I64","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","MWPComposerPlaceholder.react","ReQL","ReQLSuspense","lazyLoadComponent","qex","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPRestrictedComposer.react").__setRef("useMWPRestrictedComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("I64").equal(e,a.threadKey),j=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return g||!d("I64").equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,g],f.id+":40");if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&j!=null){var k;k=c("qex")._("1019")===!0&&((k=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),j))!=null?k:!1);if(k)return h.jsx(c("MWPComposerPlaceholder.react"),{height:128,children:h.jsx(i,{fbid:d("I64").to_string(j.id),thread:a,threadKey:a.threadKey})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPUnavailableComposerConfiguration",["I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWChatUnavailableComposer.bs","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("I64").equal(e,a.threadKey),i=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return g||!d("I64").equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,g],f.id+":34");if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&i!=null){var j,k;j=(j=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(0),i))!=null?j:!0;k=(k=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(1),i))!=null?k:!0;var l=d("I64").equal(i.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE));l=!l&&(!j||!k);if(i.blockedSinceTimestampMs==null&&l)return h.jsx(c("MWChatUnavailableComposer.bs"),{reason:j?d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_REPLY:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_MESSAGE,thread:a})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerGating.react",["LSMessagingThreadTypeUtil","MAWDualSendPermissionsManager.bs","MWPComposerGating.react","MWV2OpenComposer.bs","cr:1601","cr:1797","cr:6437","emptyFunction","gkx","react","useMWCutoverComposerConfiguration","useMWPBlockedComposerConfiguration","useMWPBusinessSupportCaseClosedComposerConfiguration","useMWPDisablePageComposerConfiguration","useMWPFeatureLimitsBlockedComposerConfiguration","useMWPNullComposerConfiguration","useMWPRestrictedComposerConfiguration","useMWPUnavailableComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").memo,k=(h=b("cr:1601"))!=null?h:b("cr:1797");function l(a){return[c("useMWPNullComposerConfiguration")(a),c("useMWPDisablePageComposerConfiguration")(a),c("useMWPFeatureLimitsBlockedComposerConfiguration")(a),c("useMWCutoverComposerConfiguration")(a),c("useMWPBlockedComposerConfiguration")(a),c("useMWPRestrictedComposerConfiguration")(a),c("useMWPUnavailableComposerConfiguration")(a),c("useMWPBusinessSupportCaseClosedComposerConfiguration")(a)]}function a(a){var e=a.afterSendMessage,f=a.isPreviewThread,g=a.onSendEmptyMessage;g=g===void 0?c("emptyFunction"):g;a=a.thread;var h=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),j=d("MAWDualSendPermissionsManager.bs").useIsThreadEligible(a.threadKey,a.threadType);if(b("cr:6437")!=null&&h)return i.jsx(b("cr:6437"),{afterSendMessage:e,isPreviewThread:f,onSendEmptyMessage:g,thread:a});else if(k!=null&&j)return i.jsx(k,{afterSendMessage:e,isPreviewThread:f,onSendEmptyMessage:g,thread:a});else return i.jsx(d("MWV2OpenComposer.bs").make,{afterSendMessage:e,isPreviewThread:f,onSendEmptyMessage:g,thread:a})}var m=c("gkx")("473")?j(a):a;function e(a){var b=a.afterSendMessage,d=a.isPreviewThread,e=a.onSendEmptyMessage,f=a.thread;a=l(f);return i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!1,renderComposer:function(){return i.jsx(m,{afterSendMessage:b,isPreviewThread:d,onSendEmptyMessage:e,thread:f})},thread:f})}e.displayName=e.name+" [from "+f.id+"]";function n(a){var b=a.afterSendMessage,d=a.isPreviewThread,e=a.onSendEmptyMessage,f=a.thread;a=l(f);return i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!0,renderComposer:function(){return i.jsx(m,{afterSendMessage:b,isPreviewThread:d,onSendEmptyMessage:e,thread:f})},thread:f})}n.displayName=n.name+" [from "+f.id+"]";g.MWChatComposerGating=e;g.MWInboxComposerGating=n}),98);
__d("MWV2ChatTabComposer.bs",["I64","Int64Hooks","LSAddMessengerContact","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","MWChatStateActions.bs","MWChatStateV2.bs","MWComposerGating.react","MWPActor.react","ReQL","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useRef;function a(a){var b=a.afterSendMessage,e=a.isPreviewThread,f=a.secureThreadToggle,g=f===void 0?!1:f,k=a.tab,l=a.thread,m=c("useReStore")(),n=d("MWChatStateV2.bs").useDispatch(),o=j(),p=k.tabType.TAG===0?l.clientThreadKey:k.tabType._0.clientThreadKey,q=d("MWPActor.react").useActor(),r=i(function(){var a=k.tabType;if(a.TAG===0)return n(d("MWChatStateActions.bs").lockInTab(Date.now(),k.tabId,{clientThreadKey:l.clientThreadKey,threadKey:l.threadKey,threadType:l.threadType}))},[n,k,l]);f=i(function(){if(!d("LSMessagingThreadTypeUtil").isGroup(l.threadType))return r()},[r,l]);a=d("Int64Hooks").useCallbackInt64(function(){b==null?void 0:b();r();p!=null&&!d("I64").equal(l.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&(o.current=d("ReQL").fromTableAscending(m.table("threads").index("clientThreadKey")).getKeyRange(p).subscribe(function(a,b){if(b.operation==="delete")return;a=b.value;if(d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){o.current==null?void 0:o.current();return n(d("MWChatStateActions.bs").updateThreadKeyDescriptor(k.tabId,a.threadKey,a.clientThreadKey))}}));if((d("LSMessagingThreadTypeUtil").isSecure(l.threadType)||g)&&d("LSMessagingThreadTypeUtil").isOneToOne(l.threadType)){c("promiseDone")(m.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(m.table("participants")).getKeyRange(l.threadKey).map(function(a){return a.contactId}).filter(function(a){return!d("I64").equal(a,q)})).then(function(b){if(b!=null)return c("LSAddMessengerContact")(b,c("LSFactory")(a))})},"readwrite"));return}},[b,r,p,l.authorityLevel,l.threadType,l.threadKey,g,m,n,k.tabId,q]);return h.jsx(d("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:a,isPreviewThread:e,onSendEmptyMessage:f,thread:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatTab.react",["CometErrorBoundary.react","CometTransientDialogProvider.react","I64","Int64Hooks","InteractionTracingMetrics","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJID","MAWInThreadBannerNuxReqCondWrapper.bs","MAWThreadCutover.bs","MWChatConnectionStatusCard.react","MWChatEncryptedBackupsUpsellWrapper.react","MWChatInteraction.bs","MWChatStateV2.bs","MWChatTabInThreadBanner.react","MWOpenAndSecureThreadView.react","MWPNewMessageAnnouncementForScreenReaders.bs","MWPThreadIsPage.react","MWPThreadTheme.bs","MWPVisibleMessageContext.bs","MWThreadKey.bs","MWV2ChatTabComposer.bs","MWV2ChatTabHeader.react","MWV2ChatTabLoading.react","MWV2ComposerHasContentContext.bs","MWV2EnsureThatChatTabExists.bs","MWV2ErrorComposer.bs","MWV2FileDropzone.react","MWV2TabContainer","ReQL","ReQLSuspense","cr:1113","emptyFunction","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.memo,j=e.useRef,k=(e=b("cr:1113"))!=null?e:c("emptyFunction");function l(a){var b=a.tab;a=a.thread;var e=a.themeFbid,f=a.threadKey,g=a.threadType;k({threadKey:f,threadType:g});var i=!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),a);g=d("LSMessagingThreadTypeUtil").isSecure(g);var l=j({jumpToMostRecentMessage:c("emptyFunction")}),m=d("MWChatStateV2.bs").useChatState(function(a){return a.focusedTabId});m=m.focusedTabId;m=h.jsxs(h.Fragment,{children:[b.tabId!==m?null:h.jsx(d("MWPNewMessageAnnouncementForScreenReaders.bs").make,{thread:a}),g?h.jsx(c("MAWInThreadBannerNuxReqCondWrapper.bs"),{thread:a}):null,h.jsx(c("MWChatConnectionStatusCard.react"),{}),h.jsx(c("MWChatTabInThreadBanner.react"),{thread:a}),h.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:i,thread:a,children:[h.jsx(c("MWOpenAndSecureThreadView.react"),{entryPoint:"popup_chat_box",messageListRef:l,thread:a}),h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return h.jsx(c("MWV2ErrorComposer.bs"),{})},children:h.jsx(c("MWV2ChatTabComposer.bs"),{afterSendMessage:function(){var a;(a=l.current)==null?void 0:a.jumpToMostRecentMessage()},isPreviewThread:!1,tab:b,thread:a})})]})]});return h.jsx(d("MWPThreadTheme.bs").make,{themeFbid:e,children:h.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:f,children:h.jsx(d("MWThreadKey.bs").make,{id:f,children:h.jsx(d("MWPVisibleMessageContext.bs").MWPVisibleMessageContextProvider,{children:h.jsx(c("CometTransientDialogProvider.react"),{children:h.jsx(d("MWV2ComposerHasContentContext.bs").MWV2ComposerHasContentContextProvider,{children:h.jsxs(c("MWV2TabContainer"),{tab:b,thread:a,children:[h.jsx(c("MWV2ChatTabHeader.react"),{tab:b,thread:a}),g?h.jsx(c("MWChatEncryptedBackupsUpsellWrapper.react"),{children:m}):m]})})})})})})})}l.displayName=l.name+" [from "+f.id+"]";var m=function(a,b){var e=(d("MAWThreadCutover.bs").useIsCutoverOpenThread(a)||b!=null&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(128),b))&&c("gkx")("7595");b=d("MAWThreadCutover.bs").useGetCutoverSecureThreadKey(d("I64").to_string(a));var g=c("gkx")("7595")?b:null,h=c("useReStore")();d("Int64Hooks").useEffectInt64(function(){if(!e)return;if(g==null)c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(h,function(b){return c("LSThreadPointQueryAndRestoreMessagesWithJID")(a,c("LSFactory")(b))},"readwrite"));else{var b=d("MWChatInteraction.bs").get(d("I64").to_string(a));b!=null&&(d("MWChatInteraction.bs").set(g,b),c("InteractionTracingMetrics").addMetadata(b,"thread_id",g),c("InteractionTracingMetrics").addMetadata(b,"thread_type",15..toString()),c("InteractionTracingMetrics").addMetadata(b,"isSecure","true"),c("InteractionTracingMetrics").addMetadata(b,"redirectedFromPreCutover",1))}},[g,h,e,a]);b=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(h.table("threads")).getKeyRange(d("I64").of_string(g)):d("ReQL").empty()},[h,g],f.id+":219");return[e&&b==null,b]};function a(a){var b=a.tab;a=a.threadKeyDescriptor;var e=c("useReStore")(),g=a.threadKey,i=a.clientThreadKey;d("MWV2EnsureThatChatTabExists.bs").useHook(g,a.threadType);a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(g)},[e,g],f.id+":248");var j=d("ReQLSuspense").useFirst(function(){return i!=null?d("ReQL").fromTableAscending(e.table("threads").index("clientThreadKey")).getKeyRange(i):d("ReQL").empty()},[e,i],f.id+":252"),k=m(g,a),n=k[0];k=k[1];if(n)return h.jsx(c("MWV2ChatTabLoading.react"),{tab:b});n=(k=(n=k)!=null?n:a)!=null?k:j;return n!=null?h.jsx(l,{tab:b,thread:n}):null}a.displayName=a.name+" [from "+f.id+"]";b=c("gkx")("473")?i(a):a;g["default"]=b}),98);
__d("FDSContextBannerQuickActionsIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("497885"),20);b={icon:a};c=d("fbicon")._(h("477826"),20);e={icon:c};f=d("fbicon")._(h("485091"),20);a={icon:f};c=d("fbicon")._(h("481761"),20);f={icon:c};c=d("fbicon")._(h("484396"),20);d={icon:c};g.AddPeople=b;g.EditName=e;g.Members=a;g.Link=f;g.Share=d}),98);
__d("MWCopyLinkPublicChatQuickAction.react",["fbt","MDSCircleButton.react","MWContextBannerQuickActionsIcons.bs","MWPBumpEntityKey","MWVerticalRhythm","MWXText.react","cometPushToast","react","useCopyText"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=h._("__JHASH__6ygymPD56Yw__JHASH__"),l=h._("__JHASH__NNt0oNKP6tq__JHASH__");function a(a){a=a.threadInviteLink;a=c("useCopyText")({value:a});a[0];a[1];var b=a[2];a=j(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),b(),d("cometPushToast").cometPushSimpleToast(l)},[b]);return i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").Link.icon,label:k,onPress:a,size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:k})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSharePublicChatQuickAction.react",["fbt","MDSCircleButton.react","MWChannelInviteDialog.entrypoint","MWContextBannerQuickActionsIcons.bs","MWVerticalRhythm","MWXText.react","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__zzzD0_ypABg__JHASH__");function a(a){var b=a.thread;a=c("useCometEntryPointDialog")(c("MWChannelInviteDialog.entrypoint"),{});var e=a[0];return i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").Share.icon,label:j,onPress:function(){e({channelThread:b})},size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:j})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContextBannerQuickActions.react",["fbt","CommunityMessagingEnableState","I64","JSResourceForInteraction","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MDSCircleButton.react","MWAddMemberToGroupCircleButton.react","MWCMBulkInviteDialog.entrypoint","MWCMEditChatInfoDialogTrigger.react","MWCMIsAnyCMThread","MWCMLinkShare.react","MWCMThreadTypes.react","MWContextBannerQuickActionsIcons.bs","MWCopyLinkPublicChatQuickAction.react","MWEditChannelDialogTrigger.react","MWEditThreadNameDialogTrigger.bs","MWGroupLimitContainer.bs","MWInboxInfoMembersSection.react","MWInboxInfoQuickActionIcons","MWInboxPersistedUIState","MWPBumpEntityKey","MWSharePublicChatQuickAction.react","MWVerticalRhythm","MWXText.react","emptyFunction","justknobx","promiseDone","react","useCometEntryPointDialog","useCometLazyDialog","useCommunityFolder","useCommunityMembers"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useMemo,k=b.useRef,l=h._("__JHASH__4Z6iwQf0KqP__JHASH__"),m=h._("__JHASH__a3y4zGfm_2Z__JHASH__");function a(a){var b=a.thread;a=k(null);var e=c("useCommunityFolder")(b),f=c("MWCMIsAnyCMThread")(b.threadType),g=d("MWCMThreadTypes.react").isBroadcastThread(b.threadType),n=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(b.threadType),o=d("useCommunityMembers").useClearMemberList(),p=j(function(){if(e!=null&&f)return[e.enableState,d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(120),b),d("LSCommunityBitOffset").has(d("LSIntEnum").ofNumber(17),e),e.fbGroupId];else return[void 0,!1,!1,d("I64").zero]},[f,e,b]),q=p[0],r=p[1];p=p[2];q=f&&d("I64").equal((q=q)!=null?q:d("LSIntEnum").ofNumber(c("CommunityMessagingEnableState").ENABLED),d("LSIntEnum").ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));var s=d("MWInboxPersistedUIState").usePersistedUIState(!1,d("MWInboxInfoMembersSection.react").storageKey),t=s[0];s=c("useCometEntryPointDialog")(c("MWCMBulkInviteDialog.entrypoint"),{});var u=s[0];s=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react").__setRef("MWContextBannerQuickActions.react"));var v=s[0];s=j(function(){return[f?h._("__JHASH__6ygymPD56Yw__JHASH__"):h._("__JHASH__5q5wieIjbh7__JHASH__"),f?h._("__JHASH__um66LGyp2bC__JHASH__"):h._("__JHASH___jI2RJo8mJV__JHASH__"),e!=null&&g?h._("__JHASH__1cAdDa3Rt1T__JHASH__"):h._("__JHASH__1Av2Yy1o2_Y__JHASH__")]},[g,f,e]);var w=s[0],x=s[1];s=s[2];var y=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(60),b),z=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(81),b),A=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(27),b),B=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(26),b),C=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(108),b),D=y&&z&&c("justknobx")._("1115");return i.jsxs("ul",{className:"x6s0dn4 x78zum5 xl56j7k xsag5q8 x1y1aw1k",children:[f&&!q?r?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:c("MWInboxInfoQuickActionIcons").Invite,label:l,onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite");return u({fbThreadId:d("I64").to_string(b.threadKey),parentSurface:"thread_view",source:"invite_button",surface:"thread_view"},c("emptyFunction"))},size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:l})]}):i.jsx(d("MWCMLinkShare.react").MWCMLinkShare,{thread:b,children:function(a,b){return i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").Link.icon,label:w,onPress:b,size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:w})]})}}):null,!f&&n&&C&&d("I64").equal(b.threadInvitesEnabledV2,d("LSIntEnum").ofNumber(1))?i.jsxs(i.Fragment,{children:[b.threadInviteLink!=null&&i.jsx(c("MWSharePublicChatQuickAction.react"),{thread:b}),b.threadInviteLink!=null&&i.jsx(c("MWCopyLinkPublicChatQuickAction.react"),{threadInviteLink:b.threadInviteLink})]}):null,!f&&A?i.jsx(d("MWGroupLimitContainer.bs").make,{groupLimitReachedContent:null,thread:b,children:i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MWAddMemberToGroupCircleButton.react"),{label:w,thread:b}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:w})]})}):null,n&&D?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MWEditChannelDialogTrigger.react"),{thread:b,children:function(a,b){return i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").EditName.icon,label:m,onPress:function(){return a()},ref:b,size:36})}}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:m})]}):null,!f&&y&&!D?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(d("MWEditThreadNameDialogTrigger.bs").make,{thread:b,children:function(a,b){return i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").EditName.icon,label:x,onPress:function(){return a()},ref:b,size:36})}}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:x})]}):null,f&&z&&!q&&p?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MWCMEditChatInfoDialogTrigger.react"),{thread:b,children:function(a){return i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").EditName.icon,label:m,onPress:function(){return a()},size:36})}}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:m})]}):c("justknobx")._("1116")?null:B?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").Members.icon,label:s,onPress:function(){return v({folder:e},function(){f&&!t&&c("promiseDone")(o())})},ref:a,size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:s})]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSPinMessageIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M21.3905 21.9975C21.1611 21.9975 20.9611 22.1536 20.9054 22.3762L19.2424 29.0265C18.9197 30.319 17.0805 30.3185 16.7577 29.0265L15.0947 22.3762C15.039 22.1536 14.839 21.9975 14.6096 21.9975H10.1675C9.21767 21.9975 8.68955 20.933 9.19619 20.1815C9.61488 19.5605 10.7291 18.1525 12.7846 17.1415C13.0959 16.9885 13.2942 16.6755 13.3207 16.33C13.4196 15.046 13.6545 12.991 13.7564 11.669C13.7849 11.3 13.606 10.945 13.2912 10.751C12.1855 10.0695 11.526 9.2765 11.2157 8.837C10.6741 8.07 11.2122 7 12.163 7H23.8376C24.7879 7 25.3255 8.0705 24.7844 8.837C24.4741 9.2765 23.8141 10.0695 22.7089 10.751C22.3941 10.945 22.2158 11.3 22.2437 11.669C22.3457 12.991 22.5805 15.046 22.6794 16.33C22.7059 16.6755 22.9048 16.9885 23.216 17.1415C25.2711 18.1525 26.3853 19.5605 26.8039 20.1815C27.3101 20.933 26.783 21.9975 25.8327 21.9975H21.3905Z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUX.react",["fbt","MDSPinMessageIcon.react","MWLSThreadCapabilities.bs","MWPMessageListColumn.bs","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__UnoAJjMNsJN__JHASH__");function a(){var a=d("MWLSThreadCapabilities.bs").useCapabilities();a=d("MWLSThreadCapabilities.bs").canPinMessage(a);return a&&i.jsx(d("MWPMessageListColumn.bs").WithGutters,{shrinkwrap:!0,children:i.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np xr9ek0c",children:[i.jsx(c("MDSPinMessageIcon.react"),{color:"tertiary",size:16}),i.jsx("div",{className:"x12mruv9",children:i.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWSimpleNuxViewsCounter.react",["MWInboxPersistedUIState","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=3,j=24*60*60*1e3,k=function(a,b){return+new Date()<b+a},l=function(a){return k(j,a.lastViewDate)},m=function(a){return a.views>=i},n=function(a){return!!a&&!l(a)&&!m(a)},o=function(a){return{lastViewDate:+new Date(),views:a.views+1}},p={lastViewDate:0,views:0};function a(a,b,c){a=d("MWInboxPersistedUIState").usePersistedUIState(p,"__MWSimpleNux."+a+"__");var e=a[0],f=a[1];h(function(){if(!b)return;if(l(e))return;return function(){var a=o(e);m(a)?(f(void 0),c()):f(a)}},[b,c,e,f]);return n(e)}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapper.react",["MWPinnedMessageRowFooterNUX.react","declareNUXRequireable","react","useMWSimpleNuxViewsCounter.react","useSharedNUX"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useSharedNUX")(a),d=b[0];b=b[1].onDismiss;a=c("useMWSimpleNuxViewsCounter.react")(a,d,b);return d&&a?h.jsx(c("MWPinnedMessageRowFooterNUX.react"),{}):null}a.displayName=a.name+" [from "+f.id+"]";b=c("declareNUXRequireable")(a);g["default"]=b}),98);