;/*FB_PKG_DELIM*/

__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"add_messenger_contact",c.i64.cast([0,308]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueCommunityAdminModerationActionsFetch",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=new c.Map(),d[0].set("fb_group_id",a[0]),d[0].set("target_user_id",a[1]),d[0].set("source",a[2]),d[0].set("thread_id",a[3]),d[0].set("request_id",a[4]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[5]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[5],c.i64.cast([0,0]))):d[1]=c.i64.cast([0,0]),d[2]=d[0].get("fb_group_id"),d[0],d[3]=c.toJSON(d[0]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[2]),c.i64.cast([0,428]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[1]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticUpsertReaction",["LSCancelTaskByQueueName","LSDeleteReaction","LSIssueNewTask","LSUpsertReaction"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[19]=b.syncGroup,c.i64.neq(d[19],f)?d[18]=d[19]:d[18]=c.i64.cast([0,1]),d[0]=d[18])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("timestamp_ms",a[1]),d[2].set("message_id",a[2]),d[2].set("actor_id",a[3]),d[2].set("reaction",a[4]),d[2].set("reaction_style",f),d[2].set("sync_group",d[0]),d[3]=c.createArray(),d[4]=(d[3].push("reaction"),d[3]),d[5]=d[2].get("message_id"),d[2],d[6]=(d[3].push(d[5]),d[3]),d[7]=c.toJSON(d[3]),c.sp(b("LSCancelTaskByQueueName"),d[7],c.i64.cast([0,29]))},function(e){return a[4]===""?c.seq([function(d){return c.sp(b("LSDeleteReaction"),a[0],a[2],a[3])},function(a){return d[8]=f}]):c.seq([function(e){return a[4]==="\u2764\ufe0f"||a[4]==="\u2764\ufe0f"?d[18]="\u2764":d[18]=a[4],c.sp(b("LSUpsertReaction"),a[0],a[1],a[2],a[3],d[18],c.i64.cast([0,20]))},function(a){return d[8]=f}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([0,1]):(b=a.item,d[19]=b.syncGroup,c.i64.neq(d[19],f)?d[18]=d[19]:d[18]=c.i64.cast([0,1]),d[9]=d[18])})},function(e){return d[11]=new c.Map(),d[11].set("thread_key",a[0]),d[11].set("timestamp_ms",a[1]),d[11].set("message_id",a[2]),d[11].set("actor_id",a[3]),d[11].set("reaction",a[4]),d[11].set("reaction_style",f),d[11].set("sync_group",d[9]),d[12]=c.createArray(),d[13]=(d[12].push("reaction"),d[12]),d[14]=d[11].get("message_id"),d[11],d[15]=(d[12].push(d[14]),d[12]),d[16]=c.toJSON(d[12]),d[17]=c.toJSON(d[11]),c.sp(b("LSIssueNewTask"),d[16],c.i64.cast([0,29]),d[17],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticUpsertReactionV2",["LSCancelTaskByQueueName","LSDeleteReaction","LSIssueNewTaskWithExtraOperations","LSUpdateOrInsertReactionV2","LSUpsertReaction"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return c.i64.eq(a[8],c.i64.cast([0,2]))?(d[12]=new c.Map(),d[12].set("thread_id",a[1]),d[12].set("message_id",a[2]),d[12].set("message_timestamp",a[3]),d[12].set("actor_id",a[0]),d[12].set("reaction_fbid",a[4]),d[12].set("reaction_style",a[7]),d[12].set("operation",a[8]),d[12].set("viewer_is_reactor",a[6]),d[12].set("current_count",a[5]),d[12].set("reaction_literal",a[9]),d[13]=c.createArray(),d[14]=(d[13].push("reaction_v2"),d[13]),d[15]=d[12].get("message_id"),d[12],d[16]=(d[13].push(d[15]),d[13]),d[17]=c.toJSON(d[13]),c.sp(b("LSCancelTaskByQueueName"),d[17],c.i64.cast([0,604]))):c.resolve()},function(e){return[c.i64.cast([0,2]),c.i64.cast([0,3])].some(function(b){return c.i64.eq(a[8],b)})?d[0]=c.i64.add(a[5],c.i64.cast([-1,4294967295])):d[0]=c.i64.add(a[5],c.i64.cast([0,1])),[c.i64.cast([0,2]),c.i64.cast([0,3])].some(function(b){return c.i64.eq(a[8],b)})?d[1]=!1:d[1]=!0,d[2]=c.i64.of_float(Date.now()),c.sp(b("LSUpdateOrInsertReactionV2"),a[1],a[2],a[4],a[9],d[0],c.i64.cast([0,20]),d[1],c.i64.cast([0,0]),d[2])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[3]=f:(b=a.item,d[3]=b.threadType)})},function(e){return c.i64.neq(d[3],c.i64.cast([0,23]))?[c.i64.cast([0,2]),c.i64.cast([0,3])].some(function(b){return c.i64.eq(a[8],b)})?c.i64.eq(a[8],c.i64.cast([0,2]))?c.sp(b("LSDeleteReaction"),a[1],a[2],a[0]):c.seq([function(b){return c.ftr(c.db.table(8).fetch([[[a[1],a[2],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[2]&&c.i64.eq(b.actorId,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[12]=f:(b=a.item,d[12]=b.reaction)})},function(e){return a[9]!==f?(a[9]==="\u2764\ufe0f"||a[9]==="\u2764\ufe0f"?d[14]="\u2764":d[14]=a[9],d[14]===d[12]?c.sp(b("LSDeleteReaction"),a[1],a[2],a[0]):c.resolve()):c.resolve()}]):a[9]!==f?(a[9]==="\u2764\ufe0f"||a[9]==="\u2764\ufe0f"?d[12]="\u2764":d[12]=a[9],d[13]=c.i64.of_float(Date.now()),c.sp(b("LSUpsertReaction"),a[1],a[3],a[2],a[0],d[12],c.i64.cast([0,20]))):c.resolve():c.resolve()},function(e){return d[5]=new c.Map(),d[5].set("thread_id",a[1]),d[5].set("message_id",a[2]),d[5].set("message_timestamp",a[3]),d[5].set("actor_id",a[0]),d[5].set("reaction_fbid",a[4]),d[5].set("reaction_style",a[7]),d[5].set("current_count",a[5]),d[5].set("viewer_is_reactor",a[6]),d[5].set("operation",a[8]),d[5].set("reaction_literal",a[9]),d[5].set("entry_point",f),d[6]=c.createArray(),d[7]=(d[6].push("reaction_v2"),d[6]),d[8]=d[5].get("message_id"),d[5],d[9]=(d[6].push(d[8]),d[6]),d[10]=c.toJSON(d[6]),d[11]=c.toJSON(d[5]),c.sp(b("LSIssueNewTaskWithExtraOperations"),d[10],c.i64.cast([0,604]),d[11],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),f)}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6435997466458478"}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters.facebook",["FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FBPayHubTransactionDetailDialogQuery_facebookRelayOperation"),metadata:{},name:"FBPayHubTransactionDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FBPayHubTransactionDetailDialogQuery$Parameters",["cr:1932967"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1932967")}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6707789002567244"}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation","GroupsCometDelayCheckBlockedUsers.relayprovider","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","StoriesRing.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdminActivityLogItemSeeDetailsDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GroupsCometDelayCheckBlockedUsersrelayprovider:b("GroupsCometDelayCheckBlockedUsers.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__StoriesRingrelayprovider:b("StoriesRing.relayprovider")}}};e.exports=a}),null);
__d("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6098288313524910"}),null);
__d("MWPublicChatsNUXQuickPromotionQuery$Parameters",["MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWPublicChatsNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useCometDynamicEntryPointDialog",["CometDialogContext","CometDialogLoadingState.react","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;function m(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,i=a.preloadedEntryPoint,j=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var m=a[0],n=a[1],o=a[2],p=(e=m)!=null?e:i,q=l(null);k(function(){q.current!=null&&(c("clearTimeout")(q.current),q.current=null);p.isDisposed&&n(j);return function(){q.current=c("setTimeout")(function(){m?o():i.dispose(),q.current=null},6e4)}},[o,p.isDisposed,i,j,n,m]);b=babelHelpers["extends"]({},g,{onClose:f});return h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:i,props:b})}m.displayName=m.name+" [from "+f.id+"]";var n=function(a){return h.jsx(c("CometDialogLoadingState.react"),{onClose:a})};function a(a,b,e){var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=j(c("CometDialogContext"));return i(function(h,i,j,k){var l=d("CometRelay").loadEntryPoint(f,a,h),o=m,p=function(){j&&j.apply(void 0,arguments);var a=l==null?void 0:l.dispose;a&&a()};g(c("CometSuspendedDialogImpl.react"),{dialog:o,dialogProps:{entryPoint:a,environmentProvider:f,otherProps:i,preloadedEntryPoint:l,preloadParams:h},fallback:(o=e)!=null?o:n},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(i=k)!=null?i:c("tracePolicyFromResource")("comet.dialog",a.root)},p)},[f,a,g,e,b])}g["default"]=a}),98);
__d("FBPayHubTransactionDetailDialog.entrypoint",["FBPayHubTransactionDetailDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.transactionID;return{queries:{fBPayHubTransactionDetailDialogQueryReference:{parameters:b("FBPayHubTransactionDetailDialogQuery$Parameters"),variables:{transaction_id:a}}}}},root:c("JSResourceForInteraction")("FBPayHubTransactionDetailDialog.react").__setRef("FBPayHubTransactionDetailDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.routeProps;var c=a.adminActivityID,e=a.groupID;a=a.isManagementActivityLogTargetProfilePlus;c={UFI2CommentsProvider_commentsKey:"GroupsCometAdminActivityLogItem",adminActivityID:c,displayCommentsContextEnableComment:null,displayCommentsContextIsAdPreview:null,displayCommentsContextIsAggregatedShare:null,displayCommentsContextIsStorySet:null,displayCommentsFeedbackContext:null,feedbackSource:0,feedLocation:"GROUP_ADMIN_TO_MEMBER_FEEDBACK",focusCommentID:null,groupID:e,isManagementActivityLogTargetProfilePlus:a,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_admin_to_member_feedback",scale:d("WebPixelRatio").get(),useDefaultActor:!1};return{queries:{queryReference:{parameters:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters"),variables:c}}}},root:c("JSResourceForInteraction")("GroupsCometAdminActivityLogItemSeeDetailsDialog.react").__setRef("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")};g["default"]=a}),98);
__d("MWXRow.react",["cr:2667","cr:2922","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return a===10?12:a}function j(a){switch(a){case 10:return 12;case 20:return 16;default:return a}}function k(a){return a===10?12:a}function a(a,c){if(b("cr:2667")!=null){var d=a.paddingHorizontal,e=a.paddingTop,f=a.paddingVertical,g=a.spacing,l=a.spacingHorizontal,m=a.spacingVertical,n=babelHelpers.objectWithoutPropertiesLoose(a,["paddingHorizontal","paddingTop","paddingVertical","spacing","spacingHorizontal","spacingVertical"]);return h.jsx(b("cr:2667"),babelHelpers["extends"]({paddingHorizontal:i(d),paddingTop:j(e),paddingVertical:j(f),ref:c,spacing:k(g),spacingHorizontal:k(l),spacingVertical:k(m)},n))}return b("cr:2922")!=null?h.jsx(b("cr:2922"),babelHelpers["extends"]({},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";c=h.forwardRef(a);e=c;g["default"]=e}),98);
__d("MWXRowItem.react",["cr:3083","cr:3084","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,c){if(b("cr:3083")!=null)return h.jsx(b("cr:3083"),babelHelpers["extends"]({},a,{ref:c}));return b("cr:3084")!=null?h.jsx(b("cr:3084"),babelHelpers["extends"]({},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";c=h.forwardRef(a);g["default"]=c}),98);
__d("MWXTooltipGroup.react",["cr:11874"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11874")}),98);
__d("MWPublicChatsNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWPublicChatsNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryRef:{parameters:c("MWPublicChatsNUXQuickPromotionQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWPublicChatsNUXQuickPromotion.react").__setRef("MWPublicChatsNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("MWChatComposerIcons.bs",["cr:1755987"],(function(a,b,c,d,e,f,g){"use strict";g.Gif=(a=b("cr:1755987")).Gif;g.Sticker=a.Sticker;g.Photo=a.Photo;g.MoreActions=a.MoreActions;g.Emoji=a.Emoji;g.PaperclipSVG=a.PaperclipSVG;g.Paperclip=a.Paperclip;g.Pin=a.Pin;g.Camera=a.Camera;g.Microphone=a.Microphone;g.Poll=a.Poll;g.Currency=a.Currency}),98);
__d("TetraMWChatComposerIcons.bs",["ix","MWXIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={fillGrey:{fill:"xsrhx6k",$$css:!0},icon:{display:"x1lliihq",transitionDuration:"x1k90msu",transitionProperty:"x13hzchw",transitionTimingFunction:"x1qfuztq",$$css:!0},notRotated:{transform:"x7p49u4",$$css:!0},rotated:{transform:"x1158fpu",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};function a(a){var b=a.fill,d=a.size;a=(a=a.xstyle)!=null?a:!1;return i.jsx("svg",{className:c("stylex")(j.icon,j.fillGrey,a),height:String(d)+"px",viewBox:"0 0 16 16",width:String(d)+"px",x:"0px",y:"0px",children:i.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:b,fillRule:"nonzero"})})}a.displayName=a.name+" [from "+f.id+"]";a={make:a};function b(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?null:a;return i.jsx("svg",{className:c("stylex")(j.icon,j.fillGrey,a),height:String(d)+"px",viewBox:"0 0 17 16",width:String(d)+"px",x:"0px",y:"0px",children:i.jsxs("g",{fillRule:"evenodd",children:[i.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),i.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),i.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),i.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:b}),i.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:b,fillRule:"nonzero"})]})})}b.displayName=b.name+" [from "+f.id+"]";b={make:b};function e(a){var b=a.fill,d=a.size;a=(a=a.xstyle)!=null?a:!1;var e=b==null?"xsrhx6k":void 0,f=b==null?"x1dmfqyo":void 0;return i.jsx("svg",{className:c("stylex")(j.icon,a),height:String(d)+"px",viewBox:"0 -1 17 17",width:String(d)+"px",children:i.jsxs("g",{fill:"none",fillRule:"evenodd",children:[i.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:b}),i.jsx("circle",{className:e,cx:"8.5",cy:"4.5",fill:b,r:"1.5"}),i.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:b}),i.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:b,strokeLinecap:"round",strokeLinejoin:"round"})]})})}e.displayName=e.name+" [from "+f.id+"]";e={make:e};function k(a){var b=a.fill,d=a.isRotated;a=a.size;return i.jsx("svg",{className:c("stylex")(j.icon,j.fillGrey,d?j.rotated:j.notRotated),height:String(a)+"px",viewBox:"0 0 24 24",width:String(a)+"px",children:i.jsxs("g",{fillRule:"evenodd",children:[i.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),i.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:b})]})})}k.displayName=k.name+" [from "+f.id+"]";k={make:k};function l(a){var b=a.fill,d=a.size;a=(a=a.xstyle)!=null?a:!1;var e=b==null?"xsrhx6k":void 0;return i.jsx("svg",{className:c("stylex")(j.icon,a),height:String(d)+"px",viewBox:"0 0 38 38",width:String(d)+"px",children:i.jsx("g",{fill:"none",fillRule:"evenodd",children:i.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:i.jsx("g",{transform:"translate(709.000000, 314.000000)",children:i.jsx("g",{children:i.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:b})})})})})})}l.displayName=l.name+" [from "+f.id+"]";l={make:l};function m(a){var b=a.fill;a=a.size;var c=b==null?"xsrhx6k":void 0;return i.jsx("svg",{fill:"none",height:String(a)+"px",viewBox:"3 2 20 20",width:String(a)+"px",children:i.jsx("path",{className:c,clipRule:"evenodd",d:"M14.307 7.485a5.102 5.102 0 017.205 7.223l-.01.01-4.717 4.583a1 1 0 01-1.394-1.434l4.711-4.578a3.102 3.102 0 00-4.39-4.38l-.018.016-8.094 7.71c-.802.81-.8 2.12.008 2.929.65.65 1.705.65 2.356 0l.01-.01 7.216-7.011a.64.64 0 00-.91-.901l-4.297 4.296a1 1 0 11-1.414-1.415l4.298-4.295A2.64 2.64 0 0118.6 13.96l-.01.011-7.219 7.012a3.666 3.666 0 01-5.178-.005 4.078 4.078 0 010-5.765l.017-.017 8.096-7.711z",fill:b,fillRule:"evenodd"})})}m.displayName=m.name+" [from "+f.id+"]";m={make:m};function n(){return i.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(h("528566"),20)})}n.displayName=n.name+" [from "+f.id+"]";n={make:n};function o(){return i.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(h("481942"),20)})}o.displayName=o.name+" [from "+f.id+"]";o={make:o};function p(){return i.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(h("550096"),20)})}p.displayName=p.name+" [from "+f.id+"]";p={make:p};function q(){return i.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(h("624149"),20)})}q.displayName=q.name+" [from "+f.id+"]";q={make:q};function r(){return i.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(h("577048"),20)})}r.displayName=r.name+" [from "+f.id+"]";r={make:r};function s(){return i.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(h("480625"),20)})}s.displayName=s.name+" [from "+f.id+"]";f={make:s};g.Gif=a;g.Sticker=b;g.Photo=e;g.MoreActions=k;g.Emoji=l;g.PaperclipSVG=m;g.Paperclip=n;g.Pin=o;g.Camera=p;g.Microphone=q;g.Poll=r;g.Currency=f}),98);
__d("WorkXMAContentContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";d("react");c=d("react");e=c.createContext;var h=c.useContext,i=e();function a(){return i.Provider}function b(){return h(i)}g.xmaContentContext=i;g.getProvider=a;g.useHook=b}),98);
__d("MWChatPollFacepile.bs",["fbt","ix","CometImage.react","CometPressable.react","CometTintedIcon.react","JSResourceForInteraction","MWV2MessageRowIsRowFocusedContext.bs","MWXTooltip.react","MWXTooltipGroup.react","WorkXMAContentContext.bs","bs_caml_option","fbicon","react","stylex","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext,l={contact:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},contactGapNegative:{marginStart:"xrzrlj5",$$css:!0},contactGapNormal:{marginStart:"xsgj6o6",$$css:!0},contactLarge:{height:"x10w6t97",width:"x1td3qas",$$css:!0},contactMedium:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},contactSmall:{height:"x1v9usgg",width:"x6jxa94",$$css:!0},contactWithBorder:{borderTop:"xifua3y",borderEnd:"x4l9i0w",borderBottom:"xuf84vp",borderStart:"x1bf0f5m",marginTop:"x1y332i5",$$css:!0},overflow:{backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"xk50ysn",lineHeight:"x1u7k74",marginStart:"xrzrlj5",paddingTop:"x1nn3v0j",paddingEnd:"x1sxyh0",paddingBottom:"x1120s5i",paddingStart:"xurb0ha",height:"x1qx5ct2",boxSizing:"x9f619",marginTop:"xr1yuqi",marginBottom:"x4ii5y1",$$css:!0},overflowOverlay:{alignItems:"x6s0dn4",backgroundColor:"xdit8p8",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",opacity:"x1us6l5c",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},photoWrap:{display:"x1rg5ohu",position:"x1n2onr6",marginTop:"xr1yuqi",marginBottom:"x4ii5y1",$$css:!0},root:{display:"x78zum5",$$css:!0},rootReversed:{flexDirection:"x15zctf7",$$css:!0}};function m(a){var b=a.align,d=a.children,e=a.position;a=a.tooltip;if(a!=null)return j.jsx(c("MWXTooltip.react"),{align:function(){switch(b){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:function(){switch(e){case"below":return"below";case"above":return"above";case"start":return"start";case"end_":return"end"}}(),tooltip:a,children:d});else return d}b={make:m};function a(a){var b=a.gap,e=a.direction,f=a.limit,g=a.contactWithBorder,n=a.overflowStyle,o=a.contacts,p=a.countOverride,q=a.optionId,r=a.size,s=b!=null?b:"normal",t=e!=null?e:"normal",u=f!=null?f:2,v=g!=null?g:!0,w=n!=null?n:"showTotalCount",x=o.length>u;if(x&&w==="showTotalCount"){a=o.slice(0,-u|0).reverse().filter(function(a){return a.name!=null}).map(function(a){a=a.name;if(a!=null)return a;else return""});b=a.length===0?void 0:c("bs_caml_option").some(j.jsx("ul",{children:a.map(function(a,b){return j.jsx("li",{children:a},String(b))})}));e=j.jsx(m,{align:"middle",position:"above",tooltip:b,children:j.jsx("div",{className:"x1vtvx1t x1rcc7c0 xbtbmw4 x1lie4ck x16hxpj1 xi81zsa x1nxh6w3 xk50ysn x1u7k74 xrzrlj5 x1nn3v0j x1sxyh0 x1120s5i xurb0ha x1qx5ct2 x9f619 xr1yuqi x4ii5y1",children:"+"+String((p!=null?p:o.length)-2|0)})})}else e=null;f=j.jsxs(c("MWXTooltipGroup.react"),{children:[e,o.slice(-(x?u:1e3)|0).reverse().map(function(a,b){return j.jsxs("div",{className:c("stylex")(l.photoWrap,s==="normal"?l.contactGapNormal:l.contactGapNegative,r==="medium"?l.contactMedium:r==="small"?l.contactSmall:l.contactLarge),children:[j.jsx(m,{align:"middle",position:"above",tooltip:a.name,children:j.jsx(c("CometImage.react"),{src:a.profile_picture_url,xstyle:[l.contact,r==="medium"?l.contactMedium:r==="small"?l.contactSmall:l.contactLarge,v?l.contactWithBorder:!1]})}),x&&w==="overlayLastPhoto"&&b===(u-1|0)?j.jsx("div",{className:"x6s0dn4 xdit8p8 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ey2m1c x78zum5 xds687c xl56j7k x1us6l5c x6ikm8r x10wlt62 x10l6tqk x17qophe x13vifvy x1vjfegm",children:j.jsx(c("CometTintedIcon.react"),{color:"white",icon:d("fbicon")._(i("484386"),16)})}):null]},String(b))})]});var y=d("WorkXMAContentContext.bs").useHook();g=k(d("MWV2MessageRowIsRowFocusedContext.bs").context);var z=g.setIsDialogOpened,A=g.setFocused;if(q!=null&&y!=null){n=c("useCometLazyDialog")(c("JSResourceForInteraction")("ChatLSGeminiChatPollFacepileDialog.react").__setRef("MWChatPollFacepile.bs"));var B=n[0];return j.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__WPE2y-osfy7__JHASH__").toString(),onPress:function(){z(function(){return!0});return B({onHide:function(){z(function(){return!1});return A(function(){return!0})},optionId:q,pollId:y},function(){})},overlayDisabled:!0,xstyle:function(){return[l.root,t==="reversed"?l.rootReversed:!1]},children:f})}return j.jsx("div",{className:c("stylex")(l.root,t==="reversed"?l.rootReversed:!1),children:f})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.ConditionalTooltip=b;g.make=e}),98);
__d("MWInboxInfoPanelContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");c=b.createContext;var h=b.createElement,i=b.useMemo,j=b.useRef,k=c({footerContentRef:{current:null},isExpanded:void 0,isOnMemberRequestsPageRef:{current:!1},pushMemberRequestsPage:function(){},setIsExpanded:function(){},setPushMemberRequestsPage:function(a){},setShouldNavToMemberRequests:function(){},shouldNavToMemberRequests:!1});function a(a){var b=a.children,c=a.isExpanded,d=a.setIsExpanded,e=j(!1),f=e.current,g=j(function(){}),l=g.current,m=j(!1),n=j(null);a=i(function(){return{footerContentRef:n,isExpanded:c,isOnMemberRequestsPageRef:m,pushMemberRequestsPage:l,setIsExpanded:d,setPushMemberRequestsPage:function(a){g.current=a},setShouldNavToMemberRequests:function(a){e.current=a},shouldNavToMemberRequests:f}},[c,d,f,l,m]);return h(k.Provider,{children:b,value:a})}e=a;g.context=k;g.make=e}),98);
__d("MWInboxHeaderBroadcastChannelSubText.react",["fbt","CometMiddot.react","CometTextWithEntities.react","I64","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.count;a=a!=null?d("I64").to_int32(a):0;return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTextWithEntities.react"),{text:h._("__JHASH__SvUIYrDirw-__JHASH__").toString()}),a>0?i.jsxs(i.Fragment,{children:[i.jsx(c("CometMiddot.react"),{}),c("intlSummarizeNumber")(a),i.jsx(i.Fragment,{children:" "}),h._("__JHASH__YqlBHec3EKS__JHASH__",[h._plural(a)])]}):i.jsx(i.Fragment,{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderPublicChatSubText.react",["fbt","CometMiddot.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.count;return i.jsxs(i.Fragment,{children:[c("gkx")("3187")?h._("__JHASH__e_CSXZOMSHT__JHASH__"):h._("__JHASH__u3LpXcI2cyj__JHASH__"),i.jsx(c("CometMiddot.react"),{}),h._("__JHASH__auWIPhKvwTb__JHASH__",[h._plural(a,"number")])]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWBlockedComposerLogging",["$InternalEnum","Int64Hooks","MWLSThreadDisplayContext","cr:2580"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({USER_BLOCKED_CANNOT_MESSAGE:"user_blocked_cannot_message",USER_BLOCKED_CANNOT_REPLY:"user_blocked_cannot_reply",USER_RESTRICTED:"user_restricted",GAMING_GAME_BOT:"gaming_game_bot",GAMING_GET_STARTED_CTA:"gaming_get_started_cta",FEATURE_LIMITED_TO_READONLY:"feature_limited_to_readonly",PAGE_THREAD_DISABLED:"page_thread_disabled",USER_BLOCKED:"user_blocked",USER_UNREACHABLE:"user_unreachable",ARMADILLO_THREAD_ALREADY_CUTOVER:"thread_already_cutover",ARMADILLO_GROUP_THREAD_CUTOVER:"cutover_group_thread",ARMADILLO_RECEIVER_NON_ADDRESSABLE_ON_WA:"receiver_non_addressable_on_wa",NOT_BLOCKED:"not_blocked"});function a(a,c){var e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();d("Int64Hooks").useEffectInt64(function(){if(a==null||c===h.NOT_BLOCKED)return;var d=e==="Inbox"?"inbox":"jewel";b("cr:2580")&&b("cr:2580")({threadKey:a.threadKey,threadType:a.threadType},"blocked_composer",d,{composerBlockingReason:c})},[e,c,a])}g.ComposerBlockingReason=h;g.useLogMWBlockedComposerReason=a}),98);
__d("useMessengerWebThreadImpressionLogging",["CometDebounce","Int64Hooks","MWV2IsTabFocusedContext.bs","logMessengerWebFalcoEvent","useMWEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function a(a){var b=a.threadKey,e=a.threadType,f=d("MWV2IsTabFocusedContext.bs").useIsTabFocused(),g=c("useMWEntrypoint")();d("Int64Hooks").useEffectInt64(function(){f&&h({threadKey:b,threadType:e},"thread_impression",g)},[b,g,e,f])}g["default"]=a}),98);
__d("MessageReactionOperation",[],(function(a,b,c,d,e,f){a=Object.freeze({ADD:1,REMOVE:2,REMOVE_MULTI_REACT:3});f["default"]=a}),66);
__d("MessageReactionStyle",[],(function(a,b,c,d,e,f){a=Object.freeze({BASIC_SUPER_REACT_ANIMATION:1});f["default"]=a}),66);
__d("useIsReactionsV2Enabled",["$InternalEnum","LSIntEnum","LSThreadBitOffset","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWLSThread","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum").Mirrored(["Read","Write","Both","Any"]);function a(a,b){return(a=d("MWLSThread").useThread(a,function(a){return i(a,b)}))!=null?a:!1}function i(a,b){var e=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(139),a);if(!e)return!1;e=c("MWCMIsAnyCMThread")(a.threadType)&&!d("MWCMThreadTypes.react").isBroadcastThread(a.threadType);if(!e)return!0;switch(b){case h.Any:return c("gkx")("2640")||c("gkx")("2551");case h.Both:return c("gkx")("2640")&&c("gkx")("2551");case h.Read:return c("gkx")("2551");case h.Write:return c("gkx")("2640")}}g.Action=h;g.useIsReactionsV2Enabled=a;g.isReactionsV2Enabled=i}),98);
__d("useMWPSendOrUnsendReaction",["I64","Int64Hooks","LSFactory","LSIntEnum","LSOptimisticUpsertReaction","LSOptimisticUpsertReactionV2","MWLSThread","MWPActor.react","MessageReactionOperation","MessageReactionStyle","ReQL","asyncToGeneratorRuntime","promiseDone","useIsMultiReactionEnabled","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g,h){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticUpsertReactionV2")(b,e.threadKey,e.messageId,e.timestampMs,f,g,!0,d("LSIntEnum").ofNumber(c("MessageReactionStyle").BASIC_SUPER_REACT_ANIMATION),d("LSIntEnum").ofNumber(c("MessageReactionOperation").ADD),h,c("LSFactory")(a))},"readwrite"))}function i(a,b,c,d,e,f,g){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i){yield a.runInTransaction(function(a){return c("LSOptimisticUpsertReactionV2")(b,e.threadKey,e.messageId,e.timestampMs,g,f,!1,d("LSIntEnum").ofNumber(c("MessageReactionStyle").BASIC_SUPER_REACT_ANIMATION),d("LSIntEnum").ofNumber(i?c("MessageReactionOperation").REMOVE_MULTI_REACT:c("MessageReactionOperation").REMOVE),h,c("LSFactory")(a))},"readwrite")});return j.apply(this,arguments)}function k(a,b,e,f,g){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("reactions_v2")).getKeyRange(e.threadKey,e.messageId,f)).then(function(c){c!=null?h(a,b,e,f,c.count,g):h(a,b,e,f,d("I64").zero,g)}))}function a(a){var e=c("useReStore")(),f=d("MWPActor.react").useActor(),g=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(a.threadKey);return d("Int64Hooks").useCallbackInt64(function(h){var j=d("MWLSThread").getThread(e,a.threadKey);j=j?d("useIsReactionsV2Enabled").isReactionsV2Enabled(j,d("useIsReactionsV2Enabled").Action.Write):!1;if(j){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("reaction_v2_types")).filter(function(a){return a.reactionLiteral===h||a.reactionLiteralVariant16===h})).then(function(j){if(j!=null){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return(!g||d("I64").equal(a.reactionFbid,j.reactionFbid))&&a.viewerIsReactor})).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){if(b==null)return k(e,f,a,j.reactionFbid,h);var c=d("I64").equal(b.reactionFbid,j.reactionFbid);(!g||c)&&(yield i(e,f,a,b.count,b.reactionFbid,h,g));if(!c)return k(e,f,a,j.reactionFbid,h)});return function(a){return c.apply(this,arguments)}}()));return}}));return}c("promiseDone")(e.runInTransaction(function(b){return c("LSOptimisticUpsertReaction")(a.threadKey,d("I64").of_float(Date.now()),a.messageId,f,h,c("LSFactory")(b))},"readwrite"))},[e,a,f,g])}g["default"]=a}),98);
__d("MAWPSendOrRemoveReaction.bs",["I64","Int64Hooks","MWPActor.react","cr:6447","promiseDone","requireDeferred","useMWPSendOrUnsendReaction","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogMessageAction").__setRef("MAWPSendOrRemoveReaction.bs");function a(a,e,f){var g,i=c("useReStore")(),j=d("MWPActor.react").useActor(),k=(g=b("cr:6447")==null?void 0:b("cr:6447").useSendOrRemoveReaction(a.threadKey,d("I64").to_string(a.senderId)))!=null?g:null,l=c("useMWPSendOrUnsendReaction")(a);return d("Int64Hooks").useMemoInt64(function(){return function(b,d,g){if(e&&k!==null)k(b,d);else{l((b=d)!=null?b:"")}h.onReady(function(b){return c("promiseDone")(b.log(i,a.messageId,a.threadKey,f,g,void 0,void 0,void 0,a.senderId,void 0,j))})}},[e,k,l,i,a.messageId,a.threadKey,a.senderId,f,j])}g.useSendOrRemoveReaction=a}),98);
__d("MWChatMultiReactionsTooltip.react",["fbt","CometPressable.react","I64","LSClearReactionsV2DetailsAndRange","LSFactory","LSIssueReactionsV2DetailsUsersListFetch","LSPlatformWaitForTaskCompletion","MWPActor.react","MWXText.react","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=b.useState,m=9;function a(a){var b=a.messageId,e=a.onTooltipCTAPress,g=a.reactionFbid,n=a.threadKey,o=c("useReStore")();a=l(!0);var p=a[0],q=a[1];j(function(){q(!0),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(o,function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(n,b,g,void 0,c("LSFactory")(a))},"issueReactionsV2DetailsUsersListFetch").then(function(){q(!1)}))},[o,n,b,g,q]);var r=d("MWPActor.react").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(o.table("reactions_v2_details")).getKeyRange(n,b).filter(function(a){return d("I64").equal(a.reactionFbid,g)})},[o,n,b,g],f.id+":79");var s=new Map();a.forEach(function(a){return s.set(d("I64").to_string(a.reactorId),a.fullName)});var t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.table("threads")).getKeyRange(n).map(function(a){var b=a.parentThreadKey;return d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(o.table("contextual_profile_v1")).filter(function(a){return d("I64").equal(a.associatedEntityId,b)}))})},[o,n],f.id+":92"),u=null;t!=null&&t.forEach(function(a){var b=d("I64").to_string(a.ownerId),c=a.profileName;if(c==null)return;s.has(b)&&s.set(b,c);d("I64").equal(a.ownerId,r)&&(u=c)});var v=a.map(function(a){return s.get(d("I64").to_string(a.reactorId))}).filter(Boolean);t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.table("reactions_v2")).getKeyRange(n,b,g)},[o,n,b,g],f.id+":126");a=(a=t==null?void 0:t.viewerIsReactor)!=null?a:!1;var w=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.table("contacts")).getKeyRange(r).map(function(a){return a.name})},[o,r],f.id+":138");w=u!=null?u:w;var x=t!=null?d("I64").to_int32(t.count):0;x===1&&a&&v.length===0&&w!=null?v.push(w):a&&v[0]!=null&&w!=null&&((t=v[0])==null?void 0:t.toString())!==w&&v.unshift(w);var y=h._("__JHASH__GTBXwO8BaZr__JHASH__");a=function(){var a=[].concat(v.slice(0,m)),b=!1;if(v.length>m){var d=x-m;if(d<0)return[y,!0];a.push(i.jsx(c("MWXText.react"),{color:"highlight",type:"body4",children:h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(d),h._param("count",String(c("intlSummarizeNumber")(d)))]).toString()}))}else b=!p&&v.length!==x;return a.length===0?[y,b]:[a.map(function(a,b){return i.jsx("div",{children:a},String(b))}),b]}();t=a[0];var z=a[1],A=c("usePrevious")(z),B=k(null);j(function(){return function(){B.current!=null&&window.clearTimeout(B.current)}},[]);j(function(){if(A===z)return;if(!z)B.current!=null&&(window.clearTimeout(B.current),B.current=null);else{if(B.current!=null)return;B.current=window.setTimeout(function(){B.current=null,c("promiseDone")(o.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRange")(c("LSFactory")(a))},"readwrite")),c("promiseDone")(o.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(n,b,void 0,void 0,c("LSFactory")(a))},"readwrite"))},700)}},[o,z,A,b,g,n]);return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__g_e4jdcSB-i__JHASH__"),onPress:e,overlayDisabled:!0,children:i.jsx("div",{children:t})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useGetMultiReactOrderedItems",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useMemo,i=b.useRef;function j(a,b){var c={};a.forEach(function(a){c[a]=!0});var d=a;b.forEach(function(a){a=a.emoji.join("");if(c[a])return;d.push(a)});return d}function k(a,b){b=((b=b)!=null?b:[]).filter(function(a){return d("I64").gt(a.count,d("I64").zero)});return b.map(function(b,c){return{emoji:a[c],reaction:b}}).filter(function(a){return a.emoji!=null})}function a(a,b){var c=i(!0),e=i([]),f=h(function(){return k(a,b)},[a,b]),g=h(function(){var a={};f.forEach(function(b){a[b.emoji.join("")]=b});return a},[f]);return h(function(){if(c.current)c.current=!1,e.current=f.sort(function(a,b){return d("I64").compare(b.reaction.count,a.reaction.count)}).map(function(a){return a.emoji.join("")});else{var a=e.current.filter(function(a){a=g[a];return a==null?!1:d("I64").to_int32(a.reaction.count)>0});e.current=j(a,f)}return e.current.map(function(a){return g[a]}).filter(Boolean)},[g,f])}g["default"]=a}),98);
__d("MWMessageReactionsContainerV2.react",["fbt","BaseContextualLayer.react","CometPopover.react","CometPressable.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWPSendOrRemoveReaction.bs","MWCMThreadTypes.react","MWChatMessageId","MWChatMultiReactionsTooltip.react","MWChatReactionEmoji.bs","MWChatReactionsActionContainer.react","MWChatReactionsUtils.bs","MWLSLogMessageClick.bs","MWLSThread","MWMessageReactionIcon.react","MWPColorUtils","MWPThreadTheme.bs","MWV2MessageReactionHooks","MWXText.react","MWXTooltip.react","ODS","emptyFunction","gkx","react","stylex","unrecoverableViolation","useCometTheme","useFadeEffect","useGetMultiReactOrderedItems","useIsMultiReactionEnabled","useIsReactionsV2Enabled","usePrevious","useThrottled"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");e=b.forwardRef;var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o={additionalInlineButton:{display:"x78zum5",flexDirection:"xdt5ytf",height:"xlup9mm",justifyContent:"xl56j7k",width:"x1npj6m0",$$css:!0},animatedEmoji:{animationDuration:"xdz8niu",animationIterationCount:"x1v7wizp",animationName:"x1erype6",animationTimingFunction:"xjmqbfh",opacity:"x1hc1fzr",transform:"xvvkyix",transformOrigin:"x1jpgh95",$$css:!0},emoji:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",lineHeight:"x14ju556",marginEnd:"x11i5rnm",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x1vtvx1t",borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",display:"x78zum5",justifyContent:"xl56j7k",paddingBottom:"x10b6aqq",paddingEnd:"xsyo7zv",paddingStart:"xurb0ha",paddingTop:"x1yrsyyn",position:"x1n2onr6",textAlign:"xp4054r",$$css:!0},emojiRowContainer:{marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0},tooltipContainer:{backgroundColor:"xj5tmjb",borderTopStartRadius:"x1liy6zf",borderTopEndRadius:"xy55alh",borderBottomEndRadius:"xsg8q8m",borderBottomStartRadius:"x1bokene",boxShadow:"xms15q0",display:"x1lliihq",marginBottom:"xjpr12u",marginTop:"xr9ek0c",maxWidth:"x86nfjv",opacity:"xg01cxk",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x19991ni",transitionTimingFunction:"x1dhq9h",$$css:!0},tooltipContainerVisible:{opacity:"x1hc1fzr",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",$$css:!0},wrapper:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",marginTop:"x1gslohp",$$css:!0},wrapperOutgoing:{alignItems:"xuk3077",justifyContent:"x13a6bvl",$$css:!0}},p=e(function(a,b){var e=a.messageID,f=a.onHoverInPrerenderer,g=a.onHoverOutPrerenderer,k=a.onPressInPrerenderer,l=a.showPopover;a=h._("__JHASH__czR8vxcW0mN__JHASH__");var m=j(function(){l(),d("MWLSLogMessageClick.bs").logMessageClicked(e,d("LSIntEnum").ofNumber(89)),d("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")},[e,l]);return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:i.jsx(c("CometPressable.react"),{"aria-label":a,expanding:!0,onHoverIn:f,onHoverOut:g,onPress:m,onPressIn:k,overlayRadius:100,ref:b,role:"button",testid:void 0,xstyle:o.emojiRowContainer,children:i.jsx("div",{className:"x6s0dn4 x1vtvx1t xdxvlk3 x1fglp x1rp6h8o xg6i1s1 x78zum5 xl56j7k x10b6aqq xsyo7zv xurb0ha x1yrsyyn x1n2onr6 xp4054r",role:"none",children:i.jsx("div",{className:"x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x14ju556 x11i5rnm x78zum5 xdt5ytf xlup9mm xl56j7k x1npj6m0",children:i.jsx(c("MWMessageReactionIcon.react"),{})})})})})});function q(a){var b=a.isSecure,e=a.message,f=a.sendReaction,g=a.threadKey;a=a.threadType;var h=d("I64").to_string(g),j=d("I64").to_string(e.timestampMs),k=l(function(){return d("MWChatMessageId").makeSent(h,e.messageId,j)},[h,e.messageId,j]);a=d("MWCMThreadTypes.react").isBroadcastThread(a);g=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(g,d("useIsReactionsV2Enabled").Action.Both);var m=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReactionsV2(e);return i.jsx(c("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:c("emptyFunction"),disableCustomReactions:g&&a,hasReactionsV2:g,isBroadcastThread:a,isSecure:b,messageID:k,onVisibilityChange:c("emptyFunction"),selectedReactions:(g=m)!=null?g:void 0,sendReaction:f,children:function(a,b,c,d,e,f){return i.jsx(p,{messageID:k,onHoverInPrerenderer:d,onHoverOutPrerenderer:e,onPressInPrerenderer:f,ref:a,showPopover:b})}})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.emojis,e=a.message,f=a.onOpenDialog,g=a.outgoing;a=a.reactionsV2;var h=null,k=n(-1),l=k[0],p=k[1],r=e.threadKey;k=d("MWLSThread").useThread(r,function(a){return a.threadType});if(k==null)throw c("unrecoverableViolation")("thread cannot be null when reacting to message","messenger_web_product");var t=d("LSMessagingThreadTypeUtil").isSecure(k),u=d("MAWPSendOrRemoveReaction.bs").useSendOrRemoveReaction(e,t,"instant_react"),v=j(function(a,b){return u(e.messageId,a,b?"remove_reaction":"reaction")},[u,e.messageId]),w=c("useThrottled")(function(a,b){v(a,b)},750),x=m(null),y=j(function(a,b){f({reactionFbid:a,reactionType:b}),p(-1)},[f,p]),z=j(function(a){x.current!=null&&window.clearTimeout(x.current),p(a)},[]),A=j(function(a){if(l===a)return;x.current!=null&&window.clearTimeout(x.current);p(-1);x.current=window.setTimeout(function(){p(a)},300)},[l]),B=j(function(){x.current!=null&&window.clearTimeout(x.current),x.current=window.setTimeout(function(){return p(-1)},300)},[]),C=c("useGetMultiReactOrderedItems")(b,a),D=C.length||0,E=c("usePrevious")(C);if(D<1)return null;D=D>0&&D<d("useIsMultiReactionEnabled").MAX_REACTION_COUNT;a!=null&&(h=C.map(function(a,f){var g=a.emoji;a=a.reaction;return b[f]==null?null:i.jsx(s,{emoji:g,isTooltipShown:l===f,message:e,onFocus:function(){return z(f)},onMouseEnter:function(){return A(f)},onMouseLeave:B,onTooltipCTAPress:y,reaction:a,sendReaction:w,shouldAnimate:(E==null?void 0:E.find(function(a){return a.emoji.join("")===g.join("")}))==null&&d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),threadKey:r},g)}));return i.jsxs("div",{className:c("stylex")(o.wrapper,g?o.wrapperOutgoing:!1),"data-testid":void 0,children:[h,D?i.jsx(q,{isSecure:t,message:e,sendReaction:v,threadKey:r,threadType:k}):null]})}a.displayName=a.name+" [from "+f.id+"]";var r={"--card-background":"rgba(0,0,0,0)"};function s(a){var b=a.emoji,e=a.isTooltipShown,f=a.message,g=a.onFocus,h=a.onMouseEnter,j=a.onMouseLeave,p=a.onTooltipCTAPress,q=a.reaction,s=a.sendReaction,t=a.shouldAnimate;a=a.threadKey;var u=c("useCometTheme")("invert"),v=u[0];u=u[1];var w=c("useCometTheme")("light");w[0];w=w[1];var x=d("MWChatReactionsUtils.bs").isHeart(b[0]),y=m(null);e=c("useFadeEffect")(e);var z=e[0],A=e[1];e=e[2];var B=n(!1),C=B[0],D=B[1],E=m(null);k(function(){E.current!=null&&window.clearTimeout(E.current)},[]);k(function(){t&&(D(!0),E.current!=null&&window.clearTimeout(E.current),E.current=window.setTimeout(function(){E.current=null,D(!1)},600))},[t]);B=d("MWPThreadTheme.bs").useHook();B=B.threadTheme;B=d("MWPColorUtils").int64ToHex(B.fallbackColor);var F=B+"40";F="linear-gradient(0deg, "+F+", "+F+"), #FFFFFF";var G=d("I64").to_string(q.count),H=G.length,I=d("I64").to_string(a),J=d("I64").to_string(f.timestampMs),K=l(function(){return d("MWChatMessageId").makeSent(I,f.messageId,J)},[I,f.messageId,J]);return i.jsxs("div",{className:c("stylex")(q.viewerIsReactor?w:null),onFocus:g,onMouseEnter:h,onMouseLeave:j,children:[i.jsx(c("CometPressable.react"),{onPress:function(){d("MWLSLogMessageClick.bs").logMessageClicked(K,q.viewerIsReactor?d("LSIntEnum").ofNumber(91):d("LSIntEnum").ofNumber(90)),s(b.join(""),q.viewerIsReactor)},overlayRadius:100,ref:y,xstyle:o.emojiRowContainer,children:i.jsxs("div",{className:"x6s0dn4 x1vtvx1t xdxvlk3 x1fglp x1rp6h8o xg6i1s1 x78zum5 xl56j7k x10b6aqq xsyo7zv xurb0ha x1yrsyyn x1n2onr6 xp4054r",style:q.viewerIsReactor?{background:F}:null,children:[i.jsx("div",{className:"x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x14ju556 x11i5rnm",children:i.jsx("div",{className:c("stylex")(t||C?o.animatedEmoji:!1,x?o.scaleHeartEmoji:!1),children:i.jsx(d("MWChatReactionEmoji.bs").make,{emoji:b,size:16,testid:void 0})})}),i.jsx("div",{className:"xi81zsa x1nxh6w3 x1s688f x1k2j06m x10ogl3i x2b8uid","data-testid":void 0,role:"none",style:q.viewerIsReactor?{color:B,minWidth:H*9}:{minWidth:H*9},children:G})]})}),z&&i.jsx(v,{children:i.jsx(c("BaseContextualLayer.react"),{align:"middle",contextRef:y,position:"above",ref:e,children:i.jsx("div",{style:c("gkx")("571")?null:r,children:i.jsx(c("CometPopover.react"),{withArrow:c("gkx")("571"),children:i.jsx("div",{className:c("stylex")(u,o.tooltipContainer,A&&o.tooltipContainerVisible),role:"tooltip",children:i.jsx(c("MWXText.react"),{color:"primary",type:"body4",children:i.jsx(c("MWChatMultiReactionsTooltip.react"),{messageId:f.messageId,onTooltipCTAPress:function(){return p(q.reactionFbid,b.join(""))},reactionFbid:q.reactionFbid,threadKey:a})})})})})})})]})}s.displayName=s.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRequestSharedTexts.bs",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return h._("__JHASH__U0QsQTXo_Q6__JHASH__",[h._param("FBFullName",a)])}function b(a){return h._("__JHASH__ftbQaI1YVpP__JHASH__",[h._param("name",a)])}function c(a){return h._("__JHASH__9ycmorSoeEo__JHASH__",[h._param("FBShortName",a)])}g.getFBUserInfoTextMessage=a;g.getDefaultInfoTextFooter=b;g.getDeclineUserDialogText=c}),98);
__d("MWChatChatButtonColorConstants.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={fillGrey:{fill:"xsrhx6k",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};g.styles=a}),98);
__d("MWMessageSendingContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.createContext;var i=b.useContext,j=b.useMemo,k=b.useRef,l=e({findSendingMessage:c("emptyFunction").thatReturnsFalse,trackSendingMessage:c("emptyFunction"),untrackSendingMessage:c("emptyFunction")});function a(a){a=a.children;var b=k(new Set()),c=j(function(){return{findSendingMessage:function(a){return b.current.has(a)},trackSendingMessage:function(a){b.current.add(a)},untrackSendingMessage:function(a){b.current["delete"](a)}}},[b]);return h.jsx(l.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";d={Provider:a,useHook:function(){return i(l)}};g["default"]=d}),98);
__d("MWV2ComposerFileButton.bs",["fbt","CometFileSelector.react","CometPressable.react","MWChatComposerIcons.bs","MWXTooltip.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},l=h._("__JHASH__irWVZkNfl97__JHASH__");function m(a){return j(function(b){b=Array.from(b);if(b.length>0)return a(b)},[a])}function a(a){var b=a.color,e=a.disabled,f=a.onAttachmentsAdded;a=a.supportedFileTypes;f=m(f);f={children:function(a){return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:l,children:i.jsx(c("CometPressable.react"),{"aria-label":l,disabled:e,onPress:function(){return a()},overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").Photo.make,{fill:e?void 0:b,size:20})})})},multiple:!0,onFilesSelected:f};a!=null&&(f.accept=a);return i.jsx(c("CometFileSelector.react"),babelHelpers["extends"]({},f))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.label=l;g.useOnFilesSelected=m;g.make=b}),98);
__d("MWV2ComposerGifButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","I64","JSResourceForInteraction","LSShape","MWChatComposerIcons.bs","MWXTooltip.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},l=h._("__JHASH__J6q-Bfr0oTE__JHASH__");function m(a,b,c,e){return d("LSShape").ofRecord({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:b,preview_url:a,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:c})}function n(a){return j(function(b){var c=d("I64").of_string(b.platformFBID),e=b.source.url;return a(void 0,void 0,void 0,void 0,c,e,m(e,d("I64").of_int32(b.source.height),d("I64").of_int32(b.source.width)),void 0,void 0,void 0,void 0)},[a])}function a(a){var b=a.color,e=a.disabled,f=a.isSecureThread;a=a.onSendMessage;a=n(a);return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{isSecureThread:f,onSelect:a,testid:"mw_gif_picker"},popoverResource:c("JSResourceForInteraction")("MWChatAnimatedImageFlyout.react").__setRef("MWV2ComposerGifButton.bs"),position:"above",children:function(a,f,g,h,j,m,n){return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:l,children:i.jsx(c("CometPressable.react"),{"aria-label":l,disabled:e,onHoverIn:h,onHoverOut:j,onPress:f,onPressIn:m,overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").Gif.make,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.label=l;g.useOnGifSelect=n;g.make=b}),98);
__d("MWV2ComposerStickerButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","I64","JSResourceForInteraction","LSShape","MWChatComposerIcons.bs","MWXTooltip.react","gkx","nullthrows","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},flyoutRoot:{width:"x1fepime",$$css:!0}},l=h._("__JHASH__430IPCMJAf3__JHASH__");function m(a,b,c,e){return d("LSShape").ofRecord({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:b,preview_url:a,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:c})}function n(a,b){return j(function(e,f,g){f=g.animated_uri;f=f!=null?f:g.uri;if(b)return a(void 0,void 0,d("I64").of_string(e),void 0,void 0,c("nullthrows")(f),void 0,void 0,void 0,void 0,void 0);else return a(void 0,void 0,d("I64").of_string(e),void 0,void 0,void 0,m(f,d("I64").of_string("128"),d("I64").of_string("128")),void 0,void 0,void 0,void 0)},[a,b])}function a(a){var b=a.color,e=a.disabled,f=a.onOpenStickerPicker,g=a.onSelectStickerPack,h=a.onSendMessage;a=a.useSecureSend;h=n(h,a);return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,onVisibilityChange:function(a){},popoverProps:{className:"x1fepime",onClose:function(){},onStickerSelect:h,onSelectStickerPack:g,shouldHideDefaultPacks:a,shouldAlwaysShowAvatarPack:a&&c("qex")._("304")===!0},popoverResource:c("JSResourceForInteraction")("MWChatStickersFlyout.react").__setRef("MWV2ComposerStickerButton.bs"),position:"above",children:function(a,g,h,j,m,n,o){return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:l,children:i.jsx(c("CometPressable.react"),{"aria-label":l,disabled:e,onHoverIn:j,onHoverOut:m,onPress:function(){g(),f==null?void 0:f()},onPressIn:n,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").Sticker.make,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.label=l;g.useOnStickerSelect=n;g.make=b}),98);
__d("MWCommandsComposerPluginCommandList",["fbt","ix","FBLogger","fbicon"],(function(a,b,c,d,e,f,g,h,i){"use strict";b=h._("__JHASH__fM-I8ly761K__JHASH__");e=h._("__JHASH__bcTzx6eBHE9__JHASH__");f=[{decorType:"regular",handle:b.toString(),key:"silent",label:b.toString(),rawData:{icon:d("fbicon")._(i("549627"),16),subtitle:e.toString()},type:"entry"}];var j=(h={},h[b.toString()]="s",h);function a(a){var b=j[a];if(b==null){c("FBLogger")("messenger_web_product").mustfix("Unregisted messenger composer command "+a+" used. Please add the command to the mapping in MWCommandsComposerPluginCommandList");return"n"}return b}g.commands=f;g.commandMapping=j;g.commandToRangeType=a}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical","MWCommandsComposerPluginCommandList"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=a.handle;c=b.call(this,"/"+a,c)||this;c.__handle=a;return c}a.getType=function(){return"command"};a.clone=function(b){return new a({handle:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return i({handle:a.handle})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{handle:this.__handle,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{handle:this.__handle}};c.getRangeType=function(){return d("MWCommandsComposerPluginCommandList").commandToRangeType(this.__handle)};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof h}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i;g.isMessengerCommandNode=a}),98);
__d("messengerCommandsLexicalCreateNodeStrategy",["MWCommandsComposerPluginTextNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({handle:c("cometMentionsDataEntryText")(a)})});b=a;g["default"]=b}),98);
__d("MWCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposerMentionsViewItem.react","MWCommandsComposerPluginCommandList","Promise","createCometMentionMatchStrategy","messengerCommandsLexicalCreateNodeStrategy","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={view:{minWidth:"x1jzhcrs",$$css:!0}},k=function(){function a(){}var c=a.prototype;c.bootstrap=function(){return};c.fetchCache=function(a){return{entries:a.query.length===0?d("MWCommandsComposerPluginCommandList").commands:d("MWCommandsComposerPluginCommandList").commands.filter(function(b){return(b=b.handle)==null?void 0:b.startsWith(a.query)}),params:a}};c.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();function a(a){a=a.editor;var b=c("useCometMentionsDataSourceResolverConfig")(i(function(){return[{dataSource:new k(),matchStrategy:c("createCometMentionMatchStrategy")({minMatchLength:0,name:"MessengerCommandsMatchStrategy",triggers:"/"})}]},[]),!0),d=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:j.view});return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerCommandsLexicalCreateNodeStrategy"),dataSourceResolverConfig:b,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2UseAreThreadContactsDualSendEligible.bs",["I64","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","LSWhatsAppConnectStatus","MWPActor.react","ReQL.bs","ReQLSubscription.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useMemo;function i(a,b,e,f){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:b,tl:0}),d("ReQL.bs").fromTableAscending(a.table("contacts"))),function(a){return a[1]}),function(a){if(a!=null&&!d("I64").equal(a.id,f))if(d("LSMessagingThreadTypeUtil").isOneToOne(e))return d("I64").gt(d("I64").and_(a.waConnectStatus,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_DST_ELIGIBLE)),d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE));else if(d("I64").gt(d("I64").and_(a.waConnectStatus,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_GDST_ELIGIBLE)),d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)))if(d("I64").equal(a.contactViewerRelationship,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").FACEBOOK_FRIEND)))return!0;else return d("I64").equal(a.contactViewerRelationship,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER));else return!1;else return!1}),function(a){return a})}function a(a,b,c,e){return d("ReQL.bs").toArray(i(a,c,e,b))}function b(a,b){var e=c("useReStore")(),f=d("MWPActor.react").useActor();return d("ReQLSubscription.bs").useArray(h(function(){return d("ReQL.bs").take(i(e,a,b,f),2)},[e,d("I64").to_string(a),d("I64").to_string(b)]),"mrcga6nj").length}e=a;f=b;g.getEligibleContacts=e;g.useThreadEligiblity=f}),98);
__d("MWLSDefaultThreadSource",["LSMessagingSource","LSThreadAttributionTypeUtil.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("LSMessagingSource").useHook();return h(function(b){return d("LSThreadAttributionTypeUtil.bs").getSource(b,a)},[a])}g.useHook=a}),98);
__d("MWPublicChatMemberRequestsBanner.react",["fbt","ix","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","CometSkittleIcon.react","FBLogger","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerifyContactRowExists","MWInboxInfoPanelContext.bs","Promise","ReQL","ReQLSuspense","TetraButtonGroup.react","cr:4923","fbicon","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useContext,l=e.useEffect,m=e.useState;function n(a){if(a.length===0){c("FBLogger")("messenger_comet").mustfix("No member requests?");return void 0}else if(a.length===1){var b;return h._("__JHASH__bWQyKZ80V0d__JHASH__",[h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}else{b=a.length-1;return h._("__JHASH__ZU2Oj6CpDJW__JHASH__",[h._plural(b,"number"),h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}}function o(a){var e=a.memberRequests,f=a.setWasClosed;a=k(d("MWInboxInfoPanelContext.bs").context);var g=a.isExpanded,l=a.isOnMemberRequestsPageRef,m=a.pushMemberRequestsPage,o=a.setIsExpanded,p=a.setShouldNavToMemberRequests;return j.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",children:j.jsx(c("CometContextualMessage.react"),{addOnPrimary:j.jsx(c("TetraButtonGroup.react"),{primary:{label:h._("__JHASH__N4aWocdoeuZ__JHASH__",[h._plural(e.length)]),onPress:function(){l.current!==!0&&(g===!0?m():(p(!0),o(!0))),f(!0)},padding:"wide",type:"secondary"}}),body:n(e),headline:h._("__JHASH__wwx2l6C4JXf__JHASH__",[h._plural(e.length,"number")]),icon:j.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:b("cr:4923")!=null?b("cr:4923"):d("fbicon")._(i("497883"),16),size:36}),level:4,onClose:function(){f(!0)}})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var e=a.thread;a=m(!1);var g=a[0],h=a[1],i=c("useReStore")(),n=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(i.table("group_membership_approval_requests")).getKeyRange(e.threadKey).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.table("contacts")).getKeyRange(a.contactId));return[a,b]})},[i,e.threadKey],f.id+":172"),p=n.length,q=c("usePrevious")(p);a=k(d("MWInboxInfoPanelContext.bs").context);var r=a.isOnMemberRequestsPageRef;l(function(){r.current!==!0&&q!==null&&p>q&&h(!1)},[p,q,h,r]);l(function(){var a=n.map(function(a){return a[0].contactId});i.runInTransaction(function(e){return b("Promise").all(a.map(function(a){return c("LSVerifyContactRowExists")(a,d("LSIntEnum").ofNumber(c("LSContactIdType").FBID),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,!1,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(e))}))},"readwrite")},[i,n]);return!g&&n.length>0?j.jsx(o,{memberRequests:n,setWasClosed:h}):null}p.displayName=p.name+" [from "+f.id+"]";function q(a){a=a.thread;var b=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),c=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(66),a);return c&&b?j.jsx(p,{thread:a}):null}q.displayName=q.name+" [from "+f.id+"]";function a(a){a=a.thread;return j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(q,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageSeenCountTooltip.react",["fbt","I64","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWLSThread","MWMessageDeliveryStatus","MWMessageUnsentTimestampText.react","MWXTooltip.react","MercuryTimestamp","ReQL","ReQLSuspense","gkx","react","requireDeferred","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=c("requireDeferred")("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").__setRef("MWMessageSeenCountTooltip.react"),m=c("gkx")("571")?3:11,n=function(a){var b,e=a.message,g=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("community_chat_message_seen_count")).getKeyRange(e.threadKey,e.messageId)},[g,e.threadKey,e.messageId],f.id+":54");var n=(b=d("MWLSThread").useThread(e.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}))!=null?b:!1,o=a?d("I64").to_int32(a.seenCount):null,p=d("I64").to_string(e.threadKey);b=j(function(){if(!n)return;l.onReady(function(a){return a.log(function(){return{action:2,action_name:2,event:16,event_name:16,parent_surface:m,parent_surface_name:m,source:15,source_name:15,surface:7,surface_name:7,thread_id:p}})})},[n,p]);var q=c("useSinglePartialViewImpression")({onImpressionStart:b});return k(function(){var a=e.isUnsent,b=e.timestampMs,f=e.unsentTimestampMs;return f!=null&&a?i.jsx(c("MWMessageUnsentTimestampText.react"),{timestampMs:e.timestampMs,unsentTimestampMs:f}):i.jsxs("div",{children:[i.jsx("div",{children:h._("__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(d("I64").to_float(b)))])}),o!=null?i.jsx("div",{ref:q,children:d("MWMessageDeliveryStatus").getSeenCount(o)}):i.jsx("div",{children:d("MWMessageDeliveryStatus").Titles.loading})]})},[e,q,o])};function a(a){var b=a.children,d=a.message;a=c("MWClickedMessageContext.react").useHook();var e=a.fetchMessageSeenCount;return i.jsx(c("MWXTooltip.react"),{align:"middle",onVisibilityChange:function(a){a&&e(d.threadKey,d.messageId)},position:"start",tooltip:i.jsx(n,{message:d}),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPublicChatNUXDialog.bs",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","LSMessagingThreadTypeUtil","MWPublicChatsNUXQuickPromotionContainer.entrypoint","bs_caml_option","react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){a=a.thread;var b=j(function(){}),e=b[0],f=b[1],g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),k=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType);i(function(){e==null&&k&&f(function(){return c("bs_caml_option").some(d("CometRelay").loadEntryPoint(g,c("MWPublicChatsNUXQuickPromotionContainer.entrypoint"),{}))});return function(){if(e!=null)return c("bs_caml_option").valFromOption(e).dispose()}},[e,g,k]);if(e!=null)return h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:c("bs_caml_option").valFromOption(e),props:{}})})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageListProtectedMedia.bs",["fbt","$InternalEnum","CometPressable.react","MWLSThreadDisplayContext","MWVerticalRhythm","MWXText.react","emptyFunction","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useMemo,k=e.useRef,l=e.useState,m=b("$InternalEnum").Mirrored(["Protected","Blurred","Unprotected"]),n={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6",$$css:!0},containerForInbox:{minWidth:"xlm99nl",$$css:!0},containerUncoverable:{minWidth:"xfb3i0g",$$css:!0},overlay:{maxWidth:"x193iq5w",":before_content":"x1gftdam",":before_height":"xw22vqi",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_top":"x1ehtkf2",":before_width":"xy7dqi3",":before_zIndex":"x1wl4osp",$$css:!0},overlayBlurred:{filter:"xj2j9hd",$$css:!0},overlayDisabled:{pointerEvents:"x47corl",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},sneezeguard:{backgroundColor:"x11dxs5c",height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},sneezeguardTransparent:{backgroundColor:"x1cw4mn1",$$css:!0}};function o(a){var b=a.mediaType,d=a.state;a=a.uncoverable;a=a===void 0?!0:a;var e=h._("__JHASH__ffo2a6Rimy8__JHASH__"),f=h._("__JHASH__SmhjEO8LZM7__JHASH__"),g=h._("__JHASH__fSHhveuOoUn__JHASH__"),j=h._("__JHASH__9LbnXUNEOkH__JHASH__"),k=h._("__JHASH__grSMjsZRe9-__JHASH__"),l=h._("__JHASH__4a9auIct2D0__JHASH__"),n=h._("__JHASH___nqNxb75_gn__JHASH__"),o=h._("__JHASH__cegqh2566-V__JHASH__"),p=h._("__JHASH__NU6koyzdQfy__JHASH__");f=i.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"body3",children:b==="Image"?f:b==="Video"?e:g});return d===m.Unprotected?null:i.jsx("div",{"aria-live":"polite","aria-relevant":"all",className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d xl56j7k xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x17qophe x13vifvy xh8yej3 xhtitgo",children:i.jsx("div",{className:"x78zum5 xdt5ytf xurgmgr x2b8uid",children:d===m.Protected?i.jsxs(i.Fragment,{children:[f,a?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:25}),i.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?k:b==="Video"?j:l})]}):null]}):i.jsxs(i.Fragment,{children:[f,i.jsx(c("MWVerticalRhythm"),{height:25}),i.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?o:b==="Video"?n:p})]})})},d)}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.ariaLabel,e=a.children,f=a.linkProps,g=a.mediaType,h=a.onPress,p=h===void 0?c("emptyFunction"):h;h=a.overlayDisabled;h=h===void 0?!1:h;var q=a.testid,r=a.type,s=a.url;q=a.xstyle;a=a.uncoverable;a=a===void 0?!0:a;var t=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),u=l(m.Protected),v=u[0],w=u[1],x=v===m.Unprotected;u=v===m.Blurred;var y=k(null),z=j(function(){return{url:"#"}},[]),A=j(function(){if(r==="video")return;if(s!=null)return{backgroundImage:"url("+s+")",backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"}},[s,r]);t=i.jsxs("div",{className:c("stylex")(n.container,t==="Inbox"?n.containerForInbox:!1,a?n.containerUncoverable:!1),children:[i.jsx("div",{style:A}),i.jsx("div",{"aria-hidden":!x,className:c("stylex")(n.overlay,!x&&n.overlayDisabled,u&&n.overlayBlurred),children:e}),x?null:i.jsx("div",{className:c("stylex")(n.sneezeguard,u&&n.sneezeguardTransparent)}),i.jsx(o,{mediaType:g,state:v,uncoverable:a})]});return!a?i.jsx("div",{className:c("stylex")(q,n.pressable),"data-testid":void 0,children:t}):i.jsx(c("CometPressable.react"),{"aria-label":x?b:void 0,linkProps:x?f:z,onPress:function(){x?p():w(function(a){switch(a){case m.Protected:return m.Blurred;case m.Blurred:c("setTimeout")(function(){var a=y.current;if(a!=null)return a.focus()},0);return m.Unprotected;case m.Unprotected:return a}})},overlayDisabled:h,ref:y,testid:void 0,xstyle:[q,n.pressable],children:t})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCMPollsV2Enabled",["LSIntEnum","LSThreadBitOffset","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWLSThread","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return{pollsV2UICapability:d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(159),a),threadSubtype:a.threadSubtype,threadType:a.threadType}}))!=null?a:{};var b=a.pollsV2UICapability,e=a.threadSubtype;a=a.threadType;if(a==null||b==null)return!1;var f=d("MWCMThreadTypes.react").isBroadcastThread(a)&&c("gkx")("3356");a=!d("MWCMThreadTypes.react").isBroadcastThread(a)&&c("MWCMIsAnyCMThread")(a)&&c("gkx")("7860");e=e!=null?d("MWCMThreadTypes.react").isIGBroadcastChannelThread(e):!1;return(f||a||e)&&b}g["default"]=a}),98);
__d("FBLikeSvgIcon.react",["react","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.alt,d=a.className,e=a.color;a=a.size;a=a===void 0?20:a;var f=b!=null,g=c("useCometUniqueID")();return h.jsxs("svg",{"aria-hidden":f?void 0:!0,"aria-labelledby":f?g:void 0,className:d,height:a,viewBox:"0 0 16 16",width:a,children:[f&&h.jsx("title",{id:g,children:b}),h.jsx("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z",fill:e}),h.jsx("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z",fill:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLikeSvgIcon.react",["cr:1798"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1798")}),98);
__d("MessengerColors",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=!1);var c=100/(a.length-1);b=b?a.slice():a.slice().reverse();a=b.map(function(a,b){return a+" "+b*c+"%"}).join(",");return"radial-gradient(circle at center 75%, "+a+")"}function b(a,b,c){var d={};if(a){b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;if(a.length&&a.length>0)if(a.length===1)d.backgroundColor=a[0];else if(a.length===2)d.backgroundImage="linear-gradient("+a[0]+", "+a[1]+")";else{var e=a.length,f=100/(e-1);e=a.map(function(a,b){return a+" "+b*f+"%"}).join(", ");d.backgroundImage="linear-gradient("+e+")"}}else b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;return d}f.makeRadialGradient=a;f.makeLinearGradient=b}),66);
__d("MessengerCustomColorUtils.bs",["cssVar","CurrentUser"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(c("CurrentUser").isWorkUser())return"#373e4c";else return"#0099ff"}function a(a){a=a.solid_color;if(a==null)return i();else return a}g.defaultColor=i;g.customColorOrBlue=a}),98);
__d("MessengerHotLikeIconSVGM4React.bs",["cx","CurrentUser","MessengerColors","MessengerCustomColorUtils.bs","MessengerEnvironment","gkx","react","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return i.jsx("path",{d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:a})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.color;a=j(a);if(c("MessengerEnvironment").messengerui&&!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))return i.jsx("svg",{className:"_7oal",width:"36px",height:"36px",viewBox:"0 1 36 36",children:a});else return i.jsx("svg",{width:"32px",height:"32px",viewBox:"0 0 36 36",children:a})}function b(a){a=a.thread;var b=i.useState(function(){return c("uniqueID")()});b=b[0];var e=j("black");return i.jsxs(i.Fragment,{children:[i.jsxs("svg",{viewBox:"0 0 36 36",style:{height:"100%",position:"absolute",width:"100%"},children:[i.jsxs("mask",{id:b,children:[i.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),e]}),i.jsx("rect",{className:"_8rsr",width:"100%",height:"100%",mask:"url(#"+b+")",fill:"white"})]}),i.jsx("div",{style:babelHelpers["extends"]({},d("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,d("MessengerCustomColorUtils.bs").defaultColor()),{backgroundAttachment:"fixed",height:"95%",margin:"auto",width:"95%"})})]})}b.displayName=b.name+" [from "+f.id+"]";e=a;h=b;g.pathHotLike=j;g.make=e;g.makeWithGradient=h}),98);
__d("MessengerHotLikeSVGReact.bs",["cssVar","cx","fbt","CurrentUser","MWLikeSvgIcon.react","MessengerEnvironment","bs_belt_Option","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=j._("__JHASH__fqLNX_G5Htn__JHASH__");function a(a){var b=a.className;a=a.color;var d,e=0;a==null||a===""?e=1:d=a;e===1&&(d=c("CurrentUser").isWorkUser()?"#373e4c":c("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");return k.jsx("div",{className:c("joinClasses")(c("bs_belt_Option").getWithDefault(b,""),"_1i1j"),"data-testid":void 0,children:k.jsx(c("MWLikeSvgIcon.react"),{alt:l,color:d,size:"100%"})})}a.displayName=a.name+" [from "+f.id+"]";b="transparent";e=a;g.cTRANSPARENT=b;g.make=e}),98);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._("__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a,b){b===void 0&&(b=1024);if(a==null)return null;if(a===0)return i[j](0);var c=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,c);a=Math.round(a*100)/100;return i[c](a)}g["default"]=a}),98);
__d("StickerConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120});f["default"]=a}),66);
__d("Sticker.react",["cx","fbt","Arbiter","CurrentUser","JSResource","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeSVGReact.bs","PaddedStickerConfig","StickerConstants","clearInterval","emptyFunction","getElementPosition","gkx","joinClasses","lazyLoadComponent","nullthrows","react","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").Suspense,l=c("lazyLoadComponent")(c("JSResource")("StickerPopoverImage.react").__setRef("Sticker.react")),m=c("lazyLoadComponent")(c("JSResource")("GeoPopover.react").__setRef("Sticker.react")),n=83;a=5e3;var o=10,p={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.__stopIntervalID=null,c.$1=!1,c.$2=j.createRef(),c.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},c.toggleAnimation=function(){c.isAnimating()?c.stopAnimation():c.startAnimation()},c.incrementFrameIndex=function(){c.shouldStopAnimating()?c.stopAnimation():c.setState({index:c.state.index+1})},c.onStickerClick=function(){if(!c.$3(c.props.packID))return;c.props.onStickerClick&&c.props.onStickerClick(c.props.packID,c.props.stickerID)},c.mouseLeft=function(){c.setState({isHovered:!1})},c.mouseEntered=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusSelected=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusUnselected=function(){c.setState({isHovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=!0;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this.__stopIntervalID=null;(this.props.animationTrigger===p.LOAD_AND_HOVER||this.props.animationTrigger===p.ANIMATE_FOREVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount&&this.props.frameCount>1){var b=c("Arbiter").subscribe(this.props.subscribedThreadID,function(b,c){a.isScrolledIntoView(c.scrollTop,c.viewHeight,c.top)});this.setState({unsubscribeID:b})}};e.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&c("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&c("clearInterval")(this.__stopIntervalID)};e.isAnimating=function(){return!!this.__stopIntervalID};e.getWidth=function(){var a;return Math.floor((a=this.props.sourceWidth)!=null?a:0)};e.getHeight=function(){var a;return Math.floor((a=this.props.sourceHeight)!=null?a:0)};e.preloadSprite=function(){var a=this,b=new window.Image();b.onload=function(){a.$1&&!a.state.hasAnimated&&(a.setState({hasAnimated:!0}),a.__stopIntervalID=c("setIntervalAcrossTransitions")(a.incrementFrameIndex,a.props.frameRate))};c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?b.src=this.props.paddedSpriteURI:b.src=this.props.spriteURI};e.isScrolledIntoView=function(a,b,d){var e=c("getElementPosition")(this.$2.current);d=a+e.y-d;b=a+b;e=d+e.height;this.props.frameCount&&this.props.frameCount>1&&!this.state.hasAnimated&&e-o<=b&&d+o>=a&&this.startAnimation()};e.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))};e.stopAnimation=function(){this.setState({index:0}),c("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null};e.shouldStopAnimating=function(){var a;if(!this.props.frameCount)return!0;var b=this.state.index%this.props.frameCount;if(this.props.animationTrigger===p.ANIMATE_FOREVER)return!1;a=(a=this.props.frameRate)!=null?a:n;if(!(b===0&&this.state.index*a>this.props.animationTime))return!1;return this.props.animationTrigger===p.CLICK?!0:!this.state.isHovered};e.getStyle=function(){var a,b=0,d=this.props.spriteURI;a=(a=this.props.scale)!=null?a:1;var e=this.getHeight()*a;a=this.getWidth()*a;if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){d=this.props.paddedSpriteURI;var f=240/Math.min(e,a);b=Math.floor(parseInt(c("StickerConstants").SPRITE_PADDING,10)/f)}f=this.props.frameCount?this.state.index%this.props.frameCount:0;var g=this.props.framesPerRow?f%this.props.framesPerRow*(a+b*2)+b:0;f=this.props.framesPerRow?Math.floor(f/this.props.framesPerRow)*(e+b*2)+b:0;var h=this.props.frameCount&&this.props.frameCount>1&&this.props.animationTrigger===p.CLICK||this.$3(this.props.packID);h=this.props.forceCursorPointer||h?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI||!d||!this.props.framesPerRow||!this.props.framesPerCol)return{backgroundImage:this.$4()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:a+"px "+e+"px",cursor:h,height:e,width:a};else return{backgroundSize:(a+b*2)*this.props.framesPerRow+"px "+(e+b*2)*this.props.framesPerCol+"px",backgroundImage:"url("+d.toString()+")",backgroundPosition:-g+"px "+-f+"px",cursor:h,height:e,width:a,imageRendering:"-webkit-optimize-contrast"}};e.$3=function(a){return a&&a!=c("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=c("StickerConstants").GRAVEYARD_PACK_ID};e.getAriaLabel=function(){var a;return i._("__JHASH__XuqBXexse6H__JHASH__",[i._param("pack name",(a=this.props.packName)!=null?a:""),i._param("sticker name",this.props.accessibilityLabel)])};e.render=function(){var a,b;this.props.animationTrigger===p.CLICK&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===p.HOVER||this.props.animationTrigger===p.LOAD_AND_HOVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&(b=!0);var e=a?this.toggleAnimation:null;this.props.packID&&(e=this.onStickerClick);var f=this.props.className,g=null;this.$4()&&(f=c("joinClasses")(f,"_576q"),(!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))&&this.props.thread!=null?g=j.jsx(d("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,{thread:this.props.thread}):g=j.jsx(d("MessengerHotLikeSVGReact.bs").make,{color:this.props.customColor}));f=j.jsx("div",{"aria-label":this.getAriaLabel(),className:f,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:e,onFocus:this.tabFocusSelected,onMouseEnter:b?this.mouseEntered:null,onMouseLeave:b?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,ref:this.$2,children:g});return this.props.enablePopoverIfPassesGK&&c("gkx")("4316")?j.jsx(m,{content:j.jsx(k,{fallback:"Loading...",children:j.jsx(l,{stickerID:c("nullthrows")(this.props.stickerID)})}),heading:"",isSticky:!1,children:f}):f};e.$4=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1};return b}(j.Component);b.defaultProps={animationTime:a,accessibilityLabel:"",forceCursorPointer:!1,frameRate:n,onStickerClick:c("emptyFunction"),packID:null,packName:"",tabIndex:0};g["default"]=b}),98);
__d("idx",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{return b(a)}catch(a){if(a instanceof TypeError)if(h(a))return null;else if(j(a))return void 0;throw a}}var g;function h(a){a=a.message;g||(g=k("null"));return g.test(a)}var i;function j(a){a=a.message;i||(i=k("undefined"));return i.test(a)}function k(a){return new RegExp("^"+a+" | "+a+"$|^[^\\(]* "+a+" ")}f["default"]=a}),66);
__d("BrowserPermissionPolicyClientFeatureAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4883");b=d("FalcoLoggerInternal").create("browser_permission_policy_client_feature_access",a);e=b;g["default"]=e}),98);
__d("MessageSendClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1891340");b=d("FalcoLoggerInternal").create("message_send_click",a);e=b;g["default"]=e}),98);
__d("BrowserFeatureInstrumentation",["BrowserPermissionPolicyClientFeatureAccessFalcoEvent","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(c("killswitch")("SAF_BROWSER_PERMISSIONS_POLICY_CLIENT_LOGGING"))return;c("BrowserPermissionPolicyClientFeatureAccessFalcoEvent").log(function(){return{uri:window.location.origin+window.location.pathname,browser_feature:a,caller:b}})}g["default"]=a}),98);
__d("useMessengerWebThreadSeenLogging",["CometDebounce","Int64Hooks","logMessengerWebFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function a(a){var b=a.entryPoint,c=a.threadKey,e=a.threadType;return d("Int64Hooks").useCallbackInt64(function(){b!=null&&h({threadKey:c,threadType:e},"seen_receipt",b)},[b,c,e])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSGetLocalizedReplySnippet",["LSGetThreadParticipantDisplayName","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.eq(a[3],c.i64.cast([0,1]))?c.seq([function(e){return c.i64.eq(a[1],d[0])?c.seq([function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2421884758]),f).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2676961947]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,3298086032]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.seq([function(e){return c.i64.eq(a[1],a[2])?c.seq([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,3873263038]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,2616853333]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}]):c.seq([function(e){return c.i64.eq(a[1],d[0])?c.seq([function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,4002265907]),f).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2663996736]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.seq([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,2868699317]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.seq([function(e){return c.i64.eq(a[1],a[2])?c.seq([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,2688620547]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.seq([function(e){return c.sp(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,3544071775]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSInsertOptimisticAttachment",["LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[0],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[2]&&b.attachmentFbid===a[4]&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[0],messageId:a[2],attachmentFbid:a[4],timestampMs:a[1],offlineAttachmentId:a[3],attachmentType:a[5],filename:a[6],attributionAppId:a[7],hasMedia:a[8],isSharable:!1,hasXma:a[9],authorityLevel:c.i64.cast([0,20])})},function(d){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[0],a[2],a[1],e,!1,c.i64.eq(a[5],c.i64.cast([0,1])))}])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("LSIssueSendAttachmentMessageTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSIssueNewTaskAndGetTaskID","LSPredefineTraceForTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.i64.of_int32(a[5].length),c.i64.gt(d[0],c.i64.cast([0,0]))?c.loopAsync(d[0],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[5],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],a[3]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[3]&&c.i64.eq(b.attachmentIndex,d[3])&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(a){var b=a.update;a.item;return b({attachmentFbid:c.i64.to_string(d[4])})})}])}):c.resolve()},function(e){return c.i64.eq(f,c.i64.cast([0,12]))?d[1]=c.i64.cast([0,10]):(a[9]?d[3]=c.i64.cast([0,9]):d[3]=c.i64.cast([0,3]),d[1]=d[3]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(e){return a[12]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[12],d[2],c.i64.to_string(c.i64.cast([0,46])),a[3])},function(d){return c.sp(b("LSAppendDataTraceAddon"),a[12],c.i64.cast([0,20]),c.i64.cast([0,1]),f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[2],threadKey:a[1],offlineThreadingId:a[3],threadAttributionSource:a[6],platformRef:a[10],platformToken:a[11],replySourceId:a[7],replySourceType:a[8],sendType:d[1],markThreadRead:!1})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),e,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],f):(d=a.item,f=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,d.primarySortKey,d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey],c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],f)})},function(d){return b.sb(b.ftr(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),e,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=f[0],c[11]=f[1],c[12]=f[2],c[13]=f[3],c[14]=f[4],c[15]=f[5],c[16]=f[6],c[17]=f[7],c[18]=f[8],f):(d=a.item,f=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=f[0],c[11]=f[1],c[12]=f[2],c[13]=f[3],c[14]=f[4],c[15]=f[5],c[16]=f[6],c[17]=f[7],c[18]=f[8],f)})},function(d){return b.sb(b.ftr(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var f=a.done;a=a.value;return f?(f=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),e,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=f[0],c[21]=f[1],c[22]=f[2],c[23]=f[3],c[24]=f[4],c[25]=f[5],c[26]=f[6],c[27]=f[7],c[28]=f[8],f):(d=a.item,f=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=f[0],c[21]=f[1],c[22]=f[2],c[23]=f[3],c[24]=f[4],c[25]=f[5],c[26]=f[6],c[27]=f[7],c[28]=f[8],f)})},function(d){return c[32]=b.i64.or_(b.i64.cast([0,2]),b.i64.or_(!c[3]&&!a[3]?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.or_(c[3]?b.i64.cast([0,0]):b.i64.cast([0,1]),b.i64.or_(b.i64.eq(c[5],b.i64.cast([0,60]))||b.i64.eq(c[5],b.i64.cast([0,80]))?b.i64.cast([0,1048576]):b.i64.cast([0,0]),b.i64.neq(c[6],b.i64.cast([85970,924785702]))&&b.i64.neq(c[6],b.i64.cast([85970,1004785694]))&&b.i64.neq(c[6],b.i64.cast([85970,1044785690]))?b.i64.cast([0,0]):b.i64.cast([0,2097152]))))),c[14]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[12],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[32],b.i64.cast([0,16])):c[32],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[30],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[22],b.i64.cast([0,16])):c[22],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),f!==f?c.resolve(d[1]=f):c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[1]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.seq([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([-1,4294967295]):(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],c.i64.cast([0,1])),d[13]=c.i64.gt(d[0],d[11])?d[0]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,40]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:c.i64.cast([0,0]),threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,40])})},function(b){return c.i64.eq(a[2],c.i64.cast([0,13]))||c.i64.eq(a[2],c.i64.cast([0,7]))||c.i64.eq(a[2],c.i64.cast([0,1]))?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}]):c.resolve()},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[17]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[16],d[17],f,f)}]):c.resolve()}]):(e.item,c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f})}))})}])},function(e){return c.seq([function(b){return c.islc(c.ftr(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,40])))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[33]=c.i64.of_float(Date.now()),d[9]=d[33]):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==f&&(c.i64.eq(a[9],c.i64.cast([0,1]))||c.i64.eq(a[10],c.i64.cast([0,1])))?c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(i=[a[8],f,f,c.i64.cast([0,0]),f,f,f,f,f,f,f,f,f,f,f,f],d[33]=i[0],d[34]=i[1],d[35]=i[2],d[36]=i[3],d[37]=i[4],d[38]=i[5],d[39]=i[6],d[40]=i[7],d[41]=i[8],d[42]=i[9],d[43]=i[10],d[44]=i[11],d[45]=i[12],d[46]=i[13],d[47]=i[14],d[48]=i[15],i):(h=e.item,c.seq([function(e){return d[54]=h.senderId,d[53]=h.stickerId,c.i64.neq(d[53],f)?(e=[d[53],c.i64.cast([0,4])],d[56]=e[0],d[57]=e[1],e):(e=[f,f],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],e,d[55]=h.replyType==null?c.i64.cast([0,0]):h.replyType,c.seq([function(e){return c.sp(b("LSGetLocalizedReplySnippet"),a[1],a[0],d[54],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(b){return d[52]=c.i64.eq(a[10],c.i64.cast([0,1]))?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],c.i64.cast([0,1]),d[52],d[54],h.text,d[50],d[51],f,f,f,f,f,f,d[55]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===f||c.i64.eq(a[9],c.i64.cast([0,0]))||c.i64.eq(a[10],c.i64.cast([0,0]))?(e=[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],c.i64.cast([0,1]),f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[f,f,f,f],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=c.i64.cast([0,3]):d[32]=d[13],c.i64.eq(c.i64.cast([0,20]),c.i64.cast([0,20]))?c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[9],secondarySortKey:d[0],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.seq([function(a){return c.db.table(12).fetch([[[d[1]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[0],f],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.fe(c.ftr(c.db.table(12).fetch([[[d[1]]],"optimistic"]),function(a){return a.offlineThreadingId===d[1]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[2]=c.createArray(),d[3]=(d[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[2]),d[4]=(d[2].push("localApplyOptimisticMessage"),d[2]),d[5]=(d[2].push(a[1]),d[2]),d[6]=(d[2].push(d[1]),d[2]),d[7]=c.toJSON(d[2]),function(a){c.logger(a).info(a)}(d[7]),a[14]?c.seq([function(e){return c.sp(b("LSSetMessageViewFlags"),a[1],d[1],d[0],c.i64.eq(a[2],c.i64.cast([0,1])))},function(e){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[1],d[0],a[3],!1,c.i64.neq(a[6],f))}]):c.resolve()},function(a){return a=[d[1],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateOptimisticAttachmentPreview",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(c){return c.attachmentFbid===a[2]&&b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.authorityLevel,b.i64.cast([0,20]))}),function(b){var c=b.update;b.item;return c({playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],previewUrl:a[7],previewUrlFallback:a[8],previewUrlExpirationTimestampMs:a[9],previewUrlMimeType:a[10],previewWidth:a[11],previewHeight:a[12],imageUrl:d,imageUrlFallback:d,imageUrlExpirationTimestampMs:d,imageUrlMimeType:d})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticSendAttachmentForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[1]=a[3]===""?f:a[3],d[1]!==f?c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],d[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===d[1]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(b){var d=b.update;b.item;return d({attachmentFbid:c.i64.to_string(a[7])})})},function(a){return d[0]=d[1]}]):c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],f,f,f,f,c.i64.cast([0,3]),f,f,f,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return c.ftr(c.db.table(16).fetch(),function(b){return b.attachmentFbid===c.i64.to_string(a[7])}).next().then(function(e,h){var i=e.done;e=e.value;return i?c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),c.i64.cast([0,2]),f,f,!0,!1):(h=e.item,c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),h.attachmentType,h.filename,h.attributionAppId,!0,!1)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[2],c.i64.to_string(a[7]),h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}]))})},function(a){return d[0]=d[2]}])},function(e){return c.seq([function(e){return d[2]=c.createArray(),d[4]=(d[2].push(a[7]),d[2]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[8],sendType:c.i64.cast([0,4]),markThreadRead:!1,initiatingSource:a[9]})}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticSendMessageForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[3],a[4],a[5]]]]),function(b){return c.i64.eq(b.threadKey,a[3])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.timestampMs,a[4])&&b.messageId===a[5]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}).next().then(function(e,h){var i=e.done;e=e.value;return i?(d[2]=c.createArray(),d[3]=(d[2].push("optimisticSendMessageForward msg not found"),d[2]),d[4]=(d[2].push(a[5]),d[2]),d[5]=c.toJSON(d[2]),function(a){c.logger(a).mustfix(a)}(d[5]),d[0]=""):(h=e.item,c.seq([function(e){return d[8]=h.forwardScore,d[2]=h.text,d[3]=d[8],c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],d[2],f,f,h.stickerId,h.hotEmojiSize,f,f,c.i64.cast([0,3]),f,d[3],f,!0).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(e){return c.fe(c.db.table(16).fetch([[[h.threadKey,h.messageId]]]),function(e){var h=e.item;return c.seq([function(e){return d[13]=h.attachmentFbid,d[9]=c.createArray(),d[10]=(d[9].push(d[13]),d[9]),d[11]=(d[9].push(d[4]),d[9]),d[12]=c.toJSON(d[9]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[5],d[4],d[13],d[12],h.attachmentType,h.filename,f,h.hasMedia,h.hasXma)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[4],d[12],h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}])})},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return f!==f?c.sp(b("LSPredefineTraceForTask"),f,d[6],c.i64.to_string(c.i64.cast([0,46])),d[4]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[6],threadKey:a[1],offlineThreadingId:d[4],messageId:a[5],threadAttributionSource:a[6],sendType:c.i64.cast([0,5]),markThreadRead:!1,initiatingSource:a[7]})},function(b){return d[9]=new c.Map(),d[10]=d[9].set("optimisticSendMessageForward",a[1]),d[11]=d[9].set("fwdMsgID",a[5]),d[12]=c.toJSON(d[9]),d[7]=d[12],function(a){c.logger(a).info(a)}(d[7]),d[0]=d[4]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSAppendDataTraceAddon.bs",["LSAppendDataTraceAddon","LSFactory","Promise","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d,e,f,g,h,i){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return b("Promise").resolve();else{return c("LSAppendDataTraceAddon")(e,f,g,(d=h)!=null?d:"",(e=i)!=null?e:"",c("LSFactory")(a))}}d=a;g.call=d}),98);
__d("LSAppendDataTraceAddon.nop",["LSAppendDataTraceAddon.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f,g,h){return d("LSAppendDataTraceAddon.bs").call(a,b,c,e,f,g,h)};g["default"]=a}),98);
__d("LSOptimisticSendMessage",["LSAppendDataTraceAddon.nop","LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSLogEventAnnotate.nop","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[18],a[19],a[21]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[10]=a[9]===""?f:a[9],d[10]!==f?c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],c.i64.cast([0,3]),d[10],a[10],!0,!1)},function(e){return a[22]?d[11]=!1:d[11]=!0,d[11]?c.resolve():(d[12]=a[22].get("playable_url"),a[22],d[13]=a[22].get("playable_url_fallback"),a[22],d[14]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[15]=a[22].get("playable_url_mime_type"),a[22],d[16]=a[22].get("preview_url"),a[22],d[17]=a[22].get("preview_url_fallback"),a[22],d[18]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[19]=a[22].get("preview_url_mime_type"),a[22],d[20]=a[22].get("preview_width"),a[22],d[21]=a[22].get("preview_height"),a[22],d[22]=a[22].get("image_url"),a[22],d[23]=a[22].get("image_url_fallback"),a[22],d[24]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[25]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21]))},function(a){return d[2]=c.i64.cast([0,7])}]):c.seq([function(e){return c.i64.neq(a[7],f)?c.seq([function(e){return c.i64.neq(a[7],c.i64.cast([53057,267535043]))&&c.i64.neq(a[7],c.i64.cast([85970,924785702]))&&c.i64.neq(a[7],c.i64.cast([85970,1004785694]))&&c.i64.neq(a[7],c.i64.cast([85970,1044785690]))?c.seq([function(e){return d[13]=c.i64.to_string(a[7]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(a[7]),d[13],c.i64.cast([0,1]),f,f,!0,!1)},function(e){return a[22]?d[12]=!1:d[12]=!0,d[12]?c.resolve():(d[14]=a[22].get("playable_url"),a[22],d[15]=a[22].get("playable_url_fallback"),a[22],d[16]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[17]=a[22].get("playable_url_mime_type"),a[22],d[18]=a[22].get("preview_url"),a[22],d[19]=a[22].get("preview_url_fallback"),a[22],d[20]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[21]=a[22].get("preview_url_mime_type"),a[22],d[22]=a[22].get("preview_width"),a[22],d[23]=a[22].get("preview_height"),a[22],d[24]=a[22].get("image_url"),a[22],d[25]=a[22].get("image_url_fallback"),a[22],d[26]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[27]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23]))}]):c.resolve()},function(a){return d[11]=c.i64.cast([0,2])}]):c.resolve(d[11]=c.i64.cast([0,1]))},function(a){return d[2]=d[11]}])},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(e){return a[24]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[24],d[3],c.i64.to_string(c.i64.cast([0,46])),d[0])},function(d){return c.nop(b("LSAppendDataTraceAddon.nop"),a[24],c.i64.cast([0,20]),c.i64.cast([0,1]),f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[11],externalAttachmentUrl:a[9],platformRef:a[12],platformToken:a[13],replySourceId:a[14],replySourceType:a[15],sendType:d[2],markThreadRead:a[20]==null?!1:a[20],initiatingSource:a[23],skipUrlPreviewGen:a[25],textHasLinks:a[26]})},function(e){return(a[20]==null?!1:a[20])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[4]=c.createArray(),d[5]=(d[4].push("optimisticSendMessage"),d[4]),d[6]=(d[4].push(a[1]),d[4]),d[7]=(d[4].push(d[0]),d[4]),d[8]=c.toJSON(d[4]),function(a){c.logger(a).info(a)}(d[8]),d[9]=new c.Map(),d[9].set("offline_threading_id",d[0]),d[9].set("task_id",d[3]),d[9].set("task_queue_name",c.i64.to_string(a[1])),d[9].set("task_label",c.i64.to_string(c.i64.cast([0,1]))),c.nop(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[9])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSGetMessageAttributionParams",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.ftr(b.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[e,e,e],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.threadAttributionSource,b.platformRef,b.platformToken],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSInsertPhase2PendingTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=e:(b=a.item,c[0]=b.threadKey)})},function(d){return b.i64.neq(c[0],e)?b.seq([function(d){return c[3]=b.i64.of_float(Date.now()),b.db.table(2).add({taskId:void 0,taskValue:a[0],queueName:[b.i64.to_string(c[0]),"_multi_media"].join(""),context:"4",enqueueTimestampMs:c[3],pluginType:a[1]})},function(a){return c[2]=e}]):b.resolve(c[2]=b.i64.cast([0,1002]))},function(a){return d[0]=c[2]}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSMarkSubJobCompletedV2",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return d[0]=c.createArray(),c.db.table(51).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[3]=new c.Map(),d[3].set("offline_attachment_id",b.offlineAttachmentId),d[3].set("offline_threading_id",b.offlineThreadingId),d[3].set("in_message_index",b.inMessageIndex),d[3].set("attachment_type",b.attachmentType),d[3].set("should_transcode",b.shouldTranscode),d[3].set("use_double_phase",b.useDoublePhase),d[3].set("send_by_server",b.sendByServer),d[3].set("is_secure",b.isSecure),d[3].set("state",b.state),d[3].set("fbid",b.fbid),d[3].set("metadata",b.metadata),d[3].set("error",b.error),d[3].set("message_id",b.messageId),d[4]=(d[0].push(d[3]),d[0]))})},function(e){return d[2]=c.i64.of_int32(d[0].length),c.i64.neq(d[2],c.i64.cast([0,0]))?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[0],c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(b){return d[5]=d[3].get("state"),d[3],c.i64.neq(a[1],f)?a[2]!==f?(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],messageId:a[2],metadata:a[3]})})):(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],metadata:a[3]})})):c.i64.neq(a[4],f)?(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],error:a[4]})})):(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({state:d[6]})}))}]):c.resolve()}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRemoveMediaSendJobs",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSSendPhase1MultiPhotoMessageV2",["LSArrayGetObjectAt","LSGetMessageAttributionParams","LSIssueSendAttachmentMessageTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=c.createArray(),d[1]=new c.Map(),d[2]=new c.Map(),d[3]=!1,d[4]=c.i64.cast([0,0]),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[7]=a.fbid,d[4]=c.i64.add(d[4],c.i64.cast([0,1])),c.i64.neq(d[7],f)?d[8]=(d[0].push(d[7]),d[0]):0})},function(e){return d[5]=c.i64.of_int32(d[0].length),c.i64.neq(d[5],d[4])||c.i64.eq(d[4],c.i64.cast([0,0]))?c.resolve(d[6]=c.i64.cast([0,10002])):c.seq([function(b){return c.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[7]=c[0],d[8]=c[1],d[9]=c[2],d[10]=c[3],d[11]=c[4],c):(b=a.item,c=[b.threadKey,b.senderId,b.text,b.replySourceId,b.replySourceTypeV2],d[7]=c[0],d[8]=c[1],d[9]=c[2],d[10]=c[3],d[11]=c[4],c)})},function(e){return c.i64.eq(d[7],f)||c.i64.eq(d[8],f)?c.resolve((c.i64.eq(d[7],f)?d[14]=c.i64.cast([0,10003]):d[14]=c.i64.cast([0,10004]),d[13]=d[14])):c.seq([function(a){return c.db.table(9).fetch([[[d[7]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=f:(b=a.item,d[14]=b.threadType)})},function(b){return c.ftr(c.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[16]=c[0],d[17]=c[1],d[18]=c[2],d[19]=c[3],d[20]=c[4],c):(b=a.item,c=[b.platformRef,b.platformToken,b.initiatingSource,f,f],d[16]=c[0],d[17]=c[1],d[18]=c[2],d[19]=c[3],d[20]=c[4],c)})},function(e){return c.i64.neq(d[14],f)?c.seq([function(e){return d[23]=d[1].keys(),d[24]=c.i64.of_int32(d[23].length),c.i64.gt(d[24],c.i64.cast([0,0]))?c.loopAsync(d[24],function(e){return d[30]=e,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[23],d[30]).then(function(a){return a=a,d[31]=a[0],d[32]=a[1],a})},function(e){return d[33]=d[2].get(d[31]),d[2],d[34]=c.i64.to_string(d[33]),d[34]!==f?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[23],d[30]).then(function(a){return a=a,d[35]=a[0],d[36]=a[1],a})},function(b){return d[37]=d[1].get(d[31]),d[1],c.fe(c.ftr(c.db.table(16).fetch([[[d[7],a[0],d[35]]]]),function(b){return c.i64.eq(b.threadKey,d[7])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[0]&&b.attachmentFbid===d[35]}),function(a){var b=a.update;a.item;return b({attachmentFbid:d[34],originalFileHash:d[37]})})}]):c.resolve()}])}):c.resolve()},function(e){return c.sp(b("LSGetMessageAttributionParams"),a[0]).then(function(a){return a=a,d[25]=a[0],d[26]=a[1],d[27]=a[2],a})},function(e){return c.i64.neq(d[25],f)?d[28]=d[25]:d[28]=c.i64.cast([0,0]),c.sp(b("LSIssueSendAttachmentMessageTask"),d[8],d[7],d[14],a[0],d[9],d[0],d[28],d[10],d[11],d[3],d[16],d[17],a[1])},function(a){return c.i64.ge(c.i64.cast([0,0]),c.i64.cast([0,0]))?d[29]=f:d[29]=c.i64.cast([0,10006]),d[22]=d[29]}]):c.resolve(d[22]=c.i64.cast([0,10005]))},function(a){return d[13]=d[22]}])},function(a){return d[6]=d[13]}])},function(a){return e[0]=d[6]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSResumeMediaSendJob",["LSInsertPhase2PendingTask","LSSendPhase1MultiPhotoMessageV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=new c.Map(),d[1]=new c.Map(),d[1].set("main_job_succeeded",!1),d[1].set("resume_failed",!1),d[1].set("error",f),d[1].set("running_sub_job_states",d[0]),d[2]=new c.Map(),d[2].set("should_transcode",!1),d[2].set("use_double_phase",!1),d[2].set("send_by_server",!1),d[2].set("is_secure",!1),d[2].set("should_dedupe",!1),c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?0:(b=a.item,d[2].set("should_transcode",b.shouldTranscode),d[2].set("use_double_phase",b.useDoublePhase),d[2].set("send_by_server",b.sendByServer),d[2].set("is_secure",b.isSecure))})},function(b){return d[4]=new c.Map(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[13]=a.offlineAttachmentId,d[11]=a.state,d[12]=a.error,c.i64.eq(d[11],c.i64.cast([-1,4294967293]))?d[10]=!0:(c.i64.eq(d[11],c.i64.cast([0,1]))?d[14]=!0:(c.i64.eq(d[11],c.i64.cast([0,3]))?d[15]=!0:(c.i64.eq(d[11],c.i64.cast([0,5]))?d[16]=!0:(c.i64.eq(d[11],c.i64.cast([0,13]))?d[17]=!0:(c.i64.eq(d[11],c.i64.cast([0,7]))?d[18]=!0:(c.i64.eq(d[11],c.i64.cast([0,9]))?d[19]=!0:(c.i64.eq(d[11],c.i64.cast([0,11]))?d[20]=!0:d[20]=!1,d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),d[10]=d[14]),d[10]?c.resolve(c.i64.eq(d[11],c.i64.cast([0,5]))||c.i64.eq(d[11],c.i64.cast([0,11]))?0:d[4].set(d[13],d[11])):c.i64.neq(d[12],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[12]))):(c.i64.eq(d[11],c.i64.cast([-1,4294967295]))?d[14]=c.i64.cast([0,5]):(c.i64.eq(d[11],c.i64.cast([-1,4294967294]))?(d[16]=d[2].get("should_transcode"),d[2],d[15]=d[16]?c.i64.cast([0,1]):c.i64.cast([0,3])):(c.i64.eq(d[11],c.i64.cast([0,2]))?d[16]=c.i64.cast([0,3]):(c.i64.eq(d[11],c.i64.cast([0,4]))?(d[18]=d[2].get("send_by_server"),d[2],d[19]=d[2].get("use_double_phase"),d[2],d[17]=d[18]?d[19]?c.i64.cast([0,13]):f:c.i64.cast([0,5])):(c.i64.eq(d[11],c.i64.cast([0,6]))?(d[19]=d[2].get("use_double_phase"),d[2],d[18]=d[19]?c.i64.cast([0,13]):f):(c.i64.eq(d[11],c.i64.cast([0,14]))?(d[20]=d[2].get("use_double_phase"),d[2],d[21]=d[2].get("should_transcode"),d[2],d[19]=d[20]?d[21]?c.i64.cast([0,7]):c.i64.cast([0,9]):f):(c.i64.eq(d[11],c.i64.cast([0,8]))?d[20]=c.i64.cast([0,9]):(c.i64.eq(d[11],c.i64.cast([0,10]))?(d[22]=d[2].get("send_by_server"),d[2],d[21]=d[22]?f:c.i64.cast([0,11])):(c.i64.eq(d[11],c.i64.cast([0,12]))?d[22]=f:d[22]=f,d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),c.i64.neq(d[14],f)?c.seq([function(a){return c.fe(c.db.table(51).fetch([[[d[13]]]]),function(a){var b=a.update;a.item;return b({state:d[14]})})},function(a){return c.i64.eq(d[14],c.i64.cast([0,5]))||c.i64.eq(d[14],c.i64.cast([0,11]))?0:d[4].set(d[13],d[14])}]):c.resolve())})},function(b){return c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[5]=f:(b=a.item,d[5]=b.state)})},function(e){return c.i64.neq(d[5],f)?(d[10]=d[2].get("send_by_server"),d[2],d[11]=d[2].get("use_double_phase"),d[2],d[12]=d[2].get("use_double_phase"),d[2],(d[10]?d[11]?c.i64.eq(d[5],c.i64.cast([0,10])):c.i64.eq(d[5],c.i64.cast([0,4])):d[12]?c.i64.eq(d[5],c.i64.cast([0,12])):c.i64.eq(d[5],c.i64.cast([0,6])))?c.resolve(d[1].set("main_job_succeeded",!0)):c.i64.eq(d[5],c.i64.cast([0,5]))?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[15]=a.error,c.i64.eq(d[15],f)?(c.i64.neq(a.fbid,f)?d[16]=f:d[16]=c.i64.cast([0,9]),d[14]=d[16]):d[14]=d[15],c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(e){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(e){return d[14]=d[2].get("is_secure"),d[2],d[14]?c.seq([function(b){return d[16]=c.createArray(),d[17]=new c.Map(),d[18]=new c.Map(),d[19]=!1,d[20]=c.i64.cast([0,0]),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[25]=a.fbid,d[20]=c.i64.add(d[20],c.i64.cast([0,1])),c.i64.neq(d[25],f)?d[26]=(d[16].push(d[25]),d[16]):0})},function(b){return d[21]=c.createArray(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[25]=a.metadata,d[25]!==f?d[26]=(d[21].push(d[25]),d[21]):0})},function(a){return d[22]=c.i64.of_int32(d[16].length),d[23]=c.i64.of_int32(d[21].length),c.i64.neq(d[22],d[20])||c.i64.neq(d[23],d[20])?d[24]=c.i64.cast([0,11]):(function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Started"),function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Completed"),d[24]=f),d[15]=d[24]}]):c.seq([function(e){return c.sp(b("LSSendPhase1MultiPhotoMessageV2"),a[0],a[2]).then(function(a){return a=a,d[16]=a[0],a})},function(b){return c.i64.eq(d[16],f)?c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:c.i64.cast([0,6])})}):c.resolve()},function(a){return d[15]=d[16]}])},function(b){return c.i64.eq(d[15],f)?(d[16]=d[2].get("send_by_server"),d[2],d[17]=d[2].get("use_double_phase"),d[2],d[18]=d[2].get("use_double_phase"),d[2],(d[16]?d[17]?c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,10])):c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,4])):d[18]?c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,12])):c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,6])))?c.resolve(d[1].set("main_job_succeeded",!0)):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([-1,4294967295]))?d[19]=c.i64.cast([0,5]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([-1,4294967294]))?(d[21]=d[2].get("should_transcode"),d[2],d[20]=d[21]?c.i64.cast([0,1]):c.i64.cast([0,3])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,2]))?d[21]=c.i64.cast([0,3]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,4]))?(d[23]=d[2].get("send_by_server"),d[2],d[24]=d[2].get("use_double_phase"),d[2],d[22]=d[23]?d[24]?c.i64.cast([0,13]):f:c.i64.cast([0,5])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,6]))?(d[24]=d[2].get("use_double_phase"),d[2],d[23]=d[24]?c.i64.cast([0,13]):f):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,14]))?(d[25]=d[2].get("use_double_phase"),d[2],d[26]=d[2].get("should_transcode"),d[2],d[24]=d[25]?d[26]?c.i64.cast([0,7]):c.i64.cast([0,9]):f):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,8]))?d[25]=c.i64.cast([0,9]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,10]))?(d[27]=d[2].get("send_by_server"),d[2],d[26]=d[27]?f:c.i64.cast([0,11])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,12]))?d[27]=f:d[27]=f,d[26]=d[27]),d[25]=d[26]),d[24]=d[25]),d[23]=d[24]),d[22]=d[23]),d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),c.i64.neq(d[19],f)?c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:d[19]})})},function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}]):c.resolve())):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[15])))}])}]):c.i64.eq(d[5],c.i64.cast([0,11]))?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[14]=a.error,c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(a){return c.i64.neq(d[13],f)?(d[1].set("resume_failed",!0),d[1].set("error",d[13])):d[1].set("main_job_succeeded",!0)}]):c.i64.eq(d[5],c.i64.cast([0,13]))?c.seq([function(e){return c.sp(b("LSInsertPhase2PendingTask"),a[0],a[1]).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:c.i64.cast([0,14])})})},function(b){return d[1].set("main_job_succeeded",!0),c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}])}]):c.resolve(0)):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",c.i64.cast([0,11]))))},function(a){return d[7]=d[1].get("main_job_succeeded"),d[1],d[8]=d[1].get("resume_failed"),d[1],d[9]=d[1].get("error"),d[1],a=[d[7],d[8],d[9],d[4]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MWChatForwardDialogQuery$Parameters",["MWChatForwardDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatForwardDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatForwardDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useSharedNUX",["CometNUXManagerContext","react","recoverableViolation","useNUXLoggers","useStable"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect,j=b.useState;function a(a){var b=c("useStable")(function(){return a});if(b!==a){var d;c("recoverableViolation")("Error nux changed at runtime from "+((d=b)!=null?d:"null")+" to "+((d=a)!=null?d:"null")+", this is not supported and will lead to erratic behavior, we have continued to use your initially supplied nux","comet_ui")}d=j(!1);var e=d[0],f=d[1];d=h(c("CometNUXManagerContext"));var g=d.registerNUX;d=d.removeNUX;i(function(){if(b==null)return;return g(b,f,!0)},[b,g]);d=c("useNUXLoggers")(b,d);return[e,d]}g["default"]=a}),98);
__d("MAWDbMedia",[],(function(a,b,c,d,e,f){"use strict";b="Image";c="Video";d="Ptt";e="Gif";var g="Sticker",h="DocumentFile",i={DOCUMENT_FILE:h,GIF:e,IMAGE:b,PTT:d,STICKER:g,VIDEO:c};function a(a){return a}f.IMAGE=b;f.VIDEO=c;f.PTT=d;f.GIF=e;f.STICKER=g;f.DOCUMENT_FILE=h;f.MEDIA_TYPE=i;f.convertNumberToMediaId=a}),66);
__d("MAWHexUtils",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.toString(16);return(a.length-1).toString(16)+a}function b(a){for(var b=1;b<a.length;b++){var d=a.substring(0,b),e=a.substring(b);if(e.length-1===parseInt(d,16))return parseInt(e,16)}throw c("err")("Cannot convert the order-preserving-hex back to number")}g.orderPreservingHex=a;g.reverseOrderPreservingHex=b}),98);
__d("OfflineThreadingId",["Crypto.bs","I64"],(function(a,b,c,d,e,f,g){"use strict";var h=d("I64").of_string("4194303");function a(){return d("I64").to_string(i())}function i(){var a=d("Crypto.bs").getRandomValues(new Uint8Array(8));a=new DataView(a.buffer);a=d("I64").add(d("I64").lsl_(d("I64").of_int32(a.getUint32(0)),32),d("I64").of_int32(a.getUint32(4)));return j(Date.now(),a)}function j(a,b){return d("I64").and_(d("I64").or_(d("I64").lsl_(d("I64").of_float(a),22),d("I64").and_(b,h)),d("I64").max_int)}function b(a){var b=i(),c=[];for(var e=0;e<a.length;e++)c.push([a[e],d("I64").to_string(b)]),b=k(b);return c}function k(a,b){b===void 0&&(b=d("I64").one);var c=l(a);a=m(a);return j(c,d("I64").add(a,b))}function l(a){return d("I64").to_float(d("I64").lsr_(a,22))}function m(a){return d("I64").and_(a,h)}g.createOfflineThreadingID=a;g.createForItemsInOrder=b}),98);
__d("WAMsgType",[],(function(a,b,c,d,e,f){a="Text";b="Futureproof";c="Ciphertext";d="Unavailable";e="Image";var g="Video",h="Ptt",i="Admin",j="Revoked",k="Gif",l="Sticker",m="DocumentFile",n="ExpiredEphemeral",o="EphemeralSettingAdmin",p="EphemeralSyncResponse",q="EphemeralScreenshotAction",r="DeleteForMe",s="EphemeralSettingChangeFromCurrentDevice",t="AlertICDC",u="GroupInvite",v="XMA",w="Reaction",x="SenderKeyDistribution",y="Raven",z="RavenAction",A={TEXT:a,FUTUREPROOF:b,CIPHERTEXT:c,UNAVAILABLE:d,EXPIRED_EPHEMERAL:n,IMAGE:e,VIDEO:g,PTT:h,ADMIN:i,REVOKED:j,GIF:k,STICKER:l,DOCUMENT_FILE:m,EPHEMERAL_SETTING_ADMIN:o,EPHEMERAL_SYNC_RESPONSE:p,EPHEMERAL_SCREENSHOT_ACTION:q,DELETE_FOR_ME:r,EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:s,ICDC_ALERT:t,GROUP_INVITE:u,XMA:v,REACTION:w,SK_DISTRIBUTION:x,RAVEN:y,RAVEN_ACTION:z},B=new Set([A.TEXT,A.IMAGE,A.VIDEO,A.PTT,A.GIF,A.STICKER,A.DOCUMENT_FILE,A.UNAVAILABLE,A.EXPIRED_EPHEMERAL,A.REVOKED,A.XMA]),C=function(a){return B.has(a)};f.TEXT=a;f.FUTUREPROOF=b;f.CIPHERTEXT=c;f.UNAVAILABLE=d;f.IMAGE=e;f.VIDEO=g;f.PTT=h;f.ADMIN=i;f.REVOKED=j;f.GIF=k;f.STICKER=l;f.DOCUMENT_FILE=m;f.EXPIRED_EPHEMERAL=n;f.EPHEMERAL_SETTING_ADMIN=o;f.EPHEMERAL_SYNC_RESPONSE=p;f.EPHEMERAL_SCREENSHOT_ACTION=q;f.DELETE_FOR_ME=r;f.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE=s;f.ICDC_ALERT=t;f.GROUP_INVITE=u;f.XMA=v;f.REACTION=w;f.SK_DISTRIBUTION=x;f.RAVEN=y;f.RAVEN_ACTION=z;f.MSG_TYPE=A;f.isQuotedMsgType=C}),66);
__d("MAWDbMsg",["FBLogger","MAWDbChatId","MAWHexUtils","OfflineThreadingId","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("WAMsgType").MSG_TYPE.REVOKED,d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE,d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE,d("WAMsgType").MSG_TYPE.GROUP_INVITE,d("WAMsgType").MSG_TYPE.SK_DISTRIBUTION,d("WAMsgType").MSG_TYPE.RAVEN_ACTION];function a(a){return q(a)?a:null}var i="futureproof",j="toBeRead",k="spam",l="futureproof_spam",m=void 0,n="e2ee_admin_msg",o="cutover_admin_msg";function p(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m"}function b(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_DEBUG_"+d("MAWHexUtils").orderPreservingHex(Math.floor(Math.random()*1e4))}function q(a){var b=a.indexOf("_");if(b<=0)return!1;b=a.indexOf("_",b+2);return b!==a.length-2?!1:a.charAt(a.length-1)==="m"}function e(a){return a+"_"+j}function f(a){return a+"_"+n}function r(a){return a+"_"+o}function s(a){a=a.split("_");a=a[0];return d("MAWDbChatId").unsafeCoerceToChatId(d("MAWHexUtils").reverseOrderPreservingHex(a))}function t(a){a=a.split("_");a[0];a=a[1];return d("MAWHexUtils").reverseOrderPreservingHex(a)}function u(a){return d("MAWHexUtils").orderPreservingHex(a)+"_"}function v(a){return d("MAWHexUtils").orderPreservingHex(a)+"_z"}function w(a){try{var b=s(a);a=t(a);return p(b,a+1)+"_o"}catch(a){return d("OfflineThreadingId").createOfflineThreadingID()}}function x(a){switch(a.type){case d("WAMsgType").MSG_TYPE.XMA:return!0;case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.RAVEN:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isXMAMsg check: "%s"',a.type)}function y(a){switch(a.type){case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:case d("WAMsgType").MSG_TYPE.RAVEN:return!0;case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.XMA:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isMediaMsg check: "%s"',a.type)}function z(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.XMA:case d("WAMsgType").MSG_TYPE.RAVEN:return!0;case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("WAMsgType").MSG_TYPE.RAVEN_ACTION:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isContentMsg check: "%s"',a.type)}function A(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:case d("WAMsgType").MSG_TYPE.XMA:case d("WAMsgType").MSG_TYPE.RAVEN:return!0;case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.SK_DISTRIBUTION:return!1}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for isMsgEligibleForTriggeringEphemeralSyncResponse check: "%s"',a.type)}function B(a){return D(a.type)}function C(a){return a.type===d("WAMsgType").MSG_TYPE.ADMIN}function D(a){return a==="EphemeralSyncResponse"||a==="EphemeralSettingChangeFromCurrentDevice"||a==="GroupInvite"||a==="SenderKeyDistribution"||a==="RavenAction"}function E(a){return a==="RavenAction"}function F(a){return a.serverTs!=null?a.serverTs:a.ts}function G(a){if(a.sortOrderMs!=null)return a.sortOrderMs;else return F(a)*1e3}function H(a,b){if(a.serverTs!=null)return Math.max(b+1,a.serverTs*1e3);else return b+1}function I(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:return a.msgContent;case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.XMA:case d("WAMsgType").MSG_TYPE.RAVEN:return}throw c("FBLogger")("mpf_web_foundations").mustfixThrow('Invalid msg type for getMsgContent check: "%s"',a.type)}g.NO_CONTENT_MESSAGE_TYPES_ALLOWLIST=h;g.toMsgId=a;g.FUTUREPROOF_ALT_INDEX=i;g.TO_BE_READ_ALT_INDEX_SUFFIX=j;g.SPAM_ALT_INDEX=k;g.FUTUREPROOF_SPAM_ALT_INDEX=l;g.UNDEFINED_ALT_INDEX=m;g.E2EE_ADMIN_MSG_ALT_INDEX=n;g.CUTOVER_ADMIN_MSG_ALT_INDEX=o;g.craftMsgId=p;g.craftDebugMsgId=b;g.isValidMsgId=q;g.craftToBeReadAltIndex=e;g.craftE2eeAdminMsgAltIndex=f;g.craftCutoverAdminMsgAltIndex=r;g.getThreadIdFromMsgId=s;g.getInChatMsgIdFromMsgId=t;g.msgIdsInChatLowerBound=u;g.msgIdsInChatUpperBound=v;g.getNextOptimisticId=w;g.isXMAMsg=x;g.isMediaMsg=y;g.isContentMsg=z;g.isMsgEligibleForTriggeringEphemeralSyncResponse=A;g.isUnrenderedMsg=B;g.isAdminMsg=C;g.isUnrenderedMsgType=D;g.isRavenActionMsgType=E;g.getCanonicalTsFromMsg=F;g.getSortOrderWithFallback=G;g.getSortOrderFromPrevious=H;g.getMsgContent=I}),98);
__d("MWConsole",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.log=a}),98);
__d("MWSeparatorContainer.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=h.Children.toArray(a.children).filter(Boolean);return d.length===0?null:h.jsxs(h.Fragment,{children:[(b=a.beforeContent)!=null?b:null,h.jsx("div",{className:c("stylex")(a.xstyle),children:d.map(function(b,c){return h.jsxs(h.Fragment,{children:[c!==0&&a.separator,b]},"item-"+c)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSThreadAttributionTypeUtil.bs",["I64","LSIntEnum","LSMessagingThreadAttributionType","LSThreadAttributionStore.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=d("LSThreadAttributionStore.bs").getSource({_0:b,TAG:1},d("I64").to_string(a));if(b.TAG===0)return b._0;a=b._0;if(a==="communityFriendsDialog"||a==="pagesHomeFriendsDialog"||a==="mutualFriendsDialog"||a==="birthday"||a==="groupMembers"||a==="fundraiserSupportersList"||a==="memories"||a==="feedPoll"||a==="reactorList"||a==="friendsList"||a==="pagesPrivateReply")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="inboxPendingRequests")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_PENDING_REQUESTS);else if(a==="fullscreenChat")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT);else if(a==="sidebarGroupsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_GROUPS);else if(a==="jewel")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_THREAD_LIST);else if(a==="shop")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MINI_SHOP_VIEW_MENU_BUTTON);else if(a==="chatheadsOverflow")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS);else if(a==="hovercard"||a==="feedDynamicHoverCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_DYNAMIC_HOVER_CARD);else if(a==="search"||a==="messengerUniversalSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_UNIVERSAL_SEARCH);else if(a==="story"||a==="storyAggregatedUsers"||a==="storySeenByList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_STORY);else if(a==="timeline"||a==="feedOrganicPost")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST);else if(a==="pageAboutCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_ABOUT_CARD);else if(a==="inboxInThread")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_IN_THREAD);else if(a==="notificationInThreadReply")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_NOTIFICATION_IN_THREAD_REPLY);else if(a==="archieve")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_ARCHIVED_THREADS);else if(a==="storyViewerSheetRow")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_STORY_VIEWER_SHEET_ROW);else if(a==="chatheadsNewMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_NEW_MESSAGE);else if(a==="event")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_EVENT);else if(a==="jewelSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_SEARCH);else if(a==="inboxSpam"||a==="inboxThreadList"||a==="inboxRestricted")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX);else if(a==="jewelNewMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NEW_MESSAGE);else if(a==="pendingRequests")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST);else if(a==="sidebarSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_SEARCH);else if(a==="inboxRemainingThreads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_REMAINING_THREADS);else if(a==="pagesHeader")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON);else if(a==="inboxRecentThreads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_RECENT_THREADS);else if(a==="chatheads")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CHATHEADS_RECENT_THREADS);else if(a==="pageResponsivenessCard")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_PAGE_RESPONSIVENESS_CONTEXT_CARD);else if(a==="inboxSearch")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_MESSAGE_SEARCH);else if(a==="jewelNestedFolder")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").JEWEL_NESTED_FOLDER);else if(a==="marketplace")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MARKETPLACE_SEND_MESSAGE);else if(a==="feedOrganicPostViewAndMessage")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE);else if(a==="adsCta")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA);else if(a==="chatInThread")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_IN_THREAD);else if(a==="payments")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").PAYMENTS);else if(a==="inboxFolder")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_NESTED_FOLDER);else if(a==="inboxArchived")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ARCHIVED_THREADS);else if(a==="inboxActiveContacts")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_ACTIVE_CONTACTS);else if(a==="sidebarContactsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_LIST);else if(a==="sidebarCommunityChatsList")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").SIDEBAR_CONTACTS_COMMUNITY_CHATS);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN)}g.getSource=a}),98);
__d("LSMessagingInitiatingSource",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK_CHAT:0,FACEBOOK_INBOX:1,ROOMS_SIDE_CHAT:2,FACEBOOK_FULLSCREEN:3});f["default"]=a}),66);
__d("LSMessagingInitiatingSourceHook.bs",["LSIntEnum","LSMessagingInitiatingSource","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a==null)return;else if(a==="Inbox")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX);else if(a==="FullscreenChat")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_FULLSCREEN);else if(a==="ChatTab")return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT);else return d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").ROOMS_SIDE_CHAT)}g.useHook=a}),98);
__d("LSMessagingSource",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();switch(a){case"Inbox":return"inboxInThread";case"FullscreenChat":return"fullscreenChat";case"ChatTab":return"chatInThread";default:return"unknown"}}g.useHook=a}),98);
__d("getMWReplySourceId",["MWChatMessageId"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return;return d("MWChatMessageId").getMessageId(a.content._0.messageID)}g["default"]=a}),98);
__d("WorkChatMessageType.bs",[],(function(a,b,c,d,e,f){"use strict";a="text";b="gif";c="sticker";d="audio";e="file";f.text=a;f.gif=b;f.sticker=c;f.audio=d;f.file=e}),66);
__d("useMWLSSendStickerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessage","LSShape","LSThreadAttributionTypeUtil.bs","MWPActor.react","MWThread_DEPRECATED.bs","WorkChatMessageType.bs","getMWReplySourceId","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(h,i,j,k){c("promiseDone")(f.runInTransaction(function(e){var f,l=d("MWThread_DEPRECATED.bs").toThreadKey(h);f=d("LSThreadAttributionTypeUtil.bs").getSource(l,(f=a)!=null?f:"unknown");return c("LSOptimisticSendMessage")(g,l,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),void 0,void 0,!1,d("I64").of_string(i),void 0,void 0,void 0,f,void 0,void 0,c("getMWReplySourceId")(j),d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),void 0,void 0,void 0,!0,!0,d("LSShape").ofRecord({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:d("I64").zero,preview_url:k,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:d("I64").zero}),b,void 0,void 0,void 0,c("LSFactory")(e))},"readwrite").then(function(a){e==null?void 0:e(d("WorkChatMessageType.bs").sticker,1,a[0])}))},[f,g,b,a,e])}g["default"]=a}),98);
__d("MWChatForwardDialog.entrypoint",["JSResourceForInteraction","MWChatForwardDialogQuery$Parameters","MWXacGating.bs","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{forwardQueryReference:{parameters:b("MWChatForwardDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get(),suppress_xac_groups:!d("MWXacGating.bs").isGroupsEnabled()}}}}},root:c("JSResourceForInteraction")("MWChatForwardDialog.react").__setRef("MWChatForwardDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatInteractionLog.bs",["QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b){var d=Date.now()|0;h.set(b,d);c("QPLUserFlow").start(a,{cancelOnUnload:!0,instanceKey:d,timeoutInMs:6e4})}function b(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endFailure(a,d,{instanceKey:b});return}}function d(a,b){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endSuccess(a,{instanceKey:b});return}}function e(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").addPoint(a,d,{instanceKey:b});return}}f=a;a=b;b=d;d=e;g.logStartUserFlow=f;g.logFailUserFlow=a;g.logSuccessUserFlow=b;g.logPointUserFlow=d}),98);
__d("useGetForwardSource",["LSIntEnum","LSMessagingThreadAttributionType","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a!=null)if(a==="Inbox")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_FORWARD);else if(a==="ChatTab")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_FORWARD);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_BROADCAST_FLOW);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_BROADCAST_FLOW)}g["default"]=a}),98);
__d("MWLSForwardMessage.bs",["I64","Int64Hooks","LSFactory","LSMediaUrl.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingSource","LSOptimisticSendAttachmentForward","LSOptimisticSendMessageForward","MWChatInteractionLog.bs","MWChatThreadId","MWPActor.react","MWThread_DEPRECATED.bs","ODS","Promise","ReQL.bs","promiseDone","qpl","useGetForwardSource","useMWLSSendStickerMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),e=d("MWPActor.react").useActor(),f=d("LSMessagingInitiatingSourceHook.bs").useHook(),g=c("useGetForwardSource")(),h=d("LSMessagingSource").useHook(),i=c("useMWLSSendStickerMessage")(h,f);return d("Int64Hooks").useCallbackInt64(function(h,j){var k=d("MWChatThreadId").getMessagingThreadType(h),l=d("MWThread_DEPRECATED.bs").toThreadKey(h);switch(j.TAG){case 0:case 1:return;case 2:j=j._0;var m=j.timestamp,n=j.messageId,o=j.threadId;d("ODS").bumpEntityKey(3185,"mw_forward","send");d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),n,"sending");var p=function(){return a.runInTransaction(function(a){return c("LSOptimisticSendMessageForward")(e,l,k,o,m,n,g,f,c("LSFactory")(a))},"readwrite").then(function(){})};c("promiseDone")(d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("messages")),{hd:o,tl:{hd:m,tl:{hd:n,tl:0}}})).then(function(c){if(c==null)return p();var e=c.stickerId;if(e!=null)return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("attachments")),{hd:o,tl:{hd:n,tl:0}})).then(function(a){a=a!=null?d("LSMediaUrl.bs").Attachment.previewUrl(a):void 0;i(h,d("I64").to_string(e),void 0,a);return b("Promise").resolve()});else return p()}),function(){d("ODS").bumpEntityKey(3185,"mw_forward","success");return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),n)},function(){d("ODS").bumpEntityKey(3185,"mw_forward","failure");return d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),n,"ls_error")});return}},[a,e,f,g,i])}function e(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=d("LSMessagingInitiatingSourceHook.bs").useHook(),f=c("useGetForwardSource")();return d("Int64Hooks").useMemoInt64(function(){return function(g,h,i){d("ODS").bumpEntityKey(3185,"mw_forward","send");i!=null&&d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),i,"sending");var j=d("MWChatThreadId").getMessagingThreadType(g),k=d("MWThread_DEPRECATED.bs").toThreadKey(g);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendAttachmentForward")(b,k,j,void 0,void 0,void 0,void 0,d("I64").of_string(h),f,e,c("LSFactory")(a))},"readwrite"),function(){d("ODS").bumpEntityKey(3185,"mw_forward","success");if(i!=null)return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),i)},function(){i!=null&&d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),i,"ls_error"),d("ODS").bumpEntityKey(3185,"mw_forward","failure")})}},[a,b,e,f])}g.useForwardMessage=a;g.useForwardAttachment=e;g.targetIdString=d("MWChatThreadId").getFBID}),98);
__d("MWV2ForwardMessage.bs",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWDbMsg","MAWThreadId","MAWVerifyThreadCutover","MWChatMessageId","MWLSForwardMessage.bs","MWPActor.react","MWThread_DEPRECATED.bs","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","cr:282","cr:338","cr:4950","cr:6938","unrecoverableViolation","useGetForwardSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=b.threadKey;return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(c)},[a,c],f.id+":50")}function i(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b))}function j(a,b,c){return d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b),d("ReQL").fromTableAscending(a.table("contacts"))).filter(function(a){a[0];a=a[1];return!d("I64").equal(a.id,c)}))}function k(a,b){var c=b.messageId,e=b.threadKey;return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(e,c)},[a,c,e],f.id+":79")}function a(a){var e=c("useReStore")(),f=h(e,a),g=k(e,a),l=d("LSMessagingThreadTypeUtil").isSecure(f.threadType),m=d("MWPActor.react").useActor(),n=!d("I64").equal(m,a.senderId),o=d("MWLSForwardMessage.bs").useForwardMessage(),p=c("useGetForwardSource")(),q=d("MWChatMessageId").makeSent(d("I64").to_string(a.threadKey),a.messageId,d("I64").to_string(a.timestampMs)),r=d("Int64Hooks").useCallbackInt64(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){var h=d("MWThread_DEPRECATED.bs").toThreadKey(f);h=(yield b("Promise").all([d("MAWThreadId").isSecureThreadId(e,h),i(e,h),j(e,h,m),d("MAWVerifyThreadCutover").verifyThreadCutover(b("Promise").resolve(e),h)]));var k=h[0],l=h[1],o=h[2];h=h[3];k=k||h;if(b("cr:6938")!=null&&!k)return b("cr:6938").forwardMessage(e,f,a,n,g,m,p);h=d("MAWDbMsg").toMsgId(a.messageId);if(h==null)throw c("unrecoverableViolation")("Message does not have an id","messenger_web_product");if(b("cr:338")!=null){if(b("cr:282")!=null&&l!=null){b("cr:338").forwardMessage(e,f,h,p);return b("cr:282").call(e,m,l,o,d("LSMessagingThreadTypeUtil").isOneToOne(l.threadType))}return b("cr:338").forwardMessage(e,f,h,p)}throw c("unrecoverableViolation")("We won't reach to this step, if you are in QE, you should use secure forward","messenger_web_product")});return function(a){return f.apply(this,arguments)}}(),[e,m,a,n,g,p]),s=d("Int64Hooks").useCallbackInt64(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var h=d("MWThread_DEPRECATED.bs").toThreadKey(c);h=(yield b("Promise").all([d("MAWThreadId").isSecureThreadId(e,h),i(e,h),j(e,h,m),d("MAWVerifyThreadCutover").verifyThreadCutover(b("Promise").resolve(e),h)]));var k=h[0],l=h[1],r=h[2];h=h[3];k=k||h;if(b("cr:4950")!=null&&k)if(b("cr:282")!=null&&l!=null){b("cr:4950").forwardMessage(e,c,f,a,n,g,p);return b("cr:282").call(e,m,l,r,d("LSMessagingThreadTypeUtil").isOneToOne(l.threadType))}else return b("cr:4950").forwardMessage(e,c,f,a,n,g,p);return o(c,q)});return function(a){return c.apply(this,arguments)}}(),[e,o,n,g,a,q,m,p,f]);return d("Int64Hooks").useMemoInt64(function(){return l?r:s},[l,r,s])}g.useForwardMessage=a}),98);
__d("useMWChatForward",["MWChatForwardDialog.entrypoint","MWChatInteractionLog.bs","MWChatMessageId","qpl","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a){var b=a.dropToggle,e=a.forwardDialogType,f=a.messageID,g=a.onClose,j=a.onSend;a=i(null);var k=c("useCometEntryPointDialog")(c("MWChatForwardDialog.entrypoint"),{}),l=k[0];k=h(function(){var a=d("MWChatMessageId").getMessageId(f);a!=null&&d("MWChatInteractionLog.bs").logStartUserFlow(c("qpl")._(25298392,"4881"),a);l({dropToggle:b,forwardDialogType:e,messageID:f,onSend:j},g)},[j,l,f,g,e,b]);return{onClick:k,triggerRef:a}}g["default"]=a}),98);
__d("MWV2MessageRowIsRowFocusedContext.bs",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");e=b.createContext;var h=b.createElement;d={isDialogOpened:!1,setFocused:c("emptyFunction"),setIsDialogOpened:c("emptyFunction")};var i=e(d);function a(a){var b=a.children;a=a.value;return h(i.Provider,{children:b,value:a})}a.displayName=a.name+" [from "+f.id+"]";b={make:a};g.emptyValue=d;g.context=i;g.Provider=b}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1271");b=d("FalcoLoggerInternal").create("message_sends_client",a);e=b;g["default"]=e}),98);
__d("MWLogSend.bs",["I64","MessageSendsClientFalcoEvent","ReQL.bs","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g,h,i,j,k,l,m,n,o,p,q,r){c("promiseDone")(d("ReQL.bs").toArray(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:b,tl:0}),function(a){return!d("I64").equal(a.contactId,h)})).then(function(a){var h=a.map(function(a){return d("I64").to_string(a.contactId)}),q=n!=null?n:d("I64").to_string(b),r=o!=null?d("I64").to_string(d("I64").of_float(o)):void 0;c("MessageSendsClientFalcoEvent").log(function(){return{additional_tags:p,backend:m,event_type:l,feature_tags:void 0,group_thread_subtype:void 0,igd_action:void 0,igd_target_type:void 0,igd_verb:void 0,initiating_app_id:void 0,is_reply:k,message_attachment_fbids:g.map(String),message_id:void 0,message_type:j,messaging_thread_fbid:q,messaging_thread_type:d("I64").to_int32(e),msg_ttl:r,nav_chain:void 0,nonce:void 0,offline_threading_id:f,recipient_fbids:h,send_attribution:d("I64").to_int32(i),send_attribution_raw:void 0,view_mode:void 0}})}))}g.log=a}),98);
__d("MWV2MediaViewerContainer.bs",["MessengerBlurpleLogoSvg.react","XMessengerDotComCometRootControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.actions,d=a.children;a=a.shouldShowMessengerLogo;return h.jsxs("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o x1uvtmcs",children:[d,h.jsx("div",{className:"x10l6tqk x16q8cke x1tk7jg1",children:((d=a)!=null?d:!1)?h.jsx("a",{"aria-label":"Messenger",href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL(),children:h.jsx(c("MessengerBlurpleLogoSvg.react"),{height:"40",width:"40"})}):null}),h.jsx("div",{className:"x92rtbv x10l6tqk x1tk7jg1",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2LogMessageClick.bs",["I64","LSMessagingThreadTypeUtil","Promise","ReQL.bs","UserAgentData","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWV2LogMessageClick.bs");function a(a,e,f,g,i){i=e.threadKey;c("promiseDone")(d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:i,tl:0})).then(function(a){a!=null&&!d("LSMessagingThreadTypeUtil").isSecure(a.threadType)&&h.onReady(function(a){a.log(function(){var a={};g!=null&&(a.action=g);a.browserName=c("UserAgentData").browserName;return{click:{category:2},click_target:{type:f},extra:JSON.stringify(a),message:{id:e.messageId,sender_id:void 0,sent_time:d("I64").to_float(e.timestampMs)},thread:{id:d("I64").to_string(e.threadKey),key:void 0,type:void 0},xma:void 0}})});return b("Promise").resolve()}))}g.log=a}),98);
__d("MWV2UseMessageForwardAction.bs",["I64","LSBitFlag","LSIntEnum","LSMessagingThreadTypeUtil","MAWGating","MWChatMessageId","MWV2ForwardMessage.bs","MWV2LogMessageClick.bs","MWV2MessageRowIsRowFocusedContext.bs","gkx","promiseDone","react","useMWChatForward","useReStore"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext;function a(a,b){var e=c("useReStore")(),f=c("gkx")("1224637"),g=!f&&d("LSMessagingThreadTypeUtil").isSecure(a.threadType);f=!f&&d("MAWGating").isCrossForwardEnabled();g=g?f?"cross_transport":"secure":f?"cross_transport":"open_";f=d("MWChatMessageId").makeSent(d("I64").to_string(b.threadKey),b.messageId,d("I64").to_string(b.timestampMs));var j=d("MWV2ForwardMessage.bs").useForwardMessage(b),k=i(d("MWV2MessageRowIsRowFocusedContext.bs").context),l=k.setFocused,m=k.setIsDialogOpened;k=b.stickerId;a=!d("LSMessagingThreadTypeUtil").isSecure(a.threadType);k=d("LSBitFlag").has(d("LSIntEnum").ofNumber(1),b.displayedContentTypes)&&!b.textHasLinks||d("LSBitFlag").has(d("LSIntEnum").ofNumber(16384),b.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(2),b.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(4),b.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(512),b.displayedContentTypes)||c("gkx")("2016")&&d("LSBitFlag").has(d("LSIntEnum").ofNumber(1024),b.displayedContentTypes)||k!=null&&d("I64").equal(k,d("I64").of_string("369239263222822"))||k!=null&&d("I64").equal(k,d("I64").of_string("369239343222814"))||k!=null&&d("I64").equal(k,d("I64").of_string("369239383222810"));var n=c("useMWChatForward")({dropToggle:a&&!k,forwardDialogType:g,messageID:f,onClose:h(function(){m(function(){return!1}),l(function(){return!0})},[l,m]),onSend:h(function(a){return c("promiseDone")(j(a))},[j])});return function(){d("MWV2LogMessageClick.bs").log(e,b,44),n!=null&&(m(function(){return!0}),n.onClick())}}g.useHook=a}),98);
__d("MWPOpenComposerUtils.bs",["I64","LSRemoveMediaSendJobs","LSResumeMediaSendJob","MWConsole","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return a.table("media_staging").get({hd:c,tl:0}).then(function(d){if(d!=null)return a.table("media_staging")["delete"]({hd:c,tl:0});else return b("Promise").resolve()})}function e(a,c,d){return a.table("media_staging").get({hd:c,tl:0}).then(function(c){if(c!=null)return a.table("media_staging").put(d(c));else return b("Promise").resolve()})}function f(a,c,d,e,f){return a.table("attachments").get({hd:c,tl:{hd:d,tl:{hd:e,tl:0}}}).then(function(g){if(g!=null)return a.table("attachments").upsert({hd:c,tl:{hd:d,tl:{hd:e,tl:0}}},f(g));else return b("Promise").resolve()})}function h(a,e,f){return c("LSResumeMediaSendJob")(e,d("I64").zero,(f=f)!=null?f:void 0,a).then(function(d){d=d[0];if(d)return c("LSRemoveMediaSendJobs")(e,a);else return b("Promise").resolve()})}a=a;e=e;f=f;h=h;g.deleteMediaStaging=a;g.updateMediaStaging=e;g.updateAttachment=f;g.resumeSendJob=h}),98);
__d("MessagingAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,STICKER:1,IMAGE:2,ANIMATED_IMAGE:3,VIDEO:4,AUDIO:5,FILE:6,XMA:7,EPHEMERAL_IMAGE:8,EPHEMERAL_VIDEO:9,SELFIE_STICKER:10,SOUND_BITE:12,CATALOG_ITEM:13,POWER_UP:14});f["default"]=a}),66);
__d("MWPComposerMediaUploadUtil.bs",["FBLogger","I64","LSIntEnum","MessagingAttachmentType","XComposerPhotoUploader","bs_caml_option","cometIsMimeTypeForMedia","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h){var i="/ajax/mercury/upload.php";h&&(i="/ajax/mercury/chatsupportuser/upload.php");h=a!=null?a:function(a,b){};var j=d!=null?d:function(a,b){};a=e!=null?e:!1;d=new(c("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){j(a,b);return!0},onUploadProgress:h,onUploadStart:function(a){},onUploadSuccess:function(a,d){d=d.response.payload.metadata;var e;if(d==null)c("FBLogger")("messenger_browser_clients").warn("Empty payload"),e={};else{d=d[0];d!=null?e=d:(c("FBLogger")("messenger_browser_clients").warn("Empty metadata"),e={})}d=e.fbid;var f=e.video_id,g=e.audio_id,h=e.gif_id;e=e.file_id;d=d!=null?c("bs_caml_option").some(d):f!=null?c("bs_caml_option").some(f):g!=null?c("bs_caml_option").some(g):h!=null?c("bs_caml_option").some(h):e!=null?c("bs_caml_option").some(e):void 0;d!=null?b(a,d):c("unrecoverableViolation")("Unrecognized file upload success payload","messenger_comet")},retryLimit:1,uploadEndpoint:i});e=a?{data:{voice_clip:!0}}:void 0;d.getAsyncFileUploadRequest(f,g,e).send()}function b(a){a=a.type;if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a))return d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE);else if(a==="audio/wav")return d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO);else if(a==="image/gif")return d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a))return d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO);else return d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE)}function e(a,b,e){return{action_url:void 0,attachment_fbid:a,attachment_index:d("I64").zero,attachment_type:d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a,original_file_hash:void 0,playable_duration_ms:d("I64").of_float(e*1e3),playable_url:URL.createObjectURL(b),playable_url_mime_type:b.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}}function f(a,b){a=a.map(function(a){return{action_url:void 0,attachment_fbid:a.offlineAttachmentId,attachment_index:d("I64").zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:a.filename,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a.offlineAttachmentId,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:a.previewUrl,playable_url_mime_type:a.mimeType,preview_height:d("I64").of_string("200"),preview_url:a.previewUrl,preview_url_mime_type:void 0,preview_width:d("I64").of_string("200"),source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}});var e=[],f=[];a.forEach(function(a){d("I64").equal(a.attachment_type,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))&&!b?f.push(a):e.push([a])});f.length>0&&e.unshift(f);return e.map(function(a){return a.map(function(a,b){return babelHelpers["extends"]({},a,{attachment_index:d("I64").of_int32(b)})})})}a=a;b=b;e=e;f=f;g.startUpload=a;g.getAttachmentType=b;g.getAudioAttachment=e;g.createPartitionedAttachments=f}),98);
__d("useMWPIsMessagePinned",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")();return!!d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(b.table("msg_pinned_messages_v2")).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},[b,a],f.id+":25")}g["default"]=a}),98);
__d("MWFalcoFeatureEventLogger",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){c("gkx")("1471")&&c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:a,event_name:b,is_secured:d("LSMessagingThreadTypeUtil").isSecure(g),other_user_fbid:e?d("I64").to_string(e):null,thread_fbid:d("I64").to_string(f)}})}g.logEvent=a}),98);
__d("getMWOtherUserFBID",["I64","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=d("LSMessagingThreadTypeUtil").isOneToOne(e);if(!f)return null;f=d("LSMessagingThreadTypeUtil").isSecure(e);if(!f)return c;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(c).filter(function(a){a=a.contactId;return!d("I64").equal(a,b)}).take(1)));return e==null?void 0:e.contactId});return h.apply(this,arguments)}g.getMWOtherUserFBID=a}),98);
__d("useMWFalcoFeatureEventLogger",["MWFalcoFeatureEventLogger","MWPActor.react","getMWOtherUserFBID","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b){var e=c("useReStore")(),f=d("MWPActor.react").useActor();return h(function(c,g){d("getMWOtherUserFBID").getMWOtherUserFBID(e,f,a,b).then(function(e){d("MWFalcoFeatureEventLogger").logEvent(c,g,e,a,b)})["catch"](function(){})},[e,f,a,b])}g["default"]=a}),98);
__d("declareNUXRequireable",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("BrowserSupportCore",["getVendorPrefixedName"],(function(a,b,c,d,e,f){"use strict";a={hasCSSAnimations:function(){return!!b("getVendorPrefixedName")("animationName")},hasCSSTransforms:function(){return!!b("getVendorPrefixedName")("transform")},hasCSS3DTransforms:function(){return!!b("getVendorPrefixedName")("perspective")},hasCSSTransitions:function(){return!!b("getVendorPrefixedName")("transition")}};c=a;f["default"]=c}),66);
__d("BrowserSupport",["BrowserSupportCore","ExecutionEnvironment","UserAgent_DEPRECATED","getVendorPrefixedName","memoize"],(function(a,b,c,d,e,f,g){var h=null;function i(){if(c("ExecutionEnvironment").canUseDOM){h||(h=document.createElement("div"));return h}return null}b=function(a){return c("memoize")(function(){var b=i();return!b?!1:a(b)})};e=b(function(a){a.style.cssText="position:-moz-sticky;position:-webkit-sticky;position:-o-sticky;position:-ms-sticky;position:sticky;";return/sticky/.test(a.style.position)});f=b(function(a){return"scrollSnapType"in a.style||"webkitScrollSnapType"in a.style||"msScrollSnapType"in a.style});var j=b(function(a){return"scrollBehavior"in a.style});b=b(function(a){if(!("pointerEvents"in a.style))return!1;a.style.cssText="pointer-events:auto";return a.style.pointerEvents==="auto"});var k=c("memoize")(function(){return!(d("UserAgent_DEPRECATED").webkit()&&!d("UserAgent_DEPRECATED").chrome()&&d("UserAgent_DEPRECATED").windows())&&"FileList"in window&&"FormData"in window}),l=c("memoize")(function(){return!!a.blob}),m=c("memoize")(function(){return c("ExecutionEnvironment").canUseDOM&&document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","foreignObject").toString().includes("SVGForeignObject")}),n=c("memoize")(function(){return!!window.MutationObserver}),o=c("memoize")(function(){var a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd"},b=c("getVendorPrefixedName")("transition");return a[b]||null}),p=function(){return!!window.CanvasRenderingContext2D};g.hasCSSAnimations=c("BrowserSupportCore").hasCSSAnimations;g.hasCSSTransforms=c("BrowserSupportCore").hasCSSTransforms;g.hasCSS3DTransforms=c("BrowserSupportCore").hasCSS3DTransforms;g.hasCSSTransitions=c("BrowserSupportCore").hasCSSTransitions;g.hasPositionSticky=e;g.hasScrollSnapPoints=f;g.hasScrollBehavior=j;g.hasPointerEvents=b;g.hasFileAPI=k;g.hasBlobFactory=l;g.hasSVGForeignObject=m;g.hasMutationObserver=n;g.getTransitionEndEvent=o;g.hasCanvasRenderingContext2D=p}),98);
__d("DOMControl",["$","DataStore"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.root=b("$").fromIDOrElement(a),this.updating=!1,b("DataStore").set(a,"DOMControl",this)}var c=a.prototype;c.getRoot=function(){return this.root};c.beginUpdate=function(){if(this.updating)return!1;this.updating=!0;return!0};c.endUpdate=function(){this.updating=!1};c.update=function(a){if(!this.beginUpdate())return this;this.onupdate(a);this.endUpdate()};c.onupdate=function(a){};a.getInstance=function(a){return b("DataStore").get(a,"DOMControl")};return a}();e.exports=a}),null);
__d("Input",["CSS","DOMControl","DOMQuery"],(function(a,b,c,d,e,f,g){function h(a){return!/\S/.test(a||"")}function i(a){return h(a.value)}function a(a){return i(a)?"":a.value}function b(a){return a.value}function e(a,b){a.value=b||"";b=c("DOMControl").getInstance(a);b&&b.resetHeight&&b.resetHeight()}function f(a,b){b||(b=""),a.setAttribute("aria-label",b),a.setAttribute("placeholder",b)}function j(a){a.value="",a.style.height=""}function k(a,b){d("CSS").conditionClass(a,"enter_submit",b)}function l(a){return d("CSS").hasClass(a,"enter_submit")}function m(a,b){b>0?a.setAttribute("maxlength",b.toString()):a.removeAttribute("maxlength")}g.isWhiteSpaceOnly=h;g.isEmpty=i;g.getValue=a;g.getValueRaw=b;g.setValue=e;g.setPlaceholder=f;g.reset=j;g.setSubmitOnEnter=k;g.getSubmitOnEnter=l;g.setMaxLength=m}),98);
__d("Form",["DOM","DOMQuery","DTSG","DTSGUtils","DataStore","Input","LSD","PHPQuerySerializer","Random","SprinkleConfig","URI","getElementPosition","isFacebookURI","isNode"],(function(a,b,c,d,e,f){var g,h,i="FileList"in window,j="FormData"in window;function k(a){var c={};(g||(g=b("PHPQuerySerializer"))).serialize(a).split("&").forEach(function(a){if(a){a=/^([^=]*)(?:=(.*))?$/.exec(a);var d=(h||(h=b("URI"))).decodeComponent(a[1]),e=a[2]!==void 0;e=e?(h||(h=b("URI"))).decodeComponent(a[2]):null;c[d]=e}});return c}var l={getInputs:function(a){a===void 0&&(a=document);return[].concat(b("DOMQuery").scry(a,"input"),b("DOMQuery").scry(a,"select"),b("DOMQuery").scry(a,"textarea"),b("DOMQuery").scry(a,"button"))},getInputsByName:function(a){var b={};l.getInputs(a).forEach(function(a){var c=b[a.name];b[a.name]=typeof c==="undefined"?a:[a].concat(c)});return b},getSelectValue:function(a){return a.options[a.selectedIndex].value},setSelectValue:function(a,b){for(var c=0;c<a.options.length;++c)if(a.options[c].value==b){a.selectedIndex=c;break}},getRadioValue:function(a){for(var b=0;b<a.length;b++)if(a[b].checked)return a[b].value;return null},getElements:function(a){return a.tagName=="FORM"&&a.elements!=a?Array.from(a.elements):l.getInputs(a)},getAttribute:function(a,b){return(a.getAttributeNode(b)||{}).value||null},setDisabled:function(a,c){l.getElements(a).forEach(function(a){if(a.disabled!==void 0){var d=b("DataStore").get(a,"origDisabledState");c?(d===void 0&&b("DataStore").set(a,"origDisabledState",a.disabled),a.disabled=c):d===!1&&(a.disabled=!1)}})},forEachValue:function(a,c,d){l.getElements(a).forEach(function(a){if(!a.name||a.disabled)return;if(a.type==="submit")return;if(a.type==="reset"||a.type==="button"||a.type==="image")return;if((a.type==="radio"||a.type==="checkbox")&&!a.checked)return;if(a.nodeName==="SELECT"){for(var c=0,e=a.options.length;c<e;c++){var f=a.options[c];f.selected&&d("select",a.name,f.value)}return}if(a.type==="file"){if(i){f=a.files;for(c=0;c<f.length;c++)d("file",a.name,f.item(c))}return}d(a.type,a.name,b("Input").getValue(a))}),c&&c.name&&c.type==="submit"&&b("DOMQuery").contains(a,c)&&b("DOMQuery").isNodeOfType(c,["input","button"])&&d("submit",c.name,c.value)},createFormData:function(a,c){if(!j)return null;var d=new FormData();if(a)if(b("isNode")(a))l.forEachValue(a,c,function(a,b,c){d.append(b,c)});else{c=k(a);for(a in c)c[a]==null?d.append(a,""):d.append(a,c[a])}return d},serialize:function(a,b){var c={};l.forEachValue(a,b,function(a,b,d){if(a==="file")return;l._serializeHelper(c,b,d)});return l._serializeFix(c)},_serializeHelper:function(a,b,c){var d=Object.prototype.hasOwnProperty,e=/([^\]]+)\[([^\]]*)\](.*)/.exec(b);if(e){if(!a[e[1]]||!d.call(a,e[1])){a[e[1]]=d={};if(a[e[1]]!==d)return}d=0;if(e[2]==="")while(a[e[1]][d]!==void 0)d++;else d=e[2];e[3]===""?a[e[1]][d]=c:l._serializeHelper(a[e[1]],d.concat(e[3]),c)}else a[b]=c},_serializeFix:function(a){for(var b in a)a[b]instanceof Object&&(a[b]=l._serializeFix(a[b]));b=Object.keys(a);if(b.length===0||b.some(isNaN))return a;b.sort(function(a,b){return a-b});var c=0,d=b.every(function(a){return+a===c++});return d?b.map(function(b){return a[b]}):a},post:function(a,c,d,e){e===void 0&&(e=!0);a=new(h||(h=b("URI")))(a);var f=document.createElement("form");f.action=a.toString();f.method="POST";f.style.display="none";var g=!b("isFacebookURI")(a);if(d){if(g){f.rel="noopener";if(d==="_blank"){d=btoa(b("Random").uint32());var i=window.open("about:blank",d);i!==void 0&&(i.opener=null)}}f.target=d}if(e&&(!g&&a.getSubdomain()!=="apps")){i=b("DTSG").getToken();i&&(c.fb_dtsg=i,b("SprinkleConfig").param_name&&(c[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(i)));b("LSD").token&&(c.lsd=b("LSD").token,b("SprinkleConfig").param_name&&!i&&(c[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(b("LSD").token)))}l.createHiddenInputs(c,f);b("DOMQuery").getRootElement().appendChild(f);f.submit();return!1},post_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES:function(a,b,c){l.post(a,b,c)},createHiddenInputs:function(a,c,d,e){e===void 0&&(e=!1);d=d||{};a=k(a);for(var f in a){if(a[f]===null)continue;if(d[f]&&e)d[f].value=a[f];else{var g=b("DOM").create("input",{type:"hidden",name:f,value:a[f]});d[f]=g;c.appendChild(g)}}return d},getFirstElement:function(a,c){c===void 0&&(c=['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']);var d=[];for(var e=0;e<c.length;e++){d=b("DOMQuery").scry(a,c[e]);for(var f=0;f<d.length;f++){var g=d[f];try{var h=b("getElementPosition")(g);if(h.y>0&&h.x>0)return g}catch(a){}}}return null},focusFirst:function(a){a=l.getFirstElement(a);if(a){a.focus();return!0}return!1}};e.exports=l}),null);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);b.parseFiles=function(a){var b={};c("forEachObject")(a,function(a,c){if(Array.isArray(a))b[c]=a;else{b[c]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)b[c].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&b[c].push(a)}});return b};function b(b){var c;c=a.call(this)||this;c._allowCrossOrigin=!1;c._allowCrossPageTransition=!1;c._customHeader={};c._inFlight=!1;c._limit=10;c._option={};c._preventDefaultErrorHandler=!1;c._suspended=!1;b&&c.setURI(b);c.setNetworkErrorRetryLimit(0);return c}var e=b.prototype;e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setData=function(a){this._data=a;return this};e.setOption=function(a,b){this._option[a]=b;return this};e.setPreventDefaultErrorHandler=function(a){this._preventDefaultErrorHandler=a;return this};e.setLimit=function(a){this._limit=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setRelativeTo=function(a){this._relativeTo=a;return this};e.setStatusElement=function(a){this._statusElement=a;return this};e.setURI=function(a){this._uri=a;return this};e.suspend=function(){this._suspended=!0;return this};e.resume=function(){this._suspended=!1;this._processQueue();return this};e.isUploading=function(){return this._inFlight};e._createFileUpload=function(a,b,c){return new h(a,b,c)};e._processQueue=function(){if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift(),b=this._preprocessHandler;b?b(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};e._processUpload=function(a){var b=d("Form").createFormData(a.getData()||this._data);if(a.getFile()){b.append(a.getName(),a.getFile());var e=a.getFile().uploadID;e&&b.append("upload_id",e);a.getAdditionalData().forEach(function(a,c){return b.append(c,a)})}e=new(c("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(b).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var f in this._option)e.setOption(f,this._option[f]);for(f in this._customHeader)e.setRequestHeader(f,this._customHeader[f]);this._relativeTo&&e.setRelativeTo(this._relativeTo);e.send();a.setAsyncRequest(e);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};e._abort=function(a){this._pending.indexOf(a)!==-1&&(c("removeFromArray")(this._pending,a),this._processQueue()),c("removeFromArray")(this._waiting,a),a.abort()};e._initial=function(a){if(a.isAborted())return;this.inform("initial",a)};e._success=function(a,b){if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};e._retryUpload=function(a){a.increaseRetryCount(),this._processUpload(a)};e._failure=function(a,b){if(a.isAborted())return;if(b.error===1004&&a.getRetryCount()<(this._retryLimit||0))return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(b))!==!1&&(this._preventDefaultErrorHandler||c("AsyncResponse").defaultErrorHandler(b));this._processQueue()};e._progress=function(a,b){if(a.isAborted())return;this.inform("progress",a.handleProgress(b))};e._complete=function(a){c("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};b.isSupported=function(){return d("BrowserSupport").hasFileAPI()};return b}(c("mixin")(c("ArbiterMixin")));var h=function(){function a(a,b,c){this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=a,this._file=b,this._data=c}var b=a.prototype;b.getName=function(){return this._name};b.getFile=function(){return this._file};b.setFile=function(a){this._file=a};b.getData=function(){return this._data};b.getAdditionalData=function(){return this._additionalData};b.isComplete=function(){return this._success!==null};b.isSuccess=function(){return this._success===!0};b.getResponse=function(){return this._response};b.getProgressEvent=function(){return this._progressEvent};b.setAsyncRequest=function(a){this._request=a;return this};b.increaseRetryCount=function(){this._numRetries++;return this};b.getRetryCount=function(){return this._numRetries};b.isWaiting=function(){return!this._request};b.isAborted=function(){return this._aborted};b.abort=function(){this._request=null,this._aborted=!0};b.handleSuccess=function(a){this._success=!0;this._response=a;this._progressEvent=null;return this};b.handleFailure=function(a){this._success=!1;this._response=a;this._progressEvent=null;return this};b.handleProgress=function(a){this._progressEvent=a;return this};return a}();g["default"]=a}),98);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c._files=null,c._uploads=[],c._fileLessUpload=null,b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.setFiles=function(a){this._files=c("AsyncUploadBase").parseFiles(a);return this};d.setAlwaysReturnResponse=function(a){this._shouldAlwaysReturnResponse=a};d.abort=function(){var a=this;this._uploads.forEach(function(b){return a._abort(b)})};d.send=function(){var a=this;if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var b in this._files)this._files[b].forEach(function(c){a._uploads.push(a._createFileUpload(b,c))});this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))};d._processQueue=function(){a.prototype._processQueue.call(this);if(!this._pending.length&&!this._waiting.length){var b=this._uploads;b=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:b}:{response:b[0].getResponse(),uploads:b}:b;this.inform("complete",b)}};b.isSupported=function(){return c("AsyncUploadBase").isSupported()};return b}(c("AsyncUploadBase"));g["default"]=a}),98);
__d("shield",[],(function(a,b,c,d,e,f){function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(typeof a!=="function")throw new TypeError("shield expects a function as the first argument");return function(){return a.apply(b,d)}}f["default"]=a}),66);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","DOMQuery","DataStore","Event","FBLogger","Form","Parent","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f,g){function h(a){var b={};a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){b[a.name]=a.files});return b}function i(a){a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g._allowCrossOrigin=!1;g._allowCrossPageTransition=!1;g._uploadInParallel=!1;g._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==g._form)return;if(g.inform("submit")===!1){a.prevent();return}g.submit(a)};g._click=function(a){a=a.getTarget();while(c("isElementNode")(a)){if(a.type==="submit"){g._clickTarget=a;c("setTimeout")(g._unclick,0);break}a=a.parentNode}};g._unclick=function(){g._clickTarget=null};g.initial=function(a){return g.inform("initial",{upload:a})};if(b.getAttribute("rel")==="async")throw c("FBLogger")("FileForm","primer-only").mustfixThrow("FileForm cannot be used with Primer forms.");if((b.getAttribute("method")||"").toUpperCase()!=="POST")throw c("FBLogger")("FileForm","post-only").mustfixThrow("FileForm must be used with POST forms.");g._form=b;g._previousEncoding=g._form.enctype;g._form.enctype=g._form.encoding="multipart/form-data";g._files=null;g._customHeader={};e&&g.enableBehaviors(e);g._options=f||{};g.setAllowCrossOrigin(g._options.allowCrossOrigin);g.setAllowCrossPageTransition(g._options.allowCrossPageTransition);g.setUploadInParallel(g._options.uploadInParallel);g.setConcurrentLimit(g._options.concurrentLimit);g.setPreprocessHandler(g._options.preprocessHandler);g.setNetworkErrorRetryLimit(g._options.networkErrorRetryLimit);g._listeners=[c("Event").listen(document.documentElement,"submit",g._handleSubmit),c("Event").listen(g._form,"click",g._click)];d("DataStore").set(g._form,"FileForm",babelHelpers.assertThisInitialized(g));return g}var e=b.prototype;e.getRoot=function(){return this._form};e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};e.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setFiles=function(a){this._files=a;return this};e.submit=function(a){var b=this,e;if(this._uploadInParallel&&c("AsyncUploadRequest").isSupported()){e=new(c("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(d("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var f in this._customHeader)e.setCustomHttpHeader(f,this._customHeader[f]);this._concurrentLimit&&e.setLimit(this._concurrentLimit);this._files?e.setFiles(this._files):e.setFiles(h(this._form));var g=[e.subscribe("progress",function(a,c){b.progress(c,c.getProgressEvent())}),e.subscribe("initial",function(a,c){b.initial(c)}),e.subscribe("success",function(a,c){b.success(c,c.getResponse())}),e.subscribe("start",function(a,c){b.inform("start",{upload:c})}),e.subscribe("failure",function(a,c){b.failure(c,c.getResponse());return!1}),e.subscribe("complete",function(){while(g.length)g.pop().unsubscribe()})]}else(function(){var a,f=b._files;if(f){a=d("Form").createFormData(d("Form").serialize(b._form,b._clickTarget));var g=c("AsyncUploadRequest").parseFiles(f);f=function(b){var c=g[b];c.length===1?a.append(b,c[0]):(b+="[]",c.forEach(function(c){a.append(b,c)}));b};for(var h in g)f(h)}else a=d("Form").createFormData(b._form,b._clickTarget);e=new(c("AsyncRequest"))().setRawData(a).setHandler(function(a){return b.success(null,a)}).setErrorHandler(function(a){return b.failure(null,a)}).setUploadProgressHandler(function(a){return b.progress(null,a)}).setInitialHandler(c("shield")(b.initial,b,null));b.inform("start",{upload:null})})();e.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=e;a&&a.prevent()};e.success=function(a,b){b={response:b,upload:a};this.inform("success",b)!==!1&&c("Event").fire(this._form,"success",b);this._cleanup()};e.failure=function(a,b){a={response:b,upload:a};this.inform("failure",a)!==!1&&(c("Event").fire(this._form,"error",a)!==!1&&c("AsyncResponse").defaultErrorHandler(b));this._cleanup()};e.progress=function(a,b){this.inform("progress",{event:b,upload:a})};e.abort=function(){this._request&&(this._request.abort(),this._cleanup())};e.clear=function(){i(this._form)};e.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;d("DataStore").remove(this._form,"FileForm")};e._cleanup=function(){this._request=null};e._getStatusElement=function(){return d("Parent").byClass(this._form,"stat_elem")||this._form};b.getInstance=function(a){return d("DataStore").get(a,"FileForm")};return b}(c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});g["default"]=a}),98);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;function a(){return(g++).toString()}f.getNewID=a}),66);
__d("curry",["bind"],(function(a,b,c,d,e,f,g){a=c("bind")(null,c("bind"),null);b=a;g["default"]=b}),98);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f,g){function a(a){var b=h(a).length;a=i(a).length;return b>a}function b(a){return h(a).length>0}function d(a){return j(a).length>0}function h(a){return k(a,c("VideoUploadConfig").videoExtensions)}function i(a){var b={gif:!0};return k(a,b)}function j(a){return k(a,c("ComposerXNativeAudioUploadsConfig").audioExtensions)}function k(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():"";return b[a]})}g.hasEditableVideos=a;g.hasVideos=b;g.hasAudioFiles=d;g.filterVideos=h;g.filterNonEditableVideos=i;g.filterAudioFiles=j;g.filterFileOfSupportedType=k}),98);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){var b=function(b){return a.charCodeAt(b)&255};this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=function(b,c){return a.substr(b,c)};this.getLength=function(){return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();f.Decoder=d}),66);
__d("ImageMetadata",["ImageExif","Promise","StringEncoding","emptyFunction","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";e=function(){function e(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var f=e.prototype;f.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=h[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};f.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,i)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+i.length,b-2-i.length)):this.$11(a+4,j)?(this.$1=a,this.$2=b,this.$13(a+4+j.length,b-2-j.length)):this.$11(a+4,k)&&this.$14(a+4+k.length,b-2-k.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};f.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};f.$12=function(a,b){a=emptyFunction;try{emptyFunction=c("emptyFunction");var e=d("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}b={};for(a in e){var f=e[a];typeof f==="string"&&(f=f.trim());b[a.trim()]=f}this.$3=b};f.$13=function(a,b){var c=new(d("StringEncoding").Decoder)(null,"truncate");try{c=c.decode(this.$6.slice(a,a+b));this.$4=c}catch(a){return}};f.$14=function(a){};f.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};f.$9=function(a){for(a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};f.hasAPP1=function(){return Boolean(this.$1)};f.hasExif=function(){return Boolean(this.$3)};f.hasXMP=function(){return Boolean(this.$4)};f.hasSize=function(){return Boolean(this.$5)};f.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};f.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};f.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};f.getXMPString=function(){return this.$4};f.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};f.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};e.genMetadataFromBlob=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.t0=e;c.next=3;return b("regeneratorRuntime").awrap(e.$16(a));case 3:c.t1=c.sent;return c.abrupt("return",new c.t0(c.t1));case 5:case"end":return c.stop()}},null,this)};e.$16=function(c){return new(b("Promise"))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return e}();var h=[];h[216]={name:"SOI",length:0};h[192]={name:"SOF0"};h[193]={name:"SOF1"};h[194]={name:"SOF2"};h[195]={name:"SOF3"};h[197]={name:"SOF5"};h[198]={name:"SOF6"};h[199]={name:"SOF7"};h[200]={name:"JPG"};h[201]={name:"SOF9"};h[202]={name:"SOF10"};h[203]={name:"SOF11"};h[205]={name:"SOF13"};h[206]={name:"SOF14"};h[207]={name:"SOF15"};h[196]={name:"DHT"};h[219]={name:"DQT"};h[221]={name:"DRI",length:2};h[218]={name:"SOS"};h[208]={name:"RST0",length:0};h[209]={name:"RST1",length:0};h[210]={name:"RST2",length:0};h[211]={name:"RST3",length:0};h[212]={name:"RST4",length:0};h[213]={name:"RST5",length:0};h[214]={name:"RST6",length:0};h[215]={name:"RST7",length:0};h[224]={name:"APP0"};h[225]={name:"APP1"};h[226]={name:"APP2"};h[227]={name:"APP3"};h[228]={name:"APP4"};h[229]={name:"APP5"};h[230]={name:"APP6"};h[231]={name:"APP7"};h[232]={name:"APP8"};h[233]={name:"APP9"};h[234]={name:"APP10"};h[235]={name:"APP11"};h[236]={name:"APP12"};h[237]={name:"APP13"};h[238]={name:"APP14"};h[239]={name:"APP15"};h[254]={name:"COM"};h[217]={name:"EOI",length:0};var i="Exif\0\0",j="http://ns.adobe.com/xap/1.0/\0",k="http://ns.adobe.com/xmp/extension/\0";g["default"]=e}),98);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["ImageMetadata","Promise","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=2048;d=function(){function d(){}d.genArrayBufferFromBlob=function(c){return new(b("Promise"))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})};d.shouldCheckInServer=function(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<h||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0};d.genPhotosphereMetadata=function(a){var d=this;return new(b("Promise"))(function(b,e){c("promiseDone")(d.genArrayBufferFromBlob(a),function(a){try{var f=new(c("ImageMetadata"))(a);d.shouldCheckInServer(f)?c("promiseDone")(d.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}),function(a){a=a.payload;b({photoSphereMetadata:a,imageMetadata:f})},e):b({})}catch(a){a.__manual=!0,e(a)}},e)})};d.genPhotosphereMetadataFromServer=function(a,d,e){var f=this;return new(b("Promise"))(function(b,g){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:f.getExifString(e),height:a.y,width:a.x,xmp:d}).setHandler(b).setErrorHandler(g).send()})};d.getExifString=function(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})};d.getMayContainSphericalMetadata=function(a){return a!==""&&a.indexOf("GPano:")>-1};return d}();g["default"]=d}),98);
__d("SphericalImage",["SphericalImageUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="ProjectionType";a=function(){function a(a){this.props=a}a.createFromBlob=function(a){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(c("SphericalImageUtils").genPhotosphereMetadata(a));case 2:d=e.sent;return e.abrupt("return",new this(d));case 4:case"end":return e.stop()}},null,this)};var d=a.prototype;d.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};d.getImageMetadata=function(){return this.props.imageMetadata};d.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};d.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};d.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};d.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h]&&(a=this.props.photoSphereMetadata[h]);return a};return a}();g["default"]=a}),98);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0}function b(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}f.shouldResize360=a;f.shouldRecompress360=b}),66);
__d("loadImageFromBlob",["Promise"],(function(a,b,c,d,e,f){function a(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){URL.revokeObjectURL(d.src),b(d)};d.onerror=function(a){URL.revokeObjectURL(d.src),c(a)};d.src=URL.createObjectURL(a)})}f["default"]=a}),66);
__d("XComposerPhotoUploader",["AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","Promise","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","asyncToGeneratorRuntime","curry","emptyFunction","loadImageFromBlob","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=a.URL||a.webkitURL||{};e=function(){function a(a){this.$20={},this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||c("emptyFunction"),this.$7=a.onUploadsEnqueued||c("emptyFunction"),this.$8=a.onResizeStart||c("emptyFunction"),this.$11=a.onResizeProgress||c("emptyFunction"),this.$9=a.onResizeSuccess||c("emptyFunction"),this.$10=a.onResizeFailure||c("emptyFunction"),this.$12=a.onSphericalCheckFailure||c("emptyFunction"),this.$13=a.onSphericalCheckSuccess||c("emptyFunction"),this.$14=a.onUploadIsSpherical||c("emptyFunction"),this.$15=a.onUploadSent||c("emptyFunction"),this.$16=a.onUploadStart||c("emptyFunction"),this.$17=a.onUploadProgress||c("emptyFunction"),this.$18=a.onUploadSuccess||c("emptyFunction"),this.$19=a.onUploadFailure||c("emptyFunction")}var e=a.prototype;e.setUploadEndpoint=function(a){this.$1=a};e.setOption=function(a,b){this.$20[a]=b;return this};e.getUploadData=function(){return this.$2};e.setUploadData=function(a){this.$2=a};e.upload=function(a,b){var e=this;b||0;b=babelHelpers["extends"]({},this.$2);var f=null;if(!this.$21(a)){var g=d("PhotosUploadID").getNewID();a.uploadID=g;b.upload_id=g;this.$6({uploadID:g,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:h.createObjectURL?h.createObjectURL(a):null})}else{f=Array.from(a.files);f=f.filter(function(a){return!d("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(f.length===0)return;f.forEach(function(a){a.uploadID||(a.uploadID=d("PhotosUploadID").getNewID()),e.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:h.createObjectURL?h.createObjectURL(a):null})})}this.$7();g=new(c("FileInputUploader"))(a).setURI(this.$1).setData(b).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);f&&f.length>0&&(g.setFiles({farr:f}),this.$5?g.setPreprocessHandler(this.$22.bind(this)):g.setPreprocessHandler(this.$23.bind(this)),this.$4&&g.setConcurrentLimit(this.$4));g.subscribe("progress",function(b,c){return e.$17(e.$24(c,a),c)});g.subscribe("failure",function(b,c){return e.$19(e.$24(c,a),c,f)});g.subscribe("start",function(b,c){return e.$16(e.$24(c,a),c)});g.subscribe("success",function(b,c){return e.$18(e.$24(c,a),c)});try{g.send(),this.$15(a)}catch(a){throw a}};e.uploadFiles=function(a){var b=this;a=Array.from(a);var c=[];a.forEach(function(a){var e=d("PhotosUploadID").getNewID();a.uploadID||(a.uploadID=e);b.$6({fileName:a.name,fileURL:h.createObjectURL?h.createObjectURL(a):null,isSpherical:!1,uploadID:e});c.push(e)});a=this.getAsyncFileUploadRequest(a,c);a.send()};e.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$25(a,c);c.subscribe("start",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);return d.$19(c,{upload:e,response:e.getResponse()},a)});return c};e.getAsyncUploadRequest=function(a,b){var c=this;b=this.$25(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};e.$25=function(a,b){a=new(c("AsyncUploadRequest"))().setData(babelHelpers["extends"]({},b&&b.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);(b==null?void 0:b.preventDefaultErrorHandler)&&a.setPreventDefaultErrorHandler(!0);this.$4&&a.setLimit(this.$4);this.$5?a.setPreprocessHandler(this.$22.bind(this)):a.setPreprocessHandler(this.$23.bind(this));for(b in this.$20)a.setOption(b,this.$20[b]);return a};e.$26=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};e.$24=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};e.$23=function(a,d){var e=this;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield e.$27(a,d)})())};e.$27=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.getFile();c=(yield this.$28(c));var d=a.getFile().uploadID;c&&c.isSpherical()?this.$14(c.isSpherical(),c,d):this.$14(!1,null,"");b(a)});function c(b,c){return a.apply(this,arguments)}return c}();e.$22=function(a,d){var e=this;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield e.$29(a,d)})())};e.$28=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("performanceNow")();try{var d=(yield c("SphericalImage").createFromBlob(a));this.$13(a,c("performanceNow")()-b,d);return d}catch(d){this.$12(a,c("performanceNow")()-b);return null}});function d(b){return a.apply(this,arguments)}return d}();e.$30=function(a){return this.$31(this.$5.resizeBlob.bind(this.$5),a)};e.$32=function(a,b){b===void 0&&(b=c("SphericalPhotoTypedConfig").upload_size_limit);return this.$31(this.$5.resize360Blob.bind(this.$5),a,b)};e.$33=function(a){return c("loadImageFromBlob")(a).then(function(a){return{width:a.width,height:a.height}})};e.$31=function(a,d,e){var f=this,g=c("curry")(this.$11,d.uploadID),h=c("curry")(this.$8,d),i=function(){return f.$33(d).then(h)};return new(b("Promise"))(function(b,c){i(),a(d,function(a,d,e,f,g,h,i){a?c(a):e?b({originalWidth:f,originalHeight:g}):b({blob:d,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},g,e)})};e.$29=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.getFile(),f=this.$5.isEligible(e==null?void 0:e.size,e==null?void 0:e.type);if(!e||!d("PhotosMimeType").isJpeg(e.type)||!f){this.$14(!1,null,"");e&&c("promiseDone")(this.$33(e).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",e.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},c("emptyFunction")));b(a);return}f=c("performanceNow")();var g,h;try{var i=null;i=(yield this.$28(e));if(i&&i.isSpherical()){this.$14(!0,i,e.uploadID);var j=i.getSize(),k=c("SphericalPhotoTypedConfig").upload_size_limit,l=i.getProjectionType(),m=!1;m=d("SphericalPhotoUploadHelper").shouldRecompress360(l,i.getBufferLength(),c("SphericalPhotoTypedConfig").upload_bytes_limit);i=d("SphericalPhotoUploadHelper").shouldResize360(l,j,k);j&&(i||m)&&(!i?g=(yield this.$32(e,Math.max(j.x,j.y)-1)):g=(yield this.$32(e)))}else this.$14(!1,null,""),g=(yield this.$30(e));g&&(g.blob!=null&&(h=g.blob,h.uploadID=e.uploadID,h.name=e.name,a.setFile(h)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",e.size).set("original_width",g.originalWidth).set("original_height",g.originalHeight).set("upload_width",g.outputWidth).set("upload_height",g.outputHeight));l=h===null;a.getFile().filename=e.name;this.$9(e,h||e,l,c("performanceNow")()-f,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"))}catch(a){k=c("performanceNow")()-f;this.$10(e,h||e,a,k)}b(a)});function e(b,c){return a.apply(this,arguments)}return e}();e.$21=function(a){return!!a.files&&c("AsyncUploadRequest").isSupported()};return a}();g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("LSClearCommunityMembersAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return a[1]!==e?c[0]=a[1]:c[0]="",b.i64.neq(a[0],e)?b.seq([function(d){return b.fe(b.ftr(b.db.table(170).fetch(),function(d){return b.i64.eq(d.source,a[0])&&d.requestId===c[0]}),function(a){return a["delete"]()})},function(d){return b.fe(b.ftr(b.db.table(189).fetch(),function(d){return b.i64.eq(d.source,a[0])&&d.requestId===c[0]}),function(a){return a["delete"]()})}]):b.seq([function(a){return b.fe(b.ftr(b.db.table(170).fetch(),function(a){return a.requestId===c[0]}),function(a){return a["delete"]()})},function(a){return b.fe(b.ftr(b.db.table(189).fetch(),function(a){return a.requestId===c[0]}),function(a){return a["delete"]()})}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSClearDiscoverableChatsParticipantsAndRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(248).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(249).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSUpsertDiscoverableChatsParticipantsRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(249).put({threadId:a[0],minName:"",source:a[4],maxName:a[5],isLoadingBefore:!1,isLoadingAfter:a[2],hasMoreBefore:!1,hasMoreAfter:a[1],nextPageCursor:a[3]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSFetchDiscoverableChatParticipants",["LSIssueNewTask","LSUpsertDiscoverableChatsParticipantsRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSUpsertDiscoverableChatsParticipantsRanges"),a[0],!1,!0,"",a[2],a[3])},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("cursor",a[1]),d[0].set("source",a[2]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"fetch_discoverable_chat_participant_list",c.i64.cast([0,110006]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpsertCommunityMemberRanges",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.createArray(),d[3]=(d[0].push(c.i64.cast([0,0])),d[0]),a[2]===!0?c.resolve(d[1]=!0):c.seq([function(e){return d[3]=!1,d[4]=c.i64.of_int32(a[1].length),c.i64.gt(d[4],c.i64.cast([0,0]))?c.loopAsync(d[4],function(e){return d[5]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[1],d[5]).then(function(a){return a=a,d[6]=a[0],d[7]=a[1],a})},function(a){return d[3]=d[3]||c.i64.eq(c.i64.cast([0,1]),d[6])}])}):c.resolve()},function(a){return d[1]=d[3]}])},function(b){return a[9]!==f?d[2]=a[9]:d[2]="",c.db.table(189).put({communityId:a[0],isAdmin:d[1],minName:"",source:a[7],requestId:d[2],maxName:a[6],isLoadingBefore:!1,isLoadingAfter:a[4],hasMoreBefore:!1,hasMoreAfter:a[3],nextPageCursor:a[5]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueCommunityMemberListFetch",["LSIssueNewTask","LSUpsertCommunityMemberRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.createArray(),d[4]=(d[0].push(c.i64.cast([0,0])),d[0]),d[1]=c.createArray(),c.sp(b("LSUpsertCommunityMemberRanges"),a[0],a[1],a[2],!1,!0,"",a[5],a[6],a[9],a[11])},function(e){return d[2]=new c.Map(),d[2].set("community_id",a[0]),d[2].set("roles",a[1]),d[2].set("fetch_admins_only",a[2]),d[2].set("cursor",a[4]),d[2].set("source",a[6]),d[2].set("thread_key",a[7]),d[2].set("search_text",a[8]),d[2].set("thread_roles",a[9]),d[2].set("group_thread_id",a[10]),d[2].set("request_id",a[11]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"fetch_community_member_list",c.i64.cast([0,355]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("GroupsCometChatEditChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6706545166025569"}),null);
__d("GroupsCometChatEditChatDialogQuery$Parameters",["GroupsCometChatEditChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatEditChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatEditChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWEditChannelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6707146052634771"}),null);
__d("MWEditChannelDialogQuery$Parameters",["MWEditChannelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEditChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWEditChannelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometChatEditChatDialog.entrypoint",["GroupsCometChatEditChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("GroupsCometChatEditChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatEditChatDialog.react").__setRef("GroupsCometChatEditChatDialog.entrypoint")};g["default"]=a}),98);
__d("MDSBaseCollapsible.react",["CometPressable.react","react","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var d=a.ariaLabel,e=a.children,f=a.isOpen,g=a.onPress,j=a.renderButtonContainer,k=a.renderLabel,l=a.testid;l=a.xstyleForPressable;a=c("useCometUniqueID")();var m=c("useCometUniqueID")(),n=i(function(){g(f)},[f,g]);d=h.jsx(c("CometPressable.react"),{"aria-controls":m,"aria-expanded":f,"aria-label":d,display:"block",id:a,onPress:n,ref:b,testid:void 0,xstyle:l,children:k(f)});return h.jsxs("div",{className:"xh8yej3",children:[h.jsx("div",{className:"xurb0ha x1sxyh0",children:j?j(d):d}),h.jsx("div",{"aria-labelledby":a,className:"xurb0ha x1sxyh0",id:m,role:"region",children:f?e:null})]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);b.displayName="MDSBaseCollapsible";e=b;g["default"]=e}),98);
__d("MWXCollapsible.react",["cr:1290"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1290")}),98);
__d("MWDialogContentTypeValues",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("571")?4:3;b=c("gkx")("571")?"headlineEmphasized4":"headlineEmphasized2";d=c("gkx")("571")?"body4":"body3";e=c("gkx")("571")?"bodyLink4":"bodyLink3";f=c("gkx")("571")?"meta4":"meta3";g.textPairingLevel=a;g.textHeadlineType=b;g.textBodyType=d;g.textBodyLinkType=e;g.textMetaType=f}),98);
__d("MWDialogTextPairing.react",["MWDialogContentTypeValues","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MWXTextPairing.react"),babelHelpers["extends"]({level:d("MWDialogContentTypeValues").textPairingLevel},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSCollapsible.react",["ix","BaseListCell.react","MDSBaseCollapsible.react","MDSText.react","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k={icon:{paddingEnd:"x1pi30zi",paddingStart:"x1ye3gou",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},label:{paddingStart:"xurb0ha",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},pressable:{alignItems:"x6s0dn4",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",display:"x78zum5",minHeight:"x1gg8mnh",$$css:!0}};function a(a,b){var e=a.children,f=a.isOpen,g=a.label,l=a.onPress,m=a.renderButtonContainer;a=a.testid;var n=j(function(a){return i.jsx("div",{className:"x1pi30zi x1ye3gou x1y1aw1k xwib8y2",children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:a?d("fbicon")._(h("505565"),20):d("fbicon")._(h("492454"),20)})})},[]);a=j(function(a){a=n(a);return i.jsx(c("BaseListCell.react"),{addOnEnd:g!=null?a:void 0,addOnEndVerticalAlign:"center",addOnStartVerticalAlign:"center",content:g!=null?i.jsx("div",{className:"xurb0ha xz9dl7a xsag5q8",children:i.jsx(c("MDSText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized4",children:g})}):a})},[g,n]);return i.jsx(c("MDSBaseCollapsible.react"),{isOpen:f,onPress:l,ref:b,renderButtonContainer:m,renderLabel:a,testid:void 0,xstyleForPressable:k.pressable,children:e})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);b.displayName="FDSCollapsible";e=b;g["default"]=e}),98);
__d("LSContactGenderToGenderConst",["GenderConst","I64","LSContactGender","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSContactGender").FEMALE)))return c("GenderConst").FEMALE_SINGULAR;else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSContactGender").MALE)))return c("GenderConst").MALE_SINGULAR;else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSContactGender").NEUTER)))return c("GenderConst").NEUTER_SINGULAR;else return c("GenderConst").NOT_A_PERSON}g.make=a}),98);
__d("MWGroupLimitConfig.bs",["cr:1217"],(function(a,b,c,d,e,f,g){"use strict";g.nonGxac=b("cr:1217").nonGxac,g.armadillo=b("cr:1217").armadillo,g.gxac=b("cr:1217").gxac}),98);
__d("MWGroupLimitConfigForProd.bs",["MAWAbPropsClient"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("MAWAbPropsClient").getAbProps().client_group_participants_limit}b=32;c=256;g.armadillo=a;g.gxac=b;g.nonGxac=c}),98);
__d("MWGroupLimitContainer.bs",["cr:3409"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.children,d=a.groupLimitReachedContent;a=a.thread;a=(a=b("cr:3409")==null?void 0:b("cr:3409")(a))!=null?a:[!1,!1];a=a[0];return a?d:c}c=a;g.make=c}),98);
__d("useHasGroupLimitBeenReachedForThread",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWGroupLimitConfig.bs","MWIsXacGroupThread.bs","MWXacGating.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=[]);var c=a.capabilities,e=a.capabilities2,f=a.capabilities3,g=a.memberCount,h=a.threadType;g=g!=null?d("I64").to_int32(g):0;g=g+((g=(g=b)==null?void 0:g.length)!=null?g:0);var i=d("Int64Hooks").useMemoInt64(function(){var a;a=((a=b)!=null?a:[]).some(function(a){return a.isInstagramAccount});return d("MWXacGating.bs").isGroupsEnabled()?d("MWIsXacGroupThread.bs").check({capabilities:c,capabilities2:e,capabilities3:f,threadType:h})||a:!1},[c,e,f,h,b]);i=i?g>=d("MWGroupLimitConfig.bs").gxac:d("LSMessagingThreadTypeUtil").isSecure(a.threadType)?g>=d("MWGroupLimitConfig.bs").armadillo():g>=d("MWGroupLimitConfig.bs").nonGxac;a=d("MWXacGating.bs").isGroupsEnabled()&&g>=d("MWGroupLimitConfig.bs").gxac;return[i,a]}g["default"]=a}),98);
__d("MWEditChannelDialog.entrypoint",["JSResourceForInteraction","MWEditChannelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MWEditChannelDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWEditChannelDialog.react").__setRef("MWEditChannelDialog.entrypoint")};g["default"]=a}),98);
__d("MessagingSpecialThreadRole",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN:1,THREAD_CREATOR:2,SUPER_ADMIN:3,MODERATOR:4,IG_BROADCAST_CHAT_COLLABORATOR:5,CHAT_HOST:6});f["default"]=a}),66);
__d("MessagingSpecialThreadRoleBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return b==null?!1:d("LSBitFlag").has(d("I64").lsl_(d("I64").one,a),b.threadRoles)}g.has=a}),98);
__d("MWGroupMembershipListItem.bs",["I64","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h={BroadcastChannelParticipant:"broadcastChannelParticipantType",CommunityMember:"communityMemberType",ParticipantAndContact:"participantAndContactType",ServerSearchResult:"serverSearchResultType"};function a(a){if(a.type===h.ParticipantAndContact)return a.participant.isAdmin;if(a.type===h.CommunityMember)return a.communityMember.isAdmin;return a.type===h.BroadcastChannelParticipant?a.participant.isAdmin:!1}function b(a){if(a.type===h.ParticipantAndContact)return a.participant.isModerator;return a.type===h.CommunityMember?a.communityMember.isModerator:!1}function e(a){return a.type===h.CommunityMember?d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,a.communityMember):!1}function f(a){if(a.type===h.ParticipantAndContact)return a.contact.id;if(a.type===h.CommunityMember)return a.communityMember.contactId;return a.type===h.BroadcastChannelParticipant?a.participant.contactId:d("I64").of_string(a.serverSearchResult.resultId)}g.MWGroupMembershipMemberTypes=h;g.isAdmin=a;g.isModerator=b;g.isHost=e;g.contactId=f}),98);
__d("MWGroupMembershipListItemWrapper",["MWGroupMembershipListItem.bs"],(function(a,b,c,d,e,f,g){"use strict";b="ParticipantAndContact";c="CommunityMember";function a(a){switch(a.tag){case"ParticipantAndContact":return{contact:a.value[1],participant:a.value[0],type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact};case"CommunityMember":return{communityMember:a.value,type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember};case"ServerSearchResult":return{serverSearchResult:a.value,type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult};case"BroadcastChannelParticipant":return{participant:a.value,type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.BroadcastChannelParticipant}}}g.participantAndContactType=b;g.communityMemberType=c;g.tToRE=a}),98);
__d("MWXProfilePhoto.react",["CometProfilePhoto.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return h.jsx(c("CometProfilePhoto.react"),babelHelpers["extends"]({},a,{ref:b}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MWLSGroupMembershipMemberCell.react",["fbt","ix","CometLazyPopoverTrigger.react","CometMiddotSeparator.react","CometTooltip.react","GenderConst","I64","IntlVariations","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactGenderToGenderConst","LSGroupParticipantJoinState","LSIntEnum","LSMediaUrl.bs","LSWhatsAppConnectStatus","MAWThreadCutover.bs","MDSListCellPressable.react","MDSTextPairing.react","MWCMThreadTypes.react","MWGroupMembershipListItem.bs","MWInboxRouteBuilder.bs","MWLSContactTypeExactUtils","MWXIcon.react","MWXProfilePhoto.react","MWXText.react","fbicon","getFBTSafeGenderFromGenderConst","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useMemo,l=h._("__JHASH__3WTOYPxVm2l__JHASH__"),m=h._("__JHASH__J1b76x4xKfs__JHASH__"),n=h._("__JHASH__d3jtAkHct5c__JHASH__");function o(a,b){return k(function(){if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult&&a.serverSearchResult.contextLine!=="")return[j.jsx(j.Fragment,{children:a.serverSearchResult.contextLine})];var e=b.filter(function(a){return a!=null});return e.length>0?j.jsx(c("CometMiddotSeparator.react"),{children:e}):null},[a,b])}function p(a){if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact){var b=a.contact,e=a.participant,f=b.blockedByViewerStatus,g=b.gender,h=b.name,i=b.secondaryName,j=b.waConnectStatus,k=e.groupParticipantJoinState,l=e.isSuperAdmin;e=e.subscribeSource;return{gender:d("LSContactGenderToGenderConst").make(g),isBlocked:!d("I64").equal(f,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isInvitedByViewer:d("I64").equal(k,d("LSIntEnum").ofNumber(c("LSGroupParticipantJoinState").INVITED)),isSuperAdmin:l===!0,name:h,nonWaAddressable:d("I64").equal(j,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE)),profilePictureUrl:d("LSMediaUrl.bs").Contact.profilePictureUrl(b),secondaryName:i!=null&&d("MWLSContactTypeExactUtils").isIgContact(b)?i:null,subscribeSource:(g=e)!=null?g:null}}if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember){f=a.communityMember;k=f.isBlocked;l=f.name;h=f.nickname;j=f.profilePictureUrl;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:(b=k)!=null?b:!1,isInvitedByViewer:!1,isSuperAdmin:!1,name:(i=h)!=null?i:l,nonWaAddressable:!1,profilePictureUrl:(e=j)!=null?e:"<PLACEHOLDER>",secondaryName:h!=null?l:null,subscribeSource:null}}if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.BroadcastChannelParticipant){g=a.participant;f=g.isBlocked;k=g.name;b=g.nickname;i=g.profilePictureUrl;j=g.profilePictureUrlFallback;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:(e=f)!=null?e:!1,isInvitedByViewer:!1,isSuperAdmin:!1,name:(h=b)!=null?h:k,nonWaAddressable:!1,profilePictureUrl:(g=(l=i)!=null?l:j)!=null?g:"<PLACEHOLDER>",secondaryName:null,subscribeSource:null}}f=a.serverSearchResult;e=f.displayName;b=f.profilePicUrl;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:!d("I64").equal(f.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isInvitedByViewer:!1,isSuperAdmin:!1,name:e,nonWaAddressable:!1,profilePictureUrl:(h=b)!=null?h:"<PLACEHOLDER>",secondaryName:null,subscribeSource:null}}function q(a,b,c,e,f,g){var i,j,k;i=(i=d("MWGroupMembershipListItem.bs").isAdmin(a))!=null?i:!1;j=(j=d("MWGroupMembershipListItem.bs").isModerator(a))!=null?j:!1;k=(k=d("MWGroupMembershipListItem.bs").isHost(a))!=null?k:!1;a=p(a);var o=a.isInvitedByViewer,q=a.isSuperAdmin,r=a.nonWaAddressable;a=a.subscribeSource;if(b&&r&&!o)return h._("__JHASH__YJ7dDY2F-1___JHASH__").toString();if(b&&!r&&o)return h._("__JHASH__XW-fqo6HqSP__JHASH__").toString();if(a!=null&&q)return c?l:a;if(i&&e)return l;if(j&&g)return m;return k&&f?n:null}function a(a){var b=a.folder,e=a.isMAWParticipantSuperAdmin,f=a.isSecure,g=a.membershipListItem,k=a.onClose,l=a.showAdminIndicator,m=a.showHostIndicator;m=m===void 0?!1:m;var n=a.showInvitedByViewerOnly;n=n===void 0?!1:n;var r=a.showModeratorIndicator;a=a.thread;var s=d("I64").to_string(d("MWGroupMembershipListItem.bs").contactId(g)),t=d("MAWThreadCutover.bs").useGetCutoverSecureThreadKey(s),u=t!=null?d("MWInboxRouteBuilder.bs").buildE2EEThreadURL({thread_key:t}):d("MWInboxRouteBuilder.bs").buildURL({thread_key:s});t=p(g);var v=t.gender,w=t.isBlocked,x=t.isInvitedByViewer,y=t.isSuperAdmin,z=t.name,A=t.profilePictureUrl,B=t.secondaryName;t=t.subscribeSource;var C=d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType),D=o(g,[B,q(g,f,C,l,m,r),w?h._("__JHASH__iywW1hlnypb__JHASH__"):null,t!=null&&!y&&!C?t:null]),E=f&&x&&!n;return j.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{folder:b,isMAWParticipantSuperAdmin:e,membershipListItem:g,onClose:k,onCloseDialog:k,thread:a},popoverResource:c("JSResourceForInteraction")("MWLSGroupMembershipMenu.react").__setRef("MWLSGroupMembershipMemberCell.react"),popoverType:"menu",preloadTrigger:"button",children:function(a,b,e,f,g,l,m){return j.jsx(c("MDSListCellPressable.react"),{addOnEnd:j.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__-R08aUV4n3s__JHASH__",[h._name("name",z,c("getFBTSafeGenderFromGenderConst")(v))]),color:"primary",icon:d("fbicon")._(i("484388"),24),onHoverIn:f,onHoverOut:function(){return g()},onPress:function(){return b()},onPressIn:l,ref:a,testid:void 0}),addOnEndVerticalAlign:"center",addOnStart:j.jsx(c("CometTooltip.react"),{position:"above",tooltip:j.jsx(c("MWXText.react"),{type:"body3",children:h._("__JHASH__gvt-u-jxLjT__JHASH__",[h._name("name",z,c("IntlVariations").GENDER_UNKNOWN)])}),children:j.jsx(c("MWXProfilePhoto.react"),{alt:z,"aria-label":h._("__JHASH__5FWHZ8StuMQ__JHASH__",[h._name("name",z,c("IntlVariations").GENDER_UNKNOWN)]),linkProps:{onNavigate:k,url:u},shape:"circle",size:36,source:{uri:A}})}),content:D!=null?j.jsx(c("MDSTextPairing.react"),{body:j.jsx(c("MWXText.react"),{color:E?"disabled":"secondary",type:"body4",children:D}),headline:j.jsx(c("MWXText.react"),{color:E?"disabled":"primary",type:"headline4",children:z}),level:4}):j.jsx(c("MWXText.react"),{align:"start",numberOfLines:1,type:"headline4",children:z}),size:"medium",testid:void 0,verticalAlign:D==null?"center":"top"},s)}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSGroupMembershipMemberList.bs",["fbt","I64","Int64Hooks","LSGroupParticipantJoinState","LSIntEnum","LSMessagingThreadTypeUtil","MAWThreadId","MWDialogTextPairing.react","MWGroupMembershipListItem.bs","MWLSGroupMembershipMemberCell.react","Promise","cr:6416","emptyFunction","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState;function a(a){var e=a.folder,f=a.participantsAndContacts,g=a.showAdmodIndicator,k=a.showHostsOnly,l=a.showAdmodsOnly,m=a.showInvitedByViewerOnly,n=a.thread,o=a.onClose,p=o===void 0?c("emptyFunction"):o;o=a.doSortParticipants;a=o===void 0?!0:o;var q=c("useReStore")();o=j(c("emptyFunction"));var r=o[0],s=o[1];o=l?f.filter(function(a){var b;b=(b=d("MWGroupMembershipListItem.bs").isAdmin(a))!=null?b:!1;a=(a=d("MWGroupMembershipListItem.bs").isModerator(a))!=null?a:!1;return b||a}):m?f.filter(function(a){a=a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact?a.participant.groupParticipantJoinState:d("LSIntEnum").ofNumber(c("LSGroupParticipantJoinState").MEMBER);return d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSGroupParticipantJoinState").INVITED))}):k?f.filter(function(a){return(a=d("MWGroupMembershipListItem.bs").isHost(a))!=null?a:!1}):f;l=a?o.slice(0).sort(function(a,b){if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact&&b.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact)return a.contact.name.localeCompare(b.contact.name);if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember&&b.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember)return a.communityMember.name.localeCompare(b.communityMember.name);return a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult&&b.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult?a.serverSearchResult.displayName.localeCompare(b.serverSearchResult.displayName):0}):o;var t=d("LSMessagingThreadTypeUtil").isSecure(n.threadType);d("Int64Hooks").useEffectInt64(function(){if(b("cr:6416")!=null&&t){var a=b("cr:6416").sendAndReceive;c("promiseDone")(d("MAWThreadId").ofThreadKey(q,n.threadKey).then(function(c){if(c!=null)return a("backend","getGroupSuperAdmin",{threadId:c}).then(function(a){return s(a)});else return b("Promise").resolve()}))}},[q,t,n.threadKey]);return l.length===0&&k?i.jsx("div",{className:"x6s0dn4 xamitd3 x78zum5 x1iyjqo2 xl56j7k x1jxqc7s xdzyupr",children:i.jsx(c("MWDialogTextPairing.react"),{body:h._("__JHASH__M-jFobtfz3M__JHASH__"),bodyColor:"secondary",headline:h._("__JHASH__7DQH5InZyqq__JHASH__"),textAlign:"center"})}):l.map(function(a){var b=d("MWGroupMembershipListItem.bs").contactId(a);return i.jsx(c("MWLSGroupMembershipMemberCell.react"),{folder:e,isMAWParticipantSuperAdmin:t&&r!=null?r===d("I64").to_string(b):!1,isSecure:t,membershipListItem:a,onClose:p,showAdminIndicator:g,showHostIndicator:g,showInvitedByViewerOnly:m,showModeratorIndicator:g,thread:n},d("I64").to_string(b))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMBulkInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMBulkInviteDialog.react").__setRef("MWCMBulkInviteDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMEditChatInfoDialogTrigger.react",["CometCardedDialogLoadingStateLegacy.react","CometEntryPointDialogTrigger.react","GroupsCometChatEditChatDialog.entrypoint","I64","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.thread;return h.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("GroupsCometChatEditChatDialog.entrypoint"),fallback:function(){return h.jsx(c("CometCardedDialogLoadingStateLegacy.react"),{})},otherProps:{enableEditNameOrDescription:!0,onClose:{emptyFunction:c("emptyFunction")}},preloadParams:{threadID:d("I64").to_string(a.threadKey)},children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMLinkShare.react",["fbt","C4gEngagementFalcoEvent","CommunityMessagingEnableState","I64","LSIntEnum","LSThreadBitOffset","URI","XGroupsC4GThreadViewControllerRouteBuilder","cometPushToast","react","useCommunityFolder","useCopyText"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo;function k(a){var b=a.children,e=a.folder;a=a.thread;var f=d("I64").to_string(e.fbGroupId),g=d("I64").to_string(a.threadKey);e=j(function(){return new(c("URI"))(c("XGroupsC4GThreadViewControllerRouteBuilder").buildURL({idorvanity:f,thread_id:g})).setDomain("www.facebook.com").toString()},[f,g]);a=c("useCopyText")({value:e});a[0];e=a[1];var i=a[2];a=function(){i(),c("C4gEngagementFalcoEvent").log(function(){return{action:"tap",event:"thread_user_copy_invite_link",group_id:f,source:"copy_link",surface:"thread_settings",thread_id:g}}),d("cometPushToast").cometPushSimpleToast(h._("__JHASH__NNt0oNKP6tq__JHASH__"))};return b(e,a)}k.displayName=k.name+" [from "+f.id+"]";function l(a){return d("I64").equal((a=a)!=null?a:d("LSIntEnum").ofNumber(c("CommunityMessagingEnableState").ENABLED),d("LSIntEnum").ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED))}function a(a){var b=c("useCommunityFolder")(a),e=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(108),a);return j(function(){if(b!=null&&e)return!l(b.enableState);else return!1},[b,e])}function b(a){var b=a.children;a=a.thread;var e=c("useCommunityFolder")(a),f=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(108),a);if(e!=null&&f)return i.jsx(k,{folder:e,thread:a,children:b});else return null}b.displayName=b.name+" [from "+f.id+"]";g.useShouldShowInviteLink=a;g.MWCMLinkShare=b}),98);
__d("MWMemberListGlimmer.react",["CometGlimmer.react","MDSListCellPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={nameGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"x1oux285",$$css:!0},profileGlimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xc9qbxq",width:"x14qfxbe",$$css:!0}};function a(a){a=a.rowCount;a=a===void 0?3:a;return new Array(a).fill("").map(function(a,b){return h.jsx(c("MDSListCellPressable.react"),{addOnStart:h.jsx(c("CometGlimmer.react"),{index:0,xstyle:i.profileGlimmer}),content:h.jsx(c("CometGlimmer.react"),{index:1,xstyle:i.nameGlimmer}),size:"medium"},b)})}g["default"]=a}),98);
__d("MWParticipantsForBroadcastChannelUtils",["Int64Hooks","LSClearDiscoverableChatsParticipantsAndRanges","LSFactory","LSFetchDiscoverableChatParticipants","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b){var e=c("useReStore")();d("Int64Hooks").useEffectInt64(function(){d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&e.runInTransaction(function(e){return c("LSFetchDiscoverableChatParticipants")(a.threadKey,"",d("LSIntEnum").ofNumber(b),"",c("LSFactory")(e))},"readwrite")},[e,b,a.threadKey,a.threadType])}function b(){var a=c("useReStore")();return h(function(){return a.runInTransaction(function(a){return c("LSClearDiscoverableChatsParticipantsAndRanges")(c("LSFactory")(a))},"readwrite")},[a])}function e(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("discoverable_chat_participants_ranges_v2__generated")).getKeyRange(a)},[b,a],f.id+":71")}g.useFetchBroadcastChannelMembers=a;g.useClearBroadcastChannelParticipantsList=b;g.useMWParticipantsForBroadcastChannelRanges=e}),98);
__d("useCommunityMembers",["I64","Int64Hooks","LSClearCommunityMembersAndRange","LSFactory","LSIntEnum","LSIssueCommunityMemberListFetch","LSVec","MWCMThreadTypes.react","ReQL","ReQLSuspense","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b,e){var g=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("community_members_ranges_v2__generated")).getKeyRange(a).filter(function(a){if(a.requestId!==b)return!1;return e!=null?a.isAdmin===e:!0})},[g,a,e,b],f.id+":42")}function e(a){a===void 0&&(a=7);var b=c("useReStore")();return h(function(e){return b.runInTransaction(function(b){return c("LSClearCommunityMembersAndRange")(d("LSIntEnum").ofNumber(a),e,c("LSFactory")(b))},"readwrite")},[b,a])}function i(a){var e=a.fbGroupId,f=a.thread,g=a.showAdmodsOnly,h=g===void 0?!1:g;g=a.source;var i=g===void 0?d("I64").of_int32(7):g,j=a.requestId,k=c("useReStore")(),l=f.threadKey,m=f.threadType;d("Int64Hooks").useEffectInt64(function(){var a=c("LSVec").make(h?[d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(2)]:[d("LSIntEnum").ofNumber(0)]),f=d("MWCMThreadTypes.react").isBroadcastThread(m)?[d("LSIntEnum").ofNumber(0)]:[],g=function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield k.runInTransaction(function(b){return c("LSIssueCommunityMemberListFetch")(e,a,!1,!1,"","",i,d("I64").equal(i,d("I64").of_int32(0))?void 0:l,void 0,c("LSVec").make(f),void 0,j,c("LSFactory")(b))},"readwrite")});return function(){return g.apply(this,arguments)}}();c("promiseDone")(g())},[k,e,l,m,h,i,j])}g.useCommunityMembersRanges=a;g.useClearMemberList=e;g.useFetchCommunityMembers=i}),98);
__d("MWCMInboxInfoMemberList.react",["fbt","ix","CometLazyDialogTrigger.react","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MDSListCellPressable.react","MDSText.react","MWGroupMembershipListItemWrapper","MWLSGroupMembershipMemberList.bs","MWMemberListGlimmer.react","MWPBumpEntityKey","MWParticipantsForBroadcastChannelUtils","ReQL","ReQLSuspense","TetraIcon.react","fbicon","pageID","promiseDone","react","useCommunityMembers","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useEffect,l="inbox_info_member_list_"+c("pageID"),m=d("I64").of_int32(7);function a(a){var b=a.folder,e=a.thread,g=c("useReStore")(),n=(b==null?void 0:b.fbGroupId)||e.threadKey;d("useCommunityMembers").useFetchCommunityMembers({fbGroupId:n,requestId:l,source:m,thread:e});var o=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("community_members").index("communitySource")).getKeyRange(n,m,l).take(15)},[g,n],f.id+":86");d("MWParticipantsForBroadcastChannelUtils").useFetchBroadcastChannelMembers(e,0);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("discoverable_chat_participants")).getKeyRange(e.threadKey).take(15)},[g,e.threadKey],f.id+":98");var p=d("useCommunityMembers").useClearMemberList(),q=d("MWParticipantsForBroadcastChannelUtils").useClearBroadcastChannelParticipantsList(),r=d("I64").to_string(e.threadKey),s=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType);s=s?a.map(function(a){return d("MWGroupMembershipListItemWrapper").tToRE({tag:"BroadcastChannelParticipant",value:a})}):o.map(function(a){return d("MWGroupMembershipListItemWrapper").tToRE({tag:"CommunityMember",value:a})});k(function(){c("promiseDone")(p(l));q();return function(){c("promiseDone")(p(l)),q()}},[r,p,q]);k(function(){o.length>0&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.cm.member_list","community_members_loaded")},[o.length]);return s.length===0?j.jsx(c("MWMemberListGlimmer.react"),{}):j.jsxs(j.Fragment,{children:[j.jsx(c("MWLSGroupMembershipMemberList.bs"),{doSortParticipants:!1,participantsAndContacts:s,showAdmodIndicator:!0,showAdmodsOnly:!1,showHostsOnly:!1,showInvitedByViewerOnly:!1,thread:e}),j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{folder:b},dialogResource:c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react").__setRef("MWCMInboxInfoMemberList.react"),children:function(a){return j.jsx(c("MDSListCellPressable.react"),{addOnStart:j.jsx("div",{className:"x6s0dn4 xljulmy x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xc9qbxq xl56j7k x14qfxbe",children:j.jsx(c("TetraIcon.react"),{icon:d("fbicon")._(i("485094"),24)})}),content:j.jsx(c("MDSText.react"),{type:"headline4",children:h._("__JHASH__BN54OIlz3MA__JHASH__")}),onPress:function(b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.cm.member_list","see_all"),a()},size:"medium"})}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEditChannelDialogTrigger.react",["CometEntryPointDialogTrigger.react","I64","MWEditChannelDialog.entrypoint","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.thread;return h.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("MWEditChannelDialog.entrypoint"),otherProps:{thread:a},preloadParams:{threadID:d("I64").to_string(a.threadKey)},children:function(a){return b(a)}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSMembersSectionIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("483769"),20);b={icon:a};g.Add=b}),98);
__d("MWMembersSectionIcons.bs",["cr:11273"],(function(a,b,c,d,e,f,g){"use strict";g.Add=b("cr:11273").Add}),98);
__d("useMWAddParticipantDialog",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync.bs","promiseDone","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWLSDatabaseLazySync.bs").useSync(d("LSIntEnum").ofNumber(7)),e=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWAddParticipantOpenDialog.react").__setRef("useMWAddParticipantDialog")),f=e[0];e=c("useCometLazyDialog")(c("JSResourceForInteraction")("MAWAddParticipantSecureDialog.react").__setRef("useMWAddParticipantDialog"));var g=e[0];return function(){c("promiseDone")(b());var e=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);e?g({thread:a}):f({thread:a})}}g["default"]=a}),98);
__d("MWAddMemberToGroupListCell.react",["fbt","MDSListCellPressable.react","MWMembersSectionIcons.bs","MWXIcon.react","MWXText.react","react","useMWAddParticipantDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.testid;b=a.thread;var e=c("useMWAddParticipantDialog")(b);return i.jsx(c("MDSListCellPressable.react"),{addOnStart:i.jsx("div",{className:"x6s0dn4 xljulmy x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xc9qbxq xl56j7k x14qfxbe",children:i.jsx(c("MWXIcon.react"),{icon:d("MWMembersSectionIcons.bs").Add.icon})}),content:i.jsx(c("MWXText.react"),{type:"headline4",children:h._("__JHASH__P1CnLTqi4fK__JHASH__")}),onPress:function(){return e()},size:"medium",testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs",["Int64Hooks","ReQL.bs","ReQLSubscription.bs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(b.table("contacts")))},[b,a.threadKey]),"xqz7ql3u")}b=a;g.useValue=b}),98);
__d("MWInboxInfoMemberList.bs",["fbt","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWGating","MDSListCellPressable.react","MWAddMemberToGroupListCell.react","MWCMIsAnyCMThread","MWGroupLimitContainer.bs","MWGroupMembershipListItem.bs","MWLSFeatureLimitedStatus.bs","MWLSGroupMembershipMemberList.bs","MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){a=a.thread;return i.jsx(d("MWGroupLimitContainer.bs").make,{groupLimitReachedContent:i.jsx(c("MDSListCellPressable.react"),{content:i.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"body4",children:h._("__JHASH____m4bWP_4pT__JHASH__")}),size:"medium"}),thread:a,children:i.jsx(c("MWAddMemberToGroupListCell.react"),{thread:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.thread;var b=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);b=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!b||d("MAWGating").isFeatureLimitEnabled());var e=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(27),a),f=d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs").useValue(a),g=!c("MWCMIsAnyCMThread")(a.threadType);return i.jsxs(i.Fragment,{children:[i.jsx(c("MWLSGroupMembershipMemberList.bs"),{participantsAndContacts:f.map(function(a){var b=a[0];a=a[1];return{contact:a,participant:b,type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact}}),showAdmodIndicator:g,showAdmodsOnly:!1,showHostsOnly:!1,showInvitedByViewerOnly:!1,thread:a}),!b&&e?i.jsx(j,{thread:a}):null]})}b=a;g.make=b}),98);
__d("MWInboxInfoMembersSection.react",["fbt","I64","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWInboxInfoMemberList.bs","MWInboxPersistedUIState","MWPBumpEntityKey","MWXCollapsible.react","cr:4705","gkx","intlSummarizeNumber","react","useCommunityFolder"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="__MWInboxInfoMembersSection.isOpen__";function a(a){a=a.thread;var e=d("MWInboxPersistedUIState").usePersistedUIState(!1,j),f=e[0],g=e[1];e=c("useCommunityFolder")(a);var k=a.memberCount,l=a.threadType,m=c("MWCMIsAnyCMThread")(l);l=d("MWCMThreadTypes.react").isBroadcastThread(l);k=k?"("+c("intlSummarizeNumber")(d("I64").to_int32(k))+")":"";var n=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),o=d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(a.threadType),p=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);l=e!=null&&l?h._("__JHASH__xl4TrC_gZzb__JHASH__",[h._param("member_count",k)]):e!=null&&m?h._("__JHASH__vIXzo8z-i9s__JHASH__",[h._param("member_count",k)]):n&&c("gkx")("3187")||p?h._("__JHASH__1uZ4DO16hPR__JHASH__"):h._("__JHASH__4d9xLPGdRx4__JHASH__");return i.jsx(c("MWXCollapsible.react"),{isOpen:f,label:l,onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","chat_members_section."+(f?"close":"open"));return g(function(a){return!a})},children:b("cr:4705")==null||!(e!=null&&m)&&!o&&!p?i.jsx(d("MWInboxInfoMemberList.bs").make,{thread:a}):i.jsx(b("cr:4705"),{folder:e,thread:a})})}a.displayName=a.name+" [from "+f.id+"]";g.storageKey=j;g.MWInboxInfoMembersSection=a}),98);
__d("XCometGroupAdminActivitiesControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/admin_activities/",Object.freeze({with_note:!1,automatic_action:!1}),void 0);b=a;g["default"]=b}),98);
__d("bs_caml_int32",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b===0)throw{RE_EXN_ID:"Division_by_zero",Error:new Error()};return a/b|0}function b(a,b){if(b===0)throw{RE_EXN_ID:"Division_by_zero",Error:new Error()};return a%b}f.div=a;f.mod_=b}),null);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("exif-js-2.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(){var a=!1,b=this,c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this.EXIFwrapped=a};typeof g!=="undefined"?(typeof h!=="undefined"&&h.exports&&(g=h.exports=c),g.EXIF=c):b.EXIF=c;var d=c.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},e=c.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},f=c.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},j=c.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},k=c.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function l(a){return!!a.exifdata}function m(a,b){b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"";a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");b=atob(a);a=b.length;var c=new ArrayBuffer(a),d=new Uint8Array(c);for(var e=0;e<a;e++)d[e]=b.charCodeAt(e);return c}function n(a,b){var c=new XMLHttpRequest();c.open("GET",a,!0);c.responseType="blob";c.onload=function(a){(this.status==200||this.status===0)&&b(this.response)};c.send()}function o(b,d){function e(a){var e=p(a);b.exifdata=e||{};e=q(a);b.iptcdata=e||{};if(c.isXmpEnabled){e=z(a);b.xmpdata=e||{}}d&&d.call(b)}if(b.src)if(/^data\:/i.test(b.src)){var f=m(b.src);e(f)}else if(/^blob\:/i.test(b.src)){var g=new FileReader();g.onload=function(a){e(a.target.result)};n(b.src,function(a){g.readAsArrayBuffer(a)})}else{var h=new XMLHttpRequest();h.onload=function(){if(this.status==200||this.status===0)e(h.response);else throw"Could not load image";h=null};h.open("GET",b.src,!0);h.responseType="arraybuffer";h.send(null)}else if(self.FileReader&&(b instanceof self.Blob||b instanceof self.File)){var g=new FileReader();g.onload=function(b){a&&!1,e(b.target.result)};g.readAsArrayBuffer(b)}}function p(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e;while(d<b){if(c.getUint8(d)!=255){a&&!1;return!1}e=c.getUint8(d+1);a&&!1;if(e==225){a&&!1;return y(c,d+4,c.getUint16(d+2)-2)}else d+=2+c.getUint16(d+2)}}function q(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2,e=b.byteLength,f=function(a,b){return a.getUint8(b)===56&&a.getUint8(b+1)===66&&a.getUint8(b+2)===73&&a.getUint8(b+3)===77&&a.getUint8(b+4)===4&&a.getUint8(b+5)===4};while(d<e){if(f(c,d)){var g=c.getUint8(d+7);g%2!==0&&(g+=1);g===0&&(g=4);var h=d+8+g;g=c.getUint16(d+6+g);return s(b,h,g);break}d++}}var r={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function s(a,b,c){a=new DataView(a);var d={},e,f,g=b;while(g<b+c)a.getUint8(g)===28&&a.getUint8(g+1)===2&&(f=a.getUint8(g+2),f in r&&(e=a.getInt16(g+3),f=r[f],e=x(a,g+5,e),d.hasOwnProperty(f)?d[f]instanceof Array?d[f].push(e):d[f]=[d[f],e]:d[f]=e)),g++;return d}function t(b,c,d,e,f){var g=b.getUint16(d,!f),h={},i,j,k;for(k=0;k<g;k++)i=d+k*12+2,j=e[b.getUint16(i,!f)],!j&&a&&!1,h[j]=u(b,i,c,d,f);return h}function u(a,b,c,d,e){d=a.getUint16(b+2,!e);var f=a.getUint32(b+4,!e);c=a.getUint32(b+8,!e)+c;var g,h,i,j;switch(d){case 1:case 7:if(f==1)return a.getUint8(b+8,!e);else{d=f>4?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint8(d+i);return g}case 2:d=f>4?c:b+8;return x(a,d,f-1);case 3:if(f==1)return a.getUint16(b+8,!e);else{d=f>2?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint16(d+2*i,!e);return g}case 4:if(f==1)return a.getUint32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getUint32(c+4*i,!e);return g}case 5:if(f==1){d=a.getUint32(c,!e);j=a.getUint32(c+4,!e);h=new Number(d/j);h.numerator=d;h.denominator=j;return h}else{g=[];for(i=0;i<f;i++)d=a.getUint32(c+8*i,!e),j=a.getUint32(c+4+8*i,!e),g[i]=new Number(d/j),g[i].numerator=d,g[i].denominator=j;return g}case 9:if(f==1)return a.getInt32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+4*i,!e);return g}case 10:if(f==1)return a.getInt32(c,!e)/a.getInt32(c+4,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+8*i,!e)/a.getInt32(c+4+8*i,!e);return g}}}function v(a,b,c){var d=a.getUint16(b,!c);return a.getUint32(b+2+d*12,!c)}function w(a,b,c,d){c=v(a,b+c,d);if(!c)return{};else if(c>a.byteLength)return{};c=t(a,b,b+c,j,d);if(c.Compression)switch(c.Compression){case 6:if(c.JpegIFOffset&&c.JpegIFByteCount){d=b+c.JpegIFOffset;b=c.JpegIFByteCount;c.blob=new Blob([new Uint8Array(a.buffer,d,b)],{type:"image/jpeg"})}break;case 1:break;default:}else c.PhotometricInterpretation==2;return c}function x(a,b,c){var d="";for(var e=b;e<b+c;e++)d+=String.fromCharCode(a.getUint8(e));return d}function y(b,c){if(x(b,c,4)!="Exif"){a&&!1;return!1}var g,h,i,j;c=c+6;if(b.getUint16(c)==18761)g=!1;else if(b.getUint16(c)==19789)g=!0;else{a&&!1;return!1}if(b.getUint16(c+2,!g)!=42){a&&!1;return!1}var l=b.getUint32(c+4,!g);if(l<8){a&&!1;return!1}h=t(b,c,c+l,e,g);if(h.ExifIFDPointer){j=t(b,c,c+h.ExifIFDPointer,d,g);for(i in j){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":j[i]=k[i][j[i]];break;case"ExifVersion":case"FlashpixVersion":j[i]=String.fromCharCode(j[i][0],j[i][1],j[i][2],j[i][3]);break;case"ComponentsConfiguration":j[i]=k.Components[j[i][0]]+k.Components[j[i][1]]+k.Components[j[i][2]]+k.Components[j[i][3]];break}h[i]=j[i]}}if(h.GPSInfoIFDPointer){j=t(b,c,c+h.GPSInfoIFDPointer,f,g);for(i in j){switch(i){case"GPSVersionID":j[i]=j[i][0]+"."+j[i][1]+"."+j[i][2]+"."+j[i][3];break}h[i]=j[i]}}h.thumbnail=w(b,c,l,g);return h}function z(b){if(!("DOMParser"in self))return;var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e=new DOMParser();while(d<b-4)if(x(c,d,4)=="http"){var f=d-1,g=c.getUint16(d-2)-1;f=x(c,f,g);g=f.indexOf("xmpmeta>")+8;f=f.substring(f.indexOf("<x:xmpmeta"),g);g=f.indexOf("x:xmpmeta")+10;f=f.slice(0,g)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+f.slice(g);g=e.parseFromString(f,"text/xml");return B(g)}else d++}function A(a){var b={};if(a.nodeType==1){if(a.attributes.length>0){b["@attributes"]={};for(var c=0;c<a.attributes.length;c++){var d=a.attributes.item(c);b["@attributes"][d.nodeName]=d.nodeValue}}}else if(a.nodeType==3)return a.nodeValue;if(a.hasChildNodes())for(d=0;d<a.childNodes.length;d++){c=a.childNodes.item(d);var e=c.nodeName;if(b[e]==null)b[e]=A(c);else{if(b[e].push==null){var f=b[e];b[e]=[];b[e].push(f)}b[e].push(A(c))}}return b}function B(a){try{var b={};if(a.children.length>0)for(var c=0;c<a.children.length;c++){var d=a.children.item(c),e=d.attributes;for(var f in e){var g=e[f],h=g.nodeName;g=g.nodeValue;h!==void 0&&(b[h]=g)}h=d.nodeName;if(typeof b[h]=="undefined")b[h]=A(d);else{if(typeof b[h].push=="undefined"){g=b[h];b[h]=[];b[h].push(g)}b[h].push(A(d))}}else b=a.textContent;return b}catch(a){}}c.enableXmp=function(){c.isXmpEnabled=!0};c.disableXmp=function(){c.isXmpEnabled=!1};c.getData=function(a,b){if((self.Image&&a instanceof self.Image||self.HTMLImageElement&&a instanceof self.HTMLImageElement)&&!a.complete)return!1;!l(a)?o(a,b):b&&b.call(a);return!0};c.getTag=function(a,b){if(!l(a))return;return a.exifdata[b]};c.getIptcTag=function(a,b){if(!l(a))return;return a.iptcdata[b]};c.getAllTags=function(a){if(!l(a))return{};var b;a=a.exifdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.getAllIptcTags=function(a){if(!l(a))return{};var b;a=a.iptcdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.pretty=function(a){if(!l(a))return"";var b;a=a.exifdata;var c="";for(b in a)a.hasOwnProperty(b)&&(typeof a[b]=="object"?a[b]instanceof Number?c+=b+" : "+a[b]+" ["+a[b].numerator+"/"+a[b].denominator+"]\r\n":c+=b+" : ["+a[b].length+" values]\r\n":c+=b+" : "+a[b]+"\r\n");return c};c.readFromBinaryFile=function(a){return p(a)};typeof i==="function"&&i.amd&&i("exif-js",[],function(){return c})}).call(this)}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a}),null);
__d("exif-js",["exif-js-2.3.0"],(function(a,b,c,d,e,f){e.exports=b("exif-js-2.3.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("remove-accents-0.4.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},b=Object.keys(a).join("|"),c=new RegExp(b,"g"),d=new RegExp(b,"");b=function(b){return b.replace(c,function(b){return a[b]})};var e=function(a){return!!a.match(d)};g.exports=b;g.exports.has=e;g.exports.remove=b}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("remove-accents",["remove-accents-0.4.2"],(function(a,b,c,d,e,f){e.exports=b("remove-accents-0.4.2")()}),null);/*FB_PKG_DELIM*/
__d("BootloadedReact",["Bootloader","react"],(function(a,b,c,d,e,f,g){var h=d("react"),i=d("react").useLayoutEffect,j=function(a){c("Bootloader").loadModules(["ReactDOM"],a,"BootloadedReact")};function a(a,b,c){j(function(d){if(c!=null)return d.render(h.jsx(k,{onRender:c,children:a}),b,"BootloadedReact.js");else d.render(a,b,"BootloadedReact.js")})}function b(a){j(function(b){b.unmountComponentAtNode(a)})}function k(a){var b=a.onRender;i(function(){b()},[b]);return a.children}g.render=a;g.unmountComponentAtNode=b}),98);
__d("ContextualThing",["CSS","containsNode","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f,g){function a(a,b){a.setAttribute("data-ownerid",c("getOrCreateDOMID")(b))}function b(a,b){b=b;while(b){if(c("containsNode")(a,b))return!0;b=h(b)}return!1}function h(a){a=a;var b;while(a){if(a.getAttribute&&(b=a.getAttribute("data-ownerid")))return c("ge")(b);a=a.parentNode}return null}function e(a,b){a=a;var e;while(a&&!d("CSS").hasClass(a,b))a.getAttribute&&(e=a.getAttribute("data-ownerid"))?a=c("ge")(e):a=a.parentNode;return a}g.register=a;g.containsIncludingLayers=b;g.getContext=h;g.parentByClass=e}),98);
__d("DOMDimensions",["Style","getDocumentScrollElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a?a.offsetHeight:0;a=a?a.offsetWidth:0;return{height:b,width:a}}function b(a){a=c("getDocumentScrollElement")(a);var b=a.scrollWidth||0;a=a.scrollHeight||0;return{width:b,height:a}}function d(a,b,d,e,f){var g;switch(b){case"left":case"right":case"top":case"bottom":g=[b];break;case"width":g=["left","right"];break;case"height":g=["top","bottom"];break;default:throw Error("Invalid plane: "+b)}b=function(b,d){var e=0;for(var f=0;f<g.length;f++)e+=parseFloat(c("Style").get(a,b+"-"+g[f]+d))||0;return e};return(d?b("padding",""):0)+(e?b("border","-width"):0)+(f?b("margin",""):0)}g.getElementDimensions=a;g.getDocumentDimensions=b;g.measureElementBox=d}),98);
__d("isContentEditable",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a;while(a instanceof HTMLElement){if(a.contentEditable==="true"||a.contentEditable==="plaintext-only")return!0;a=a.parentElement}return!1}f["default"]=a}),66);
__d("isElementInteractive",["isContentEditable"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["EMBED","INPUT","OBJECT","SELECT","TEXTAREA"]),i=new Set(["button","checkbox","radio","submit"]);function a(a){if(!a instanceof HTMLElement)return!1;var b=c("isContentEditable")(a),d=h.has(a.nodeName);a=a instanceof HTMLInputElement&&i.has(a.type);return(b||d)&&!a}g["default"]=a}),98);
__d("KeyEventController",["Bootloader","DOMQuery","Event","Run","emptyFunction","getElementText","isContentEditable","isElementInteractive","isEmpty"],(function(a,b,c,d,e,f,g){var h=null,i={BACKSPACE:[8],TAB:[9],RETURN:[13],ALT:[18],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],NUMPAD_ADD:[43],NUMPAD_SUBSTRACT:[45],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],"`":[192],"[":[219],"]":[221],PAGE_UP:[33],PAGE_DOWN:[34],END:[35],HOME:[36],SPACE:[32],KP_DOT:[46,110],"-":[189],"=":[187],FORWARD_SLASH:[191]},j=(a={},a[8]=1,a[9]=1,a[13]=1,a[27]=1,a[32]=1,a[37]=1,a[63234]=1,a[38]=1,a[63232]=1,a[39]=1,a[63235]=1,a[40]=1,a[63233]=1,a[46]=1,a);b=function(){function a(){var a=this;this.handlers={};["keyup","keydown","keypress"].forEach(function(b){return document.addEventListener(b,a.onkeyevent.bind(a,"on"+b))})}var b=a.prototype;b.mapKey=function(a){a=a;if(/^[0-9]$/.test(a+"")){typeof a!=="number"&&(a=a.charCodeAt(0)-48);return[48+a,96+a]}a+="";var b=i[a.toUpperCase()];return b?b:[a.toUpperCase().charCodeAt(0)]};b.onkeyevent=function(a,b){var d=b;d=c("Event").$E(d);b=this.handlers[d.keyCode]||this.handlers[d.which];if(b)for(var e=0;e<b.length;e++){var f=b[e].callback,g=b[e].filter;try{if(!g||g(d,a)){g=function(){var b=f(d,a),e=d.which||d.keyCode;c("Bootloader").loadModules(["KeyEventTypedLogger"],function(a){new a().setAction("key_shortcut").setKey(d.key||"").setKeyChar(String.fromCharCode(e)).setKeyCode(e).addToExtraData("is_trusted",d.isTrusted).log()},"KeyEventController");if(b===!1)return{v:c("Event").kill(d)}}();if(typeof g==="object")return g.v}}catch(a){}}return!0};b.resetHandlers=function(){for(var a in this.handlers)if(Object.prototype.hasOwnProperty.call(this.handlers,a)){var b=this.handlers[a].filter(function(a){return a.preserve()});b.length?this.handlers[a]=b:delete this.handlers[a]}};a.getInstance=function(){return h||(h=new a())};a.defaultFilter=function(b,d){b=c("Event").$E(b);return a.filterEventTypes(b,d)&&a.filterEventTargets(b,d)&&a.filterEventModifiers(b,d)};a.filterEventTypes=function(a,b){return b==="onkeydown"?!0:!1};a.filterEventTargets=function(a,b){b=a.getTarget();return!c("isElementInteractive")(b)||a.keyCode in j&&(d("DOMQuery").isNodeOfType(b,["input","textarea"])&&b.value.length===0||c("isContentEditable")(b)&&c("getElementText")(b).length===0)};a.filterEventModifiers=function(a,b){return a.ctrlKey||a.altKey||a.metaKey||a.repeat?!1:!0};a.registerKeyAcrossTransitions=function(b,d,e,f){e===void 0&&(e=a.defaultFilter);f===void 0&&(f=!1);return a.registerKey(b,d,e,f,c("emptyFunction").thatReturnsTrue)};a.registerKey=function(b,e,f,g,h){f===void 0&&(f=a.defaultFilter);g===void 0&&(g=!1);h===void 0&&(h=c("emptyFunction").thatReturnsFalse);b=b;var i=a.getInstance(),j=b==null?[]:i.mapKey(b);c("isEmpty")(i.handlers)&&d("Run").onLeave(i.resetHandlers.bind(i));var k={};for(var l=0;l<j.length;l++){b=""+j[l];(!i.handlers[b]||g)&&(i.handlers[b]=[]);var m={callback:e,filter:f,preserve:h};k[b]=m;i.handlers[b].push(m)}return{remove:function(){for(var a in k){if(i.handlers[a]&&i.handlers[a].length){var b=i.handlers[a].indexOf(k[a]);b>=0&&i.handlers[a].splice(b,1)}delete k[a]}}}};a.registerKeyForButtonCallback=function(b,c){return a.registerKey(b,function(){c.click();return!1})};return a}();g["default"]=b}),98);
__d("KeyStatus",["Event","ExecutionEnvironment"],(function(a,b,c,d,e,f,g){var h=null,i=null;function j(){i||(i=c("Event").listen(window,"blur",function(){h=null,k()}))}function k(){i&&(i.remove(),i=null)}function a(a){h=c("Event").getKeyCode(a),j()}function b(){h=null,k()}if(c("ExecutionEnvironment").canUseDOM){f=document.documentElement;if(f)if(f.addEventListener)f.addEventListener("keydown",a,!0),f.addEventListener("keyup",b,!0);else if(f.attachEvent){f=f.attachEvent;f("onkeydown",a);f("onkeyup",b)}}function d(){return!!h}function e(){return h}g.isKeyDown=d;g.getKeyDownCode=e}),98);
__d("BasicVector",[],(function(a,b,c,d,e,f){a=function(){function a(a,b){this.x=a,this.y=b}var b=a.prototype;b.derive=function(b,c){return new a(b,c)};b.toString=function(){return"("+this.x+", "+this.y+")"};b.add=function(a,b){b===void 0&&(b=a.y,a=a.x);a=parseFloat(a);b=parseFloat(b);return this.derive(this.x+a,this.y+b)};b.mul=function(a,b){b===void 0&&(b=a);return this.derive(this.x*a,this.y*b)};b.div=function(a,b){b===void 0&&(b=a);return this.derive(this.x*1/a,this.y*1/b)};b.sub=function(a,b){if(arguments.length===1)return this.add(a.mul(-1));else return this.add(-a,-b)};b.distanceTo=function(a){return this.sub(a).magnitude()};b.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.rotate=function(a){return this.derive(this.x*Math.cos(a)-this.y*Math.sin(a),this.x*Math.sin(a)+this.y*Math.cos(a))};return a}();f["default"]=a}),66);
__d("DOMVector",["BasicVector","getDocumentScrollElement","getElementPosition","getUnboundedScrollPosition","getViewportDimensions"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){b=a.call(this,b,c)||this;b.domain=d||"pure";return b}var d=b.prototype;d.derive=function(a,c,d){return new b(a,c,d||this.domain)};d.add=function(c,d){c instanceof b&&c.getDomain()!=="pure"&&(c=c.convertTo(this.domain));return a.prototype.add.call(this,c,d)};d.convertTo=function(a){if(a!="pure"&&a!="viewport"&&a!="document")return this.derive(0,0);if(a==this.domain)return this.derive(this.x,this.y,this.domain);if(a=="pure")return this.derive(this.x,this.y);if(this.domain=="pure")return this.derive(0,0);var c=b.getScrollPosition("document"),d=this.x,e=this.y;this.domain=="document"?(d-=c.x,e-=c.y):(d+=c.x,e+=c.y);return this.derive(d,e,a)};d.getDomain=function(){return this.domain};b.from=function(a,c,d){return new b(a,c,d)};b.getScrollPosition=function(a){a=a||"document";var b=c("getUnboundedScrollPosition")(window);return this.from(b.x,b.y,"document").convertTo(a)};b.getElementPosition=function(a,b){b=b||"document";a=c("getElementPosition")(a);return this.from(a.x,a.y,"viewport").convertTo(b)};b.getElementDimensions=function(a){return this.from(a.offsetWidth||0,a.offsetHeight||0)};b.getViewportDimensions=function(){var a=c("getViewportDimensions")();return this.from(a.width,a.height,"viewport")};b.getLayoutViewportDimensions=function(){var a=c("getViewportDimensions").layout();return this.from(a.width,a.height,"viewport")};b.getViewportWithoutScrollbarDimensions=function(){var a=c("getViewportDimensions").withoutScrollbars();return this.from(a.width,a.height,"viewport")};b.getDocumentDimensions=function(a){a=c("getDocumentScrollElement")(a);return this.from(a.scrollWidth,a.scrollHeight,"document")};return b}(c("BasicVector"));g["default"]=a}),98);
__d("Vector",["DOMVector","Event","Scroll"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){return a.call(this,parseFloat(b),parseFloat(c),d)||this}var e=b.prototype;e.derive=function(a,c,d){return new b(a,c,d||this.domain)};e.setElementPosition=function(a){var b=this.convertTo("document");a.style.left=parseInt(b.x,10)+"px";a.style.top=parseInt(b.y,10)+"px";return this};e.setElementDimensions=function(a){return this.setElementWidth(a).setElementHeight(a)};e.setElementWidth=function(a){a.style.width=parseInt(this.x,10)+"px";return this};e.setElementHeight=function(a){a.style.height=parseInt(this.y,10)+"px";return this};e.scrollElementBy=function(a){a==document.body?window.scrollBy(this.x,this.y):(d("Scroll").setLeft(a,d("Scroll").getLeft(a)+this.x),d("Scroll").setTop(a,d("Scroll").getTop(a)+this.y));return this};b.from=function(a,c,d){return new b(a,c,d)};b.getEventPosition=function(a,b){b===void 0&&(b="document");a=c("Event").getPosition(a);a=this.from(a.x,a.y,"document");return a.convertTo(b)};b.getTouchEventPosition=function(a,b){b===void 0&&(b="document");a=a.touches[0];a=this.from(a.pageX,a.pageY,"document");return a.convertTo(b)};b.deserialize=function(a){a=a.split(",");return this.from(a[0],a[1])};return b}(c("DOMVector"));g["default"]=a}),98);
__d("Rect",["invariant","$","Vector","react"],(function(a,b,c,d,e,f,g,h){d("react");a=function(){function a(b,d,e,f,g){if(arguments.length===1){if(b instanceof a)return b;if(b instanceof c("Vector"))return new a(b.y,b.x,b.y,b.x,b.domain);typeof b==="string"&&(b=c("$")(b));return a.getElementBounds(b)}typeof b==="number"&&typeof d==="number"&&typeof e==="number"&&typeof f==="number"&&(!g||typeof g==="string")||h(0,1087);Object.assign(this,{t:b,r:d,b:e,l:f,domain:g||"pure"});return this}var b=a.prototype;b.w=function(){return this.r-this.l};b.h=function(){return this.b-this.t};b.getWidth=function(){return this.w()};b.getHeight=function(){return this.h()};b.toString=function(){return"(("+this.l+", "+this.t+"), ("+this.r+", "+this.b+"))"};b.contains=function(b){b=new a(b).convertTo(this.domain);var c=this;return c.l<=b.l&&c.r>=b.r&&c.t<=b.t&&c.b>=b.b};b.intersection=function(b){b=b.convertTo(this.domain);var c=Math.min(this.b,b.getBottom()),d=Math.max(this.l,b.getLeft()),e=Math.min(this.r,b.getRight());b=Math.max(this.t,b.getTop());return c>b&&e>d?new a(b,e,c,d):null};b.isEqualTo=function(a){return this.t===a.t&&this.r===a.r&&this.b===a.b&&this.l===a.l&&this.domain===a.domain};b.add=function(b,d){if(arguments.length==1){b instanceof a&&b.domain!="pure"&&(b=b.convertTo(this.domain));return b instanceof c("Vector")?this.add(b.x,b.y):this}var e=parseFloat(b),f=parseFloat(d);return new a(this.t+f,this.r+e,this.b+f,this.l+e,this.domain)};b.sub=function(a,b){if(arguments.length==1&&a instanceof c("Vector"))return this.add(a.mul(-1));else if(typeof a==="number"&&typeof b==="number")return this.add(-a,-b);return this};b.rotateAroundOrigin=function(b){var c=this.getCenter().rotate(b*Math.PI/2),d=0;b%2?(d=this.h(),b=this.w()):(d=this.w(),b=this.h());var e=c.y-b/2;c=c.x-d/2;b=e+b;d=c+d;return new a(e,d,b,c,this.domain)};b.boundWithin=function(a){var b=0,c=0;this.l<a.l?b=a.l-this.l:this.r>a.r&&(b=a.r-this.r);this.t<a.t?c=a.t-this.t:this.b>a.b&&(c=a.b-this.b);return this.add(b,c)};b.getCenter=function(){return new(c("Vector"))(this.l+this.w()/2,this.t+this.h()/2,this.domain)};b.getTop=function(){return this.t};b.getRight=function(){return this.r};b.getBottom=function(){return this.b};b.getLeft=function(){return this.l};b.getArea=function(){return(this.b-this.t)*(this.r-this.l)};b.getPositionVector=function(){return new(c("Vector"))(this.l,this.t,this.domain)};b.getDimensionVector=function(){return new(c("Vector"))(this.w(),this.h(),"pure")};b.convertTo=function(b){if(this.domain==b)return this;if(b=="pure")return new a(this.t,this.r,this.b,this.l,"pure");if(this.domain=="pure")return new a(0,0,0,0);var d=new(c("Vector"))(this.l,this.t,this.domain).convertTo(b);return new a(d.y,d.x+this.w(),d.y+this.h(),d.x,b)};a.deserialize=function(b){b=b.split(":");return new a(parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]),parseFloat(b[0]))};a.newFromVectors=function(b,c){return new a(b.y,b.x+c.x,b.y+c.y,b.x,b.domain)};a.getElementBounds=function(b){return a.newFromVectors(c("Vector").getElementPosition(b),c("Vector").getElementDimensions(b))};a.getViewportBounds=function(){return a.newFromVectors(c("Vector").getScrollPosition(),c("Vector").getViewportDimensions())};a.getViewportWithoutScrollbarsBounds=function(){return a.newFromVectors(c("Vector").getScrollPosition(),c("Vector").getViewportWithoutScrollbarDimensions())};a.minimumBoundingBox=function(b){var c=new a(Infinity,-Infinity,-Infinity,Infinity),d;for(var e=0;e<b.length;e++)d=b[e],c.t=Math.min(c.t,d.t),c.r=Math.max(c.r,d.r),c.b=Math.max(c.b,d.b),c.l=Math.min(c.l,d.l);return c};return a}();g["default"]=a}),98);
__d("isValidReactElement",[],(function(a,b,c,d,e,f){var g=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;function a(a){return!!(typeof a==="object"&&a!==null&&a.$$typeof===g)}f["default"]=a}),66);
__d("Layer",["invariant","ArbiterMixin","BehaviorsMixin","BootloadedReact","CSS","ContextualThing","DOM","DataStore","Event","FBLogger","HTML","KeyEventController","KeyStatus","Parent","Style","ge","isNode","isValidReactElement","mixin","removeFromArray","setImmediate"],(function(a,b,c,d,e,f,g,h){b("KeyStatus");var i=[],j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,d){var e;e=b.call(this)||this;e._config=a||{};if(d){e._configure(e._config,d);a=e._config.addedBehaviors||[];e.enableBehaviors(e._getDefaultBehaviors().concat(a))}else c("FBLogger")("layer").warn("The markup param wasn't provided to the Layer constructor");return e}var e=a.prototype;e.init=function(a){this._configure(this._config,a);a=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(a));this._initialized=!0;return this};e._configure=function(a,b){var e=this;if(b){var f=c("isNode")(b),g=typeof b==="string"||c("HTML").isHTML(b);this.containsReactComponent=c("isValidReactElement")(b);!f&&!g&&!this.containsReactComponent&&c("FBLogger")("layer").warn("Layer must be init with HTML, DOM node or React instance");if(g)b=c("HTML")(b).getRootNode();else if(this.containsReactComponent){f=document.createElement("div");var h=!0;d("BootloadedReact").render(b,f,function(){e.inform("reactshow"),h||e.updatePosition()});h=!1;b=this._reactContainer=f}}this._root=this._buildWrapper(a,b);a.attributes&&c("DOM").setAttributes(this._root,a.attributes);a.classNames&&a.classNames.forEach(d("CSS").addClass.bind(null,this._root));d("CSS").addClass(this._root,"uiLayer");a.causalElement&&(this._causalElement=c("ge")(a.causalElement));a.permanent&&(this._permanent=a.permanent);a.isStrictlyControlled&&(this._isStrictlyControlled=a.isStrictlyControlled);d("DataStore").set(this._root,"layer",this)};e._getDefaultBehaviors=function(){return[]};e.getCausalElement=function(){return this._causalElement};e.setCausalElement=function(a){this._causalElement=a;return this};e.getInsertParent=function(){return this._insertParent||document.body};e.getRoot=function(){this._root||(this._destroyed?c("FBLogger")("layer").warn("No root node for this Layer. It has either not yet been set or the Layer has been destroyed.  This layer has been destroyed."):c("FBLogger")("layer").warn("No root node for this Layer. It has probably not been set."));return this._root};e.getContentRoot=function(){return this.getRoot()};e._buildWrapper=function(a,b){return b};e.setInsertParent=function(a){a&&(this._shown&&a!==this.getInsertParent()&&(c("DOM").appendContent(a,this.getRoot()),this.updatePosition()),this._insertParent=a);return this};e.showAfterDelay=function(a){window.setTimeout(this.show.bind(this),a)};e.show=function(){var b=this;if(this._shown)return this;var e=this.getRoot();e!=null||h(0,5142);this.inform("beforeshow");c("Style").set(e,"visibility","hidden");c("Style").set(e,"overflow","hidden");d("CSS").show(e);c("DOM").appendContent(this.getInsertParent(),e);this.updatePosition()!==!1?(this._shown=!0,this.inform("show"),a.inform("show",this),this._permanent||window.setTimeout(function(){b._shown&&i.push(b)},0)):d("CSS").hide(e);c("Style").set(e,"visibility","");c("Style").set(e,"overflow","");c("Style").set(e,"opacity","1");this.inform("aftershow");return this};e.hide=function(a){if(this._isStrictlyControlled){this._shown&&this.inform("runhide",a);return this}return this._hide()};e._hide=function(){if(this._hiding||!this._shown||this.inform("beforehide")===!1)return this;this._hiding=!0;this.inform("starthide")!==!1&&this.finishHide();return this};e.conditionShow=function(a){return a?this.show():this._hide()};e.finishHide=function(){if(this._shown){this._permanent||c("removeFromArray")(i,this);this._hiding=!1;this._shown=!1;var b=this.getRoot();b!=null||h(0,5143);d("CSS").hide(b);this.inform("hide");a.inform("hide",this)}};e.isShown=function(){return this._shown};e.updatePosition=function(){return!0};e.destroy=function(){this.containsReactComponent&&d("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var b=this.getRoot();c("DOM").remove(b);this.destroyBehaviors();this.inform("destroy");a.inform("destroy",this);d("DataStore").remove(b,"layer");this._root=this._causalElement=null;this._destroyed=!0};a.init=function(a,b){a.init(b)};a.initAndShow=function(a,b){a.init(b).show()};a.show=function(a){a.show()};a.showAfterDelay=function(a,b){a.showAfterDelay(b)};a.getTopmostLayer=function(){return i[i.length-1]};a.informBlur=function(a){k=null;l=null;var b=i.length;if(!b)return;while(b--){var c=i[b],e=c.getContentRoot();e!=null||h(0,5144);if(d("ContextualThing").containsIncludingLayers(e,a))return;if(c.inform("blur",{target:a})===!1||c.isShown())return}};return a}(c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(j,c("ArbiterMixin"));Object.assign(j.prototype,{_destroyed:!1,_initialized:!1,_root:null,_shown:!1,_hiding:!1,_causalElement:null,_reactContainer:null});c("Event").listen(document.documentElement,"keydown",function(a){if(c("KeyEventController").filterEventTargets(a,"keydown"))for(var b=i.length-1;b>=0;b--)if(i[b].inform("key",a)===!1)return!1;return!0},c("Event").Priority.URGENT);var k;c("Event").listen(document.documentElement,"mousedown",function(a){k=a.getTarget()});var l;c("Event").listen(document.documentElement,"mouseup",function(a){l=a.getTarget(),c("setImmediate")(function(){k=null,l=null})});c("Event").listen(document.documentElement,"click",function(a){var b=k,e=l;k=null;l=null;var f=i.length;if(!f)return;f=a.getTarget();if(f!==e||f!==b)return;if(!c("DOM").contains(document.documentElement,f))return;if(f.offsetWidth!=null&&!f.offsetWidth)return;if(d("Parent").byClass(f,"generic_dialog"))return;j.informBlur(f)});g["default"]=j}),98);/*FB_PKG_DELIM*/
__d("LSDeleteReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(8).fetch([[[a[0],a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.actorId,a[2])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],f,a[7],a[8],a[9],a[10],f,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[4],d[7]=d[4].get("offline_attachment_id"),d[4],d[8]=d[4].get("attachment_type"),d[4],d[9]=d[4].get("filename"),d[4],d[10]=d[4].get("filesize"),d[4],d[11]=d[4].get("attachment_index"),d[4],d[12]=d[4].get("has_media"),d[4],d[13]=d[4].get("has_xma"),d[4],d[14]=d[4].get("playable_url"),d[4],d[15]=d[4].get("playable_url_mime_type"),d[4],d[16]=d[4].get("playable_duration_ms"),d[4],d[17]=d[4].get("preview_url"),d[4],d[18]=d[4].get("preview_url_mime_type"),d[4],d[19]=d[4].get("mini_preview"),d[4],d[20]=d[4].get("preview_width"),d[4],d[21]=d[4].get("preview_height"),d[4],d[22]=d[4].get("xma_layout_type"),d[4],d[23]=d[4].get("xmas_template_type"),d[4],d[24]=d[4].get("cta1_title"),d[4],d[25]=d[4].get("cta2_title"),d[4],d[26]=d[4].get("cta3_title"),d[4],d[27]=d[4].get("image_url"),d[4],d[28]=d[4].get("action_url"),d[4],d[29]=d[4].get("title_text"),d[4],d[30]=d[4].get("subtitle_text"),d[4],d[31]=d[4].get("description_text"),d[4],d[32]=d[4].get("source_text"),d[4],d[33]=d[4].get("original_file_hash"),d[4],d[34]=d[4].get("sound_bite_client_sound_key"),d[4],d[35]=d[4].get("sound_bite_visual"),d[4],d[36]=d[4].get("ephemeral_media_state"),d[4],c.ftr(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,c.i64.cast([0,20]))}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[17],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:c.i64.cast([0,20])}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],f)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?b.i64.cast([0,1]):b.i64.cast([0,3])})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5336064999757079"}),null);
__d("MarketplaceCometReviewOffersDialogQuery$Parameters",["MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"),metadata:{},name:"MarketplaceCometReviewOffersDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCommunityMessagingNUXQuickPromotionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6236665646364985"}),null);
__d("MWCommunityMessagingNUXQuickPromotionQuery$Parameters",["MWCommunityMessagingNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCommunityMessagingNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWCommunityMessagingNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometPhotoGrid.react",["CometAspectRatioContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={item:{boxSizing:"x9f619",flexBasis:"x1yu6fn4",$$css:!0},itemEnlarged:{flexBasis:"x4pfjvb",$$css:!0},itemNarrowSpacing:{paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",$$css:!0},itemWideSpacing:{paddingTop:"xyqdw3p",paddingEnd:"x10ogl3i",paddingBottom:"xg8j3zb",paddingStart:"x1k2j06m",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",$$css:!0},wrapperNarrowSpacing:{marginTop:"x1kgmq87",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x8182xy",$$css:!0},wrapperWideSpacing:{marginTop:"x1198e8h",marginEnd:"xj3m2qm",marginBottom:"x1huwwth",marginStart:"x1uirj4r",$$css:!0}};function j(a,b){return a<2&&b%3===2}function a(a){var b=a.spacing,d=b===void 0?"narrow":b;b=a.uniformGrid;var e=b===void 0?!1:b;b=babelHelpers.objectWithoutPropertiesLoose(a,["spacing","uniformGrid"]);a=h.Children.toArray(b.children);var f=a.length;return h.jsx("div",{className:c("stylex")(i.wrapper,d==="narrow"&&i.wrapperNarrowSpacing,d==="wide"&&i.wrapperWideSpacing),children:h.Children.map(a,function(a,b){return h.jsx("div",{className:c("stylex")(i.item,d==="wide"&&i.itemWideSpacing,d==="narrow"&&i.itemNarrowSpacing,!e&&j(b,f)&&i.itemEnlarged),children:h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:1,children:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MarketplaceCometReviewOffersDialog.entrypoint",["JSResourceForInteraction","MarketplaceCometReviewOffersDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.listingId;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MarketplaceCometReviewOffersDialogQuery$Parameters"),variables:{listingId:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("MarketplaceCometReviewOffersDialog.react").__setRef("MarketplaceCometReviewOffersDialog.entrypoint")};g["default"]=a}),98);
__d("MWCommunityMessagingNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWCommunityMessagingNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{extraProps:{folderId:a.folderId,isFolderRoute:a.isFolderRoute},queries:{queryRef:{parameters:c("MWCommunityMessagingNUXQuickPromotionQuery$Parameters"),variables:{isFolderRoute:a.isFolderRoute}}}}},root:c("JSResourceForInteraction")("MWCommunityMessagingNUXQuickPromotion.react").__setRef("MWCommunityMessagingNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("EmojiFormat.bs",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a.split("_").map(function(a){return parseInt(a,16)})}function a(a){return a.map(function(a){return a.toString(16)}).join("_")}function h(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}function b(a){return h(g(a))}f.codeStringToCodeArray=g;f.codeArrayToCodeString=a;f.codeArrayToUnicode=h;f.codeStringToUnicode=b}),66);
__d("LSEmojiSetsType",[],(function(a,b,c,d,e,f){a=Object.freeze({USER_GENERATED:0,RECENTLY_USED:1});f["default"]=a}),66);
__d("MWChatMessengerReactionsUtils.bs",["EmojiFormat.bs","I64","LSEmojiSetsType","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";b=[{categoryIdx:d("I64").of_string("6"),emoji:"\u2764",emojiIdx:d("I64").zero,sortKey:d("I64").zero,type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:d("I64").zero,emoji:"\ud83d\ude06",emojiIdx:d("I64").of_string("4"),sortKey:d("I64").one,type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:d("I64").zero,emoji:"\ud83d\ude2e",emojiIdx:d("I64").of_string("83"),sortKey:d("I64").of_string("2"),type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:d("I64").zero,emoji:"\ud83d\ude22",emojiIdx:d("I64").of_string("48"),sortKey:d("I64").of_string("3"),type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:d("I64").zero,emoji:"\ud83d\ude20",emojiIdx:d("I64").of_string("51"),sortKey:d("I64").of_string("4"),type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:d("I64").zero,emoji:"\ud83d\udc4d",emojiIdx:d("I64").of_string("130"),sortKey:d("I64").of_string("5"),type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:d("I64").zero,emoji:"\ud83d\udc4e",emojiIdx:d("I64").of_string("131"),sortKey:d("I64").of_string("6"),type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)}];e=b.slice(0,6);var h=d("EmojiFormat.bs").codeArrayToUnicode([10084,65039]),i=d("EmojiFormat.bs").codeArrayToUnicode([10084]);function a(a){if(a===h)return!0;else return a===i}f=6;g.defaultStaticReactions=b;g.defaultCustomizableReactions=e;g.heartType1=h;g.heartType2=i;g.isHeart=a;g.cUSTOM_REACTIONS_NUM=f}),98);
__d("MWChatReactionEmoji.bs",["cr:4707"],(function(a,b,c,d,e,f,g){"use strict";g.make=b("cr:4707")}),98);
__d("MWChatReactionsUtils.bs",["cr:595"],(function(a,b,c,d,e,f,g){"use strict";g.cUSTOM_REACTIONS_NUM=(a=b("cr:595")).cUSTOM_REACTIONS_NUM;g.defaultStaticReactions=a.defaultStaticReactions;g.defaultCustomizableReactions=a.defaultCustomizableReactions;g.heartType1=a.heartType1;g.heartType2=a.heartType2;g.isHeart=a.isHeart}),98);
__d("MWMessageTableFocusTable.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="messages_table";function a(a,b,c){return c.getAttribute("data-scope")===j}e=d("FocusTable.react").createFocusTable(a);d={key:c("CometKeys").UP};var k={key:c("CometKeys").DOWN},l={key:c("CometKeys").LEFT},m={key:c("CometKeys").RIGHT},n=[{command:d,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:function(){}},{command:k,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:function(){}},{command:l,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:function(){}},{command:m,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:function(){}}];function b(a){a=a.children;return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:n,xstyle:!1,children:a})}b.displayName=b.name+" [from "+f.id+"]";h=b;g.scopeID=j;g.scopeQuery=a;g.FocusTable=e;g.keyUp=d;g.keyDown=k;g.keyLeft=l;g.keyRight=m;g.commandConfigs=n;g.keyCommands=h}),98);
__d("MWMessageCellFocusTable.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.react","MWMessageTableFocusTable.bs","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("FocusTable.react").createFocusTable(d("focusScopeQueries").tabbableScopeQuery);var j={key:c("CometKeys").ESCAPE},k={key:c("CometKeys").ENTER},l={key:c("CometKeys").SPACE},m=h._("__JHASH__dr5LK8JTLfs__JHASH__"),n=h._("__JHASH__NgBmedKphX2__JHASH__");function a(a){var b=a.children,e=a.onEnter,f=a.onEscape;a=a.onSpace;var g=[];f!=null&&g.push({command:j,description:m,handler:f});e!=null&&g.push({command:k,description:n,handler:e});a!=null&&g.push({command:l,description:n,handler:a});return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:d("MWMessageTableFocusTable.bs").commandConfigs.concat(g),xstyle:!1,children:b})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.FocusTable=b;g.$$escape=j;g.enter=k;g.space=l;g.keyCommands=e}),98);
__d("useIsMultiReactionEnabled",["LSIntEnum","LSThreadBitOffset","MWLSThread","gkx"],(function(a,b,c,d,e,f,g){"use strict";b=20;function a(a){return(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(156),a)&&c("gkx")("8266")}))!=null?a:!1}g.MAX_REACTION_COUNT=b;g.useIsMultiReactEnabled=a}),98);
__d("MWCommunityMessagingNUXDialog.react",["MWCommunityMessagingNUXQuickPromotionContainer.entrypoint","react","react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react"),{entryPoint:b("MWCommunityMessagingNUXQuickPromotionContainer.entrypoint"),entryPointParams:{folderId:a.folderId,isFolderRoute:a.isFolderRoute||!1},props:{}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWArmadilloLinkContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=e(!1);function a(a){a=a.children;return h.jsx(j.Provider,{value:!0,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.MAWArmadilloLinkProvider=a;g.useMAWArmadilloLink=b}),98);
__d("MAWArmadilloLink.react",["CometLink.react","MAWArmadilloLinkContext.react","cr:820","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.bypassMDS_DO_NOT_USE;e=e===void 0?!1:e;var f=a.children,g=a.color;a.testid;a=babelHelpers.objectWithoutPropertiesLoose(a,["bypassMDS_DO_NOT_USE","children","color","testid"]);var i=d("MAWArmadilloLinkContext.react").useMAWArmadilloLink();if(i&&c("gkx")("3164")){i={disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]};return b("cr:820")!=null&&!e?h.jsx(b("cr:820"),babelHelpers["extends"]({},a,i,{children:f})):h.jsx(c("CometLink.react"),babelHelpers["extends"]({},a,i,{color:g,children:f}))}return f}g["default"]=a}),98);
__d("LSMessageThreadUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_FOR_SPECIFIC_IDS:1,DENY_IF_THREAD_CONTAINS_PAU:2,DENY_IF_THREAD_CONTAINS_WORK_USER:3,DENY_IF_PAGE_THREAD:4,DENY_IF_MARKETPLACE_THREAD:5,DENY_IF_CANNOT_LOAD_THREAD:6,DENY_IF_THREAD_CONTAINS_WORK_USER_FAILING_KILLSWITCH:7,DENY_IF_CANONICAL_THREAD_CONTAINS_BLOCKED_USERS:8,DENY_IF_CANNOT_REPLY_TO_VIEWER_THREAD:9,DENY_IF_UNCONNECTED_THREAD:10});f["default"]=a}),66);
__d("useMWPCanRemoveMessageGlobally",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","ThreadStatus"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=a.cannotUnsendReason!=null?d("I64").equal(a.cannotUnsendReason,d("LSIntEnum").ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;b=b.cannotUnsendReason!=null?d("I64").equal(b.cannotUnsendReason,d("LSIntEnum").ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;a=a.threadStatus!=null&&d("I64").equal(a.threadStatus,d("LSIntEnum").ofNumber(c("ThreadStatus").PAUSED));return e&&b&&!a}g["default"]=a}),98);
__d("StylexHelpers.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};g.styles=a}),98);
__d("EmojiLikeConstants",["EmojiStaticConfig"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({XSMALL:"xsmall",SMALL:"small",MEDIUM:"medium",LARGE:"large"});b={dp16:"xsmall",dp32:"small",dp64:"medium",db64:"medium",dp128:"large"};d=Object.freeze({PICKER:"picker",HOT_LIKE:"hot_like"});e=[983040];f="hot_emoji_source";var h="hot_emoji_size",i="emoji_like",j="\ud83d\udc4d",k=[128077];g.sizeMap=c("EmojiStaticConfig").sizeMap;g.size=a;g.sizeMapTransfer=b;g.source=d;g.FB_THUMBS_UP_EMOJI=e;g.SOURCE_TAG_PREFIX=f;g.TAG_PREFIX_NEW=h;g.TAG_PREFIX_OLD=i;g.THUMBS_UP_EMOJI=j;g.THUMBS_UP_EMOJI_CODES=k}),98);
__d("AudioContextSingleton",["FBLogger"],(function(a,b,c,d,e,f,g){var h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=null;a={get:function(){i==null&&(i=new h());i.state==="closed"&&(c("FBLogger")("project").warn("AudioContext Singleton has been closed"),i=new h());return i}};b=a;g["default"]=b}),98);
__d("XCometMessengerPhotoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_photo/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("LSNullstateDescriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("MWInboxInfoSharedContentQPLLogger.bs",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1};function a(a){h.contents=!0,c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{entrypoint:"side_panel_"+a}},cancelOnUnload:!0})}function b(a){if(h.contents===!1){var b;switch(a){case"media":b="media";break;case"files":b="file";break;case"links":b="link";break}h.contents=!0;c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{content_location:"thread",content_type:b,entrypoint:"thread"}},cancelOnUnload:!0})}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{})}function d(a){var b;switch(a){case"media":b="open_tab_media";break;case"files":b="open_tab_files";break;case"links":b="open_tab_links";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),b,{})}function e(a,b){switch(a){case"media":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_media",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{media_count:b}});return;case"files":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_files",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{files_count:b}});return;case"links":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_links",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{links_count:b}});return}}function f(a){var b;switch(a){case"media":b="media";break;case"files":b="file";break;case"links":b="link";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{string:{content_location:"side_panel",content_type:b}});if(a==="links"){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206"));h.contents=!1;return}}function i(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"side_panel_navigated_back"}}}),h.contents=!1}function j(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"close_info_panel"}}}),h.contents=!1}function k(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"navigated_away"}}}),h.contents=!1}function l(){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206")),h.contents=!1}function m(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"closed_viewer"}}}),h.contents=!1}g.logOpenSidePanel=a;g.logOpenSharedContentFromThread=b;g.logOpenTab=d;g.logLoadTab=e;g.logOpenSharedContentFromSidePanel=f;g.logNavigateBackFromSidePanel=i;g.logCloseInfoPanel=j;g.logNavigateAwaySidePanel=k;g.logOpenContentViewer=l;g.logCloseContentViewer=m}),98);
__d("LsFalcoEventEntryPoint.bs",[],(function(a,b,c,d,e,f){"use strict";a="message_actions";b="composer";c="icebreaker";f.messageActions=a;f.composer=b;f.icebreaker=c}),66);
__d("MWChatVideoPlayerControls.react",["VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerFullscreenControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubber.react","VideoPlayerVolumeControl.react","react","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return h.jsx("span",{className:"x12y6twl x1g0ag68",children:a.children})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=c("useVideoPlayerDefaultControlsVisibility")(),e=b.isControlsVisible;b=b.onUserInteraction;var f=d("VideoPlayerHooks").usePaused();f=c("useVideoPlayerBigPlayButtonOverlay")({forceVisible:f});var g=f.bigPlayButtonElement;f=f.bigPlayButtonIsVisible;var j=d("VideoPlayerHooks").useIsFullscreen();e=e&&!f;f=h.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:e,children:j?h.jsxs(h.Fragment,{children:[h.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[h.jsx(c("VideoPlayerPlaybackControl.react"),{}),h.jsx(c("VideoPlayerPlaybackTimer.react"),{})]}),h.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:h.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:b})}),h.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[h.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:b}),h.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:b})]})]}):h.jsxs(h.Fragment,{children:[h.jsx(d("VideoPlayerControlsGroups.react").Contracted,{children:h.jsx(i,{children:h.jsx(c("VideoPlayerPlaybackControl.react"),{})})}),h.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:h.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:b})}),h.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[a.hideExpandButton?null:h.jsx(i,{children:h.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:b})}),h.jsx(i,{children:h.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:b})})]})]})});return h.jsxs(h.Fragment,{children:[g,f]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerX.react",["VideoPlayerErrorBoundary.react","VideoPlayerXImpl.react","defaultErrorBoundaryFallback","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn;b=b===void 0?!1:b;var d=a.errorBoundaryFallback;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"]);a=h.jsx(c("VideoPlayerXImpl.react"),babelHelpers["extends"]({VideoPlayerShakaPerformanceLoggerClass:null},a));return b?a:h.jsx(c("VideoPlayerErrorBoundary.react"),{description:"VideoPlayerX",fallback:(b=d)!=null?b:c("defaultErrorBoundaryFallback"),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatVideoPlayer.react",["CometProductAttribution","GraphQLVideoAutoplayGatingResult","MWChatVideoAutoplaySettingContext","MWChatVideoPlayerControls.react","VideoPlayerDefaultControls.react","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","getVideoPlayerAutoplayProps","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={link_context:null,rootName:"MWChatMediaRoot.react",tap_point:"unexpected",tracePolicy:"comet.sharedmediaviewer.media",trackingNodes:null},j=function(a,b){switch(a){case"mwchat":return h.jsx(c("MWChatVideoPlayerControls.react"),{hideExpandButton:b===!0});case"default":return h.jsx(c("VideoPlayerDefaultControls.react"),{});case"none":return null;default:return null}};function a(a){var b=a.autoPlaySetting,e=a.controls,f=a.fbid,g=a.hdSrc,k=a.hideExpandButton,l=a.initialForceHD,m=a.originalHeight,n=a.originalWidth;a=a.sdSrc;l=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:g,hdSrcPreferred:(g=l)!=null?g:!1,isExternalMedia:!1,sdSrc:a});g=d("MWChatVideoAutoplaySettingContext").useMWChatVideoAutoplaySetting();if(l==null)return null;a=[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:l,typename:"VideoPlayerProgressiveImplementation"}];l=c("getVideoPlayerAutoplayProps")(d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult("unknown",b!=null?b:g,!0),"respect_user_settings",null);b=c("computeAspectRatio")(n,m);return h.createElement(c("VideoPlayerX.react"),babelHelpers["extends"]({},l,{implementations:a,key:f,loopCount:-1,playerOriginOverride:"messaging",portalingEnabled:!1,productAttribution:{v2:[d("CometProductAttribution").getProductAttributionEntryV2(i)]},subOrigin:"messenger_thread",videoFBID:f,videoPixelsAspectRatio:b}),h.jsx(c("VideoPlayerSurface.react"),{children:j(e,k)}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerBlurpleLogoSvg.react",["react","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.cloneElement,j=b.useMemo;function a(a){var b;b=(b=a.width)!=null?b:"80";a=(a=a.height)!=null?a:"80";var d=c("useCometUniqueID")(),e=j(function(){return i(h.jsx("path",{}),{clipRule:"evenodd",d:"M40 .914C17.995.914.937 17.033.937 38.804c0 11.389 4.668 21.23 12.268 28.026a3.12 3.12 0 011.05 2.227l.212 6.95c.068 2.215 2.358 3.658 4.386 2.763l7.753-3.423a3.115 3.115 0 012.087-.153A42.602 42.602 0 0040 76.695c22.005 0 39.063-16.118 39.063-37.89C79.063 17.033 62.005.915 40 .915z",fill:"url(#"+(d+")"),fillRule:"evenodd",suppressHydrationWarning:!0})},[d]),f=j(function(){return i(h.jsx("radialGradient",{}),{children:h.jsxs(h.Fragment,{children:[h.jsx("stop",{stopColor:"#09F"}),h.jsx("stop",{offset:"0.61",stopColor:"#A033FF"}),h.jsx("stop",{offset:"0.935",stopColor:"#FF5280"}),h.jsx("stop",{offset:"1",stopColor:"#FF7061"})]}),cx:"0",cy:"0",gradientTransform:"rotate(-57.092 80.25 24.628) scale(85.1246)",gradientUnits:"userSpaceOnUse",id:d,r:"1",suppressHydrationWarning:!0})},[d]);return h.jsxs("svg",{fill:"none",height:a,viewBox:" 0 0 80 80",width:b,children:[e,h.jsx("path",{clipRule:"evenodd",d:"M16.543 49.886L28.018 31.68a5.86 5.86 0 018.472-1.563l9.127 6.844a2.343 2.343 0 002.823-.008L60.765 27.6c1.645-1.248 3.793.72 2.692 2.467L51.982 48.272a5.86 5.86 0 01-8.472 1.563l-9.127-6.845a2.344 2.344 0 00-2.823.01l-12.325 9.354c-1.646 1.248-3.793-.72-2.692-2.467z",fill:"#fff",fillRule:"evenodd"}),h.jsx("defs",{children:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useLayoutEffect_SAFE_FOR_SSR",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").useLayoutEffect;b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("MAWMsg",["I64","LSIntEnum","LSMessageReplySourceType","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a===d("WAMsgType").TEXT)return d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE);else if(a===d("WAMsgType").FUTUREPROOF||a===d("WAMsgType").CIPHERTEXT||a!==d("WAMsgType").UNAVAILABLE)return d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").NONE);else return d("LSIntEnum").ofNumber(262144)}function b(a,b,c){if(a===d("WAMsgType").TEXT)if(b)return d("LSIntEnum").ofNumber(8192);else return d("LSIntEnum").ofNumber(1);else if(a===d("WAMsgType").IMAGE||a===d("WAMsgType").VIDEO||a===d("WAMsgType").RAVEN)return d("LSIntEnum").ofNumber(2);else if(a===d("WAMsgType").PTT)return d("LSIntEnum").ofNumber(4);else if(a===d("WAMsgType").FUTUREPROOF)return d("LSIntEnum").ofNumber(131072);else if(a===d("WAMsgType").CIPHERTEXT)return d("LSIntEnum").ofNumber(65536);else if(a===d("WAMsgType").UNAVAILABLE)return d("LSIntEnum").ofNumber(262144);else if(a===d("WAMsgType").GIF)return d("LSIntEnum").ofNumber(16384);else if(a===d("WAMsgType").STICKER)return d("LSIntEnum").ofNumber(4096);else if(a===d("WAMsgType").DOCUMENT_FILE)return d("LSIntEnum").ofNumber(64);else if(a===d("WAMsgType").XMA)if(c!=null&&c)return d("LSIntEnum").ofNumber(256);else return d("LSIntEnum").ofNumber(1024);else return d("LSIntEnum").ofNumber(1)}function e(a){a=a.displayedContentTypes;return d("I64").equal(a,d("LSIntEnum").ofNumber(2))||d("I64").equal(a,d("LSIntEnum").ofNumber(4))||d("I64").equal(a,d("LSIntEnum").ofNumber(16384))||d("I64").equal(a,d("LSIntEnum").ofNumber(16))||d("I64").equal(a,d("LSIntEnum").ofNumber(64))||d("I64").equal(a,d("LSIntEnum").ofNumber(4096))}function f(a){a=a.displayedContentTypes;if(d("I64").equal(a,d("LSIntEnum").ofNumber(32)))return!0;else return!1}function h(a){a=a.displayedContentTypes;if(d("I64").equal(a,d("LSIntEnum").ofNumber(1024)))return!0;else return!1}function i(a){a=a.displayedContentTypes;if(d("I64").equal(a,d("LSIntEnum").ofNumber(65536))||d("I64").equal(a,d("LSIntEnum").ofNumber(131072)))return!0;else return d("I64").equal(a,d("LSIntEnum").ofNumber(262144))}a=a;b=b;e=e;f=f;h=h;i=i;g.text=d("WAMsgType").TEXT;g.image=d("WAMsgType").IMAGE;g.video=d("WAMsgType").VIDEO;g.ptt=d("WAMsgType").PTT;g.xma=d("WAMsgType").XMA;g.futureproof=d("WAMsgType").FUTUREPROOF;g.ciphertext=d("WAMsgType").CIPHERTEXT;g.unavailable=d("WAMsgType").UNAVAILABLE;g.unsent=d("WAMsgType").REVOKED;g.gif=d("WAMsgType").GIF;g.sticker=d("WAMsgType").STICKER;g.raven=d("WAMsgType").RAVEN;g.documentFile=d("WAMsgType").DOCUMENT_FILE;g.replyMsgTypeToLSReplySourceType=a;g.getDisplayedContentTypes=b;g.isMediaMsg=e;g.isAdminMsg=f;g.isXMAMsg=h;g.isPlaceholder=i}),98);
__d("MAWFetchNicknames",["I64","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(c,d("I64").of_string(b))).then(function(a){return a==null?void 0:a.nickname})}g["default"]=a}),98);
__d("MAWSubscribeToContactNames",["fbt","$InternalEnum","CurrentUser","Env","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSVerifyContactRowExists","MAWFetchNicknames","Promise","ReQL","Run","SubscriptionsHandler","asyncToGeneratorRuntime","gkx","isStringNullOrEmpty","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("$InternalEnum").Mirrored(["FIRST_NAME","FULL_NAME"]),j=new Map(),k=Boolean(c("Env").isMessengerDotComOnComet)?"Messenger":c("gkx")("1902661")?"Instagram":"Facebook";function l(){return h._("__JHASH__9kaBCOd2SjE__JHASH__",[h._param("Platform Name",k)]).toString()}function a(a,b){return(a=a.get(b))!=null?a:l()}function m(a,b){b=b===i.FULL_NAME?a==null?void 0:a.name:a==null?void 0:a.firstName;return(b=b)!=null?b:a==null?void 0:a.name}function n(a,b,e,f){var g=d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(d("I64").of_string(b)).subscribe(function(a,b){if(b.operation==="delete")return;a=m(b.value,e);if(a==null||a==="")return;c("promiseDone")(f(a),g)});return g}function o(a,c){return b("Promise").all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(d("I64").of_string(b))));return c==null||c.name===""?b:null});return function(a){return c.apply(this,arguments)}}())).then(function(a){return a.filter(Boolean)})}function p(a,b,c,d,e){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){g===void 0&&(g=!1);if(!g&&f!=null){g=(yield c("MAWFetchNicknames")(a,b,f));if(g!=null)return g}f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(d("I64").of_string(b))));return m(f,e)});return q.apply(this,arguments)}function r(a,b){return c("LSVerifyContactRowExists")(d("I64").of_string(b),d("I64").of_int32(c("LSContactIdType").FBID),void 0,void 0,d("I64").of_int32(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("I64").of_int32(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,b===c("CurrentUser").getID(),d("I64").of_int32(c("LSAuthorityLevel").OPTIMISTIC),void 0,void 0,d("I64").of_int32(c("LSContactWorkForeignEntityType").UNKNOWN),d("I64").of_int32(c("LSContactGender").UNKNOWN),d("I64").of_int32(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(a))}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield o(a,c));yield b("Promise").all(c.map(function(b){return r(a,b)}))});return t.apply(this,arguments)}function u(a){var b=function(){var b=j.get(a);b==null?(b=new(c("SubscriptionsHandler"))(),j.set(a,b)):(b.release(),b.engage());return b}(),e=d("Run").onBeforeUnload(function(){j.forEach(function(a){return a.release()}),j.clear()},!1);return{add:function(a){b.addSubscriptions({unsubscribe:a})},release:function(){e.remove(),b.release(),j["delete"](a)}}}function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var d=a.contactIDs,e=a.db,f=a.nameMode,g=f===void 0?i.FIRST_NAME:f,h=a.onResolve;f=a.subscriptionKey;var j=a.txn,k=a.threadKey,m=a.nicknameOnlyForFirstParticipant,o=m===void 0?!1:m;m=a.skipNickname;var q=m===void 0?!1:m;yield s(j,d);var r=new Map(),t=u(f),v=function(a,b){b=(b=r.get(b))!=null?b:l();return[a,b]};a=(yield b("Promise").all(d.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,f){var i=(yield p(j,a,g,k,o&&f>0||q));if(!c("isStringNullOrEmpty")(i)){r.set(f,i);return[a,i]}if(h!=null){var m=n(e,a,g,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){m(),r.set(f,a),r.size===d.length&&(t.release(),yield h(new Map(d.map(v))))});return function(b){return a.apply(this,arguments)}}());t.add(m)}return[a,l()]});return function(b,c){return a.apply(this,arguments)}}())));return new Map(a)});return w.apply(this,arguments)}function e(a){var b=a.contactIDs,c=a.onResolve;a=babelHelpers.objectWithoutPropertiesLoose(a,["contactIDs","onResolve"]);var d=function(a){return b.map(function(b){return(b=a.get(b))!=null?b:l()})},e=function(){return c==null?void 0:function(a){return c(d(a))}}();return v(babelHelpers["extends"]({},a,{contactIDs:b,onResolve:e})).then(d)}g.ContactNameMode=i;g.getUnknownUser=l;g.getContactNameFromLookup=a;g.getMissingContactNames=o;g.getContactNameFromContactID=p;g.fillMissingContacts=s;g.genContacts=v;g.getContactNamesFromContactIDs=e}),98);
__d("MAWDualSendSimplePermissionsManager.bs",["MAWGating"],(function(a,b,c,d,e,f,g){"use strict";function h(){if(d("MAWGating").isOneToOneDualSendTextEnabled())return!0;else return d("MAWGating").isOneToOneDualSendMediaEnabled()}function i(){if(d("MAWGating").isGroupDualSendTextEnabled())return!0;else return d("MAWGating").isGroupDualSendMediaEnabled()}function a(){if(h())return!0;else return i()}function b(){if(d("MAWGating").isOneToOneDualSendMediaEnabled())return!0;else return d("MAWGating").isGroupDualSendMediaEnabled()}g.isOneToOneDualSendUser=h;g.isGroupDualSendUser=i;g.isDualSendUser=a;g.isDualSendMediaUser=b;g.isOneToOneDualSendTextUser=d("MAWGating").isOneToOneDualSendTextEnabled;g.isOneToOneDualSendMediaUser=d("MAWGating").isOneToOneDualSendMediaEnabled;g.isGroupDualSendTextUser=d("MAWGating").isGroupDualSendTextEnabled;g.isGroupDualSendMediaUser=d("MAWGating").isGroupDualSendMediaEnabled}),98);
__d("ArmadilloDataTraceCheckPoint.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";a=d("I64").of_string("63");b=d("I64").of_string("65");c=d("I64").of_string("98");e=d("I64").of_string("504");f=d("I64").of_string("1000");var h=d("I64").of_string("1001"),i=d("I64").of_string("1204"),j=d("I64").of_string("1210"),k=d("I64").of_string("1224"),l=d("I64").of_string("1234"),m=d("I64").of_string("1225");d=d("I64").of_string("2220");g.traceGroupMessage=a;g.armadilloActMessageSend=b;g.traceCreated=c;g.richMediaMediaSendAttachmentType=e;g.traceTextMessage=f;g.traceMediaMessage=h;g.advancedCryptoMEMSendTaskComplete=i;g.deliveryReceiptReceived=j;g.advancedCryptoMEMEncryptionDeviceCount=k;g.advancedCryptoGroupDualSend=l;g.advancedCryptoDualSend=m;g.armadilloTlcControlOpenThread=d}),98);
__d("memoizeByIdentity",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();return function(c){b.has(c)||b.set(c,a.call(this,c));return b.get(c)}}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("CometImageCover.react",["BaseImage_DEPRECATED.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useRef,k=e.useState;d=function(){var a=document.documentElement;return a==null?!0:Boolean("objectFit"in a.style)}();function a(a){a.alt;var b=a.loading,d=a.onError,e=a.onLoad,f=a.src,g=a.style;a=babelHelpers.objectWithoutPropertiesLoose(a,["alt","loading","onError","onLoad","src","style"]);var l=k(null),m=l[0],n=l[1],o=j();l=i(function(){var a=o.current;if(a==null||!(a instanceof HTMLImageElement)||typeof a.src!=="string")return;n(a.src);e!=null&&e()},[e]);return m!=null?h.jsx("div",{className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3",style:babelHelpers["extends"]({backgroundImage:"url("+m+")",backgroundPosition:"center center",backgroundSize:"cover"},g)}):h.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({},a,{className:"xqtp20y xnalus7",loading:b||void 0,onError:d,onLoad:l,ref:o,src:f,style:g}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){return h.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3"},a))}b.displayName=b.name+" [from "+f.id+"]";e=d?b:a;g["default"]=e}),98);
__d("useThrottledComet",["CometThrottle","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useLayoutEffect,j=b.useRef;function a(a,b){b===void 0&&(b=100);var d=j(a);i(function(){d.current=a},[a]);var e=c("useStable")(function(){return c("CometThrottle")(function(){var a=arguments;return d.current==null?void 0:d.current.apply(d,a)},b)});h(function(){return function(){e.cancel()}},[]);return e}g["default"]=a}),98);
__d("StoriesUniqueID",[],(function(a,b,c,d,e,f){"use strict";var g="js_",h=36,i=0;function a(){return g+(i++).toString(h)}f["default"]=a}),66);
__d("useThrottledImpl",["cr:1708227"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1708227")}),98);
__d("useThrottled",["useThrottledImpl"],(function(a,b,c,d,e,f,g){"use strict";f.exports=c("useThrottledImpl")}),34);
__d("WAProtoConst",[],(function(a,b,c,d,e,f){a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e}),66);
__d("WACommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2};b={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};c=babelHelpers["extends"]({},null);e=babelHelpers["extends"]({},null);f=babelHelpers["extends"]({},null);var h=babelHelpers["extends"]({},null);c.internalSpec={remoteJid:[1,d("WAProtoConst").TYPES.STRING],fromMe:[2,d("WAProtoConst").TYPES.BOOL],id:[3,d("WAProtoConst").TYPES.STRING],participant:[4,d("WAProtoConst").TYPES.STRING]};e.internalSpec={commandType:[1,d("WAProtoConst").TYPES.ENUM,a],offset:[2,d("WAProtoConst").TYPES.UINT32],length:[3,d("WAProtoConst").TYPES.UINT32]};f.internalSpec={text:[1,d("WAProtoConst").TYPES.STRING],mentionedJid:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING],commands:[3,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,e]};h.internalSpec={payload:[1,d("WAProtoConst").TYPES.BYTES],version:[2,d("WAProtoConst").TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.FUTURE_PROOF_BEHAVIOR=b;g.MessageKeySpec=c;g.CommandSpec=e;g.MessageTextSpec=f;g.SubProtocolSpec=h}),98);
__d("WAArmadilloXMA.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){a={INFO:0,EYE_OFF:1,NEWS_OFF:2,WARNING:3,PRIVATE:4,NONE:5,MEDIA_LABEL:6,POST_COVER:7,POST_LABEL:8,WARNING_SCREENS:9};b={OPEN_NATIVE:11};c={SINGLE:0,PORTRAIT:3};e={IG_STORY_PHOTO_MENTION:4,IG_SINGLE_IMAGE_POST_SHARE:9,IG_MULTIPOST_SHARE:10,IG_SINGLE_VIDEO_POST_SHARE:11,IG_STORY_PHOTO_SHARE:12,IG_STORY_VIDEO_SHARE:13,IG_CLIPS_SHARE:14,IG_IGTV_SHARE:15,IG_SHOP_SHARE:16,IG_PROFILE_SHARE:19,IG_STORY_PHOTO_HIGHLIGHT_SHARE:20,IG_STORY_VIDEO_HIGHLIGHT_SHARE:21,IG_STORY_REPLY:22,IG_STORY_REACTION:23,IG_STORY_VIDEO_MENTION:24,IG_STORY_HIGHLIGHT_REPLY:25,IG_STORY_HIGHLIGHT_REACTION:26,IG_EXTERNAL_LINK:27,IG_RECEIVER_FETCH:28,FB_FEED_SHARE:1e3,FB_STORY_REPLY:1001,FB_STORY_SHARE:1002,FB_STORY_MENTION:1003,FB_FEED_VIDEO_SHARE:1004,FB_GAMING_CUSTOM_UPDATE:1005,FB_PRODUCER_STORY_REPLY:1006,FB_EVENT:1007,FB_FEED_POST_PRIVATE_REPLY:1008,MSG_EXTERNAL_LINK_SHARE:2e3,MSG_P2P_PAYMENT:2001,MSG_LOCATION_SHARING:2002,RTC_AUDIO_CALL:3e3,RTC_VIDEO_CALL:3001,RTC_MISSED_AUDIO_CALL:3002,RTC_MISSED_VIDEO_CALL:3003,RTC_GROUP_AUDIO_CALL:3004,RTC_GROUP_VIDEO_CALL:3005,RTC_MISSED_GROUP_AUDIO_CALL:3006,RTC_MISSED_GROUP_VIDEO_CALL:3007,DATACLASS_SENDER_COPY:4e3};f=babelHelpers["extends"]({},null);var h=babelHelpers["extends"]({},null);f.internalSpec={associatedMessage:[1,d("WAProtoConst").TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],targetType:[2,d("WAProtoConst").TYPES.ENUM,e],targetUsername:[3,d("WAProtoConst").TYPES.STRING],targetId:[4,d("WAProtoConst").TYPES.STRING],targetExpiringAtSec:[5,d("WAProtoConst").TYPES.INT64],xmaLayoutType:[6,d("WAProtoConst").TYPES.ENUM,c],ctas:[7,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,h],previews:[8,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],titleText:[9,d("WAProtoConst").TYPES.STRING],subtitleText:[10,d("WAProtoConst").TYPES.STRING],maxTitleNumOfLines:[11,d("WAProtoConst").TYPES.UINT32],maxSubtitleNumOfLines:[12,d("WAProtoConst").TYPES.UINT32],favicon:[13,d("WAProtoConst").TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],headerImage:[14,d("WAProtoConst").TYPES.MESSAGE,d("WACommon.pb").SubProtocolSpec],headerTitle:[15,d("WAProtoConst").TYPES.STRING],overlayIconGlyph:[16,d("WAProtoConst").TYPES.ENUM,a],overlayTitle:[17,d("WAProtoConst").TYPES.STRING],overlayDescription:[18,d("WAProtoConst").TYPES.STRING],sentWithMessageId:[19,d("WAProtoConst").TYPES.STRING],messageText:[20,d("WAProtoConst").TYPES.STRING],headerSubtitle:[21,d("WAProtoConst").TYPES.STRING],xmaDataclass:[22,d("WAProtoConst").TYPES.STRING],contentRef:[23,d("WAProtoConst").TYPES.STRING]};h.internalSpec={buttonType:[1,d("WAProtoConst").TYPES.ENUM,b],title:[2,d("WAProtoConst").TYPES.STRING],actionUrl:[3,d("WAProtoConst").TYPES.STRING],nativeUrl:[4,d("WAProtoConst").TYPES.STRING],ctaType:[5,d("WAProtoConst").TYPES.STRING]};g.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH=a;g.EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE=b;g.EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE=c;g.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE=e;g.ExtendedContentMessageSpec=f;g.ExtendedContentMessage$CTASpec=h}),98);/*FB_PKG_DELIM*/
__d("MWMessageDeliverySentTimestamp",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("I64").of_int32(60),j=d("I64").of_int32(60*60),k=d("I64").of_int32(24*60*60),l=d("I64").of_int32(7*24*60*60);function a(a,b){b=d("I64").of_float(b.getTime()/1e3);a=d("I64").div(a,d("I64").of_int32(1e3));b=d("I64").sub(b,a);a=h._("__JHASH__FdnMQ3ayYbi__JHASH__");if(d("I64").lt(b,i))return a;else if(d("I64").lt(b,j)){var c=d("I64").to_string(d("I64").div(b,i));return h._("__JHASH__wurNpoApU1z__JHASH__",[h._param("minutes",c)])}else if(d("I64").lt(b,k)){c=d("I64").to_string(d("I64").div(b,j));return h._("__JHASH__Og6TIDKGh51__JHASH__",[h._param("hours",c)])}else if(d("I64").lt(b,l)){c=d("I64").to_string(d("I64").div(b,k));return h._("__JHASH___ys48wQwNKi__JHASH__",[h._param("days",c)])}else return a}g.getSentTitleWithTimestamp=a}),98);
__d("MWMessageOutgoingStatus.react",["MWMessageDeliverySentTimestamp","MWMessageDeliveryStatus","MWMessageSendingContext.react","MWPThreadTheme.bs","MWStatusText.react","clearTimeout","react","setTimeout","stylex","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState,m=3e3,n={mask:{backgroundColor:"xcrg951",$$css:!0},mountAnimation:{animationDuration:"x4afe7t",animationName:"x1nuzdyh",animationTimingFunction:"x4hg4is",display:"x1rg5ohu",$$css:!0},statusText:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",$$css:!0},statusTextRow:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0}};function a(a){var b=a.alignLeft,e=a.isLastMessage,f=a.message,g=a.status,o=a.xstyle;a=l(!1);var p=a[0],q=a[1],r=k(null),s=k(!1);a=c("MWMessageSendingContext.react").useHook();var t=a.findSendingMessage,u=a.trackSendingMessage,v=a.untrackSendingMessage;a=d("MWPThreadTheme.bs").useHook();var w=c("useServerTime")();i(function(){v(f.offlineThreadingId);g.type==="Sending"?(u(f.offlineThreadingId),r.current=c("setTimeout")(function(){q(!0)},m)):r.current&&c("clearTimeout")(r.current);return function(){r.current&&c("clearTimeout")(r.current)}},[t,f.offlineThreadingId,g.type,u,v]);var x=j(function(){g.type==="Sending"?u(f.offlineThreadingId):t(f.offlineThreadingId)&&(s.current=!0);var a=g.type==="Sending"||s.current;a=[n.statusText,a&&n.mountAnimation,o];switch(g.type){case"Sending":return p?h.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliveryStatus").Titles.sending.toString(),xstyle:a}):null;case"Sent":case"Delivered":return e?h.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliverySentTimestamp").getSentTitleWithTimestamp(f.timestampMs,w).toString(),xstyle:a}):null;case"Error":return h.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:d("MWMessageDeliveryStatus").Titles.error.toString(),xstyle:a});default:return null}},[b,t,e,f.offlineThreadingId,f.timestampMs,w,p,g.type,u,o]);return h.jsx("div",{className:c("stylex")(n.statusTextRow,d("MWPThreadTheme.bs").isGradient(a)?n.mask:!1),"data-testid":void 0,children:x})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSingleSeenHeadRow.react",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWPThreadTheme.bs","MWXTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={mask:{backgroundColor:"xcrg951",$$css:!0},root:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0},singleSeenHeadRow:{display:"x1jfb8zj",$$css:!0}};function a(a){var b=a.head,e=a.text;a=a.xstyle;var f=d("MWPThreadTheme.bs").useHook(),g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return h.jsx("div",{className:c("stylex")(i.root,d("MWPThreadTheme.bs").isGradient(f)?i.mask:!1),"data-testid":void 0,children:h.jsx("div",{className:c("stylex")([i.singleSeenHeadRow,a]),children:h.jsx(c("MWXTooltip.react"),{align:g==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:e,children:h.jsx(c("MWChatSingleSeenHead.react"),{altText:e,head:b})},b.id)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);